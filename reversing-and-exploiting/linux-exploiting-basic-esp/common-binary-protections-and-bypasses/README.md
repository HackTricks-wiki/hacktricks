# 一般的なバイナリ保護

<details>

<summary><strong>htARTE（HackTricks AWS Red Team Expert）</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>でAWSハッキングをゼロからヒーローまで学ぶ</strong></a><strong>！</strong></summary>

HackTricks をサポートする他の方法:

* **HackTricks で企業を宣伝したい** または **HackTricks をPDFでダウンロードしたい場合は** [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop) をチェックしてください！
* [**公式PEASS＆HackTricksのグッズ**](https://peass.creator-spring.com)を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見し、独占的な[**NFTs**](https://opensea.io/collection/the-peass-family)のコレクションを見つける
* **💬 [Discordグループ](https://discord.gg/hRep4RUj7f)** に参加するか、[telegramグループ](https://t.me/peass)に参加するか、**Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)をフォローする
* **HackTricks** と [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) のGitHubリポジトリにPRを提出して、あなたのハッキングテクニックを共有する

</details>

## コアファイルの有効化

**コアファイル** は、プロセスがクラッシュしたときにオペレーティングシステムによって生成されるファイルの一種です。これらのファイルは、クラッシュしたプロセスのメモリイメージ、レジスタ、プログラムカウンタの状態など、終了時の詳細をキャプチャします。このスナップショットは、デバッグやクラッシュの原因を理解するために非常に貴重です。

### **コアダンプの生成を有効化する**

デフォルトでは、多くのシステムはコアファイルのサイズを0に制限しています（つまり、コアファイルを生成しません）が、ディスクスペースを節約するためです。コアファイルの生成を有効にするには、`ulimit`コマンド（bashや類似のシェルで）を使用するか、システム全体の設定を構成できます。

* **ulimitを使用する**: `ulimit -c unlimited`コマンドは、現在のシェルセッションが無制限のサイズのコアファイルを作成できるようにします。これはデバッグセッションに役立ちますが、再起動や新しいセッションを超えて永続的ではありません。
```bash
ulimit -c unlimited
```
* **永続的な設定**: より永続的な解決策として、`/etc/security/limits.conf` ファイルを編集して、`* soft core unlimited` のような行を追加することができます。これにより、すべてのユーザーがセッションで ulimit を手動で設定する必要なく、無制限サイズのコアファイルを生成できます。
```markdown
* soft core unlimited
```
### **GDBを使用したコアファイルの分析**

コアファイルを分析するには、GDB（GNUデバッガ）などのデバッグツールを使用できます。コアダンプを生成した実行可能ファイルがあり、コアファイルの名前が`core_file`であると仮定すると、次のように分析を開始できます：
```bash
gdb /path/to/executable /path/to/core_file
```
このコマンドは、実行可能ファイルとコアファイルをGDBにロードし、クラッシュ発生時のプログラムの状態を調査できます。GDBコマンドを使用してスタックを調査し、変数を調べ、クラッシュの原因を理解できます。
