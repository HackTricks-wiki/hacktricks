<details>

<summary><strong>AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§å­¦ã¶ã«ã¯</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼</strong></summary>

HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•:

* **HackTricksã«ã‚ãªãŸã®ä¼šç¤¾ã‚’åºƒå‘Šæ²è¼‰ã—ãŸã„å ´åˆ**ã‚„**HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„å ´åˆ**ã¯ã€[**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**å…¬å¼PEASS & HackTricksã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’å…¥æ‰‹ã™ã‚‹
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª[**NFTs**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹
* ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã‚„[**telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«**å‚åŠ ã™ã‚‹**ã‹ã€**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)ã‚’**ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹**ã€‚
* [**HackTricks**](https://github.com/carlospolop/hacktricks)ã¨[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®githubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ã€ã‚ãªãŸã®ãƒãƒƒã‚­ãƒ³ã‚°ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã€‚

</details>


ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ãƒªãƒ³ã‚¯ã¯ã€ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã®ãŸã‚ã«Safariã‚’çµŒç”±ã›ãšã«ã€**ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ç›´æ¥ã‚¢ãƒ—ãƒªã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ**ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\
ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ãƒªãƒ³ã‚¯ã¯**ãƒ¦ãƒ‹ãƒ¼ã‚¯**ã§ã‚ã‚Šã€**ä»–ã®ã‚¢ãƒ—ãƒªã«ã‚ˆã£ã¦ä¸»å¼µã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“**ã€‚ãªãœãªã‚‰ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã¨ã‚¢ãƒ—ãƒªãŒé–¢é€£ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã¸ã®æ¨™æº–çš„ãªHTTP(S)ãƒªãƒ³ã‚¯ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã‚‰ã§ã™ã€‚\
ã“ã‚Œã‚‰ã®ãƒªãƒ³ã‚¯ã¯HTTP(S)ã‚¹ã‚­ãƒ¼ãƒ ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãŸã‚ã€**ã‚¢ãƒ—ãƒªãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„å ´åˆã¯ã€SafariãŒãƒªãƒ³ã‚¯ã‚’é–‹ã**ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€**ã‚¢ãƒ—ãƒªãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªãã¦ã‚‚ã‚¢ãƒ—ãƒªã¨é€šä¿¡ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™**ã€‚

ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ãƒªãƒ³ã‚¯ã‚’ä½œæˆã™ã‚‹ã«ã¯ã€è©³ç´°ã‚’å«ã‚€`apple-app-site-association`ã¨ã„ã†JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’**ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™**ã€‚ãã®å¾Œã€ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¦ã‚§ãƒ–ã‚µãƒ¼ãƒãƒ¼ã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«**ãƒ›ã‚¹ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™**ï¼ˆä¾‹ï¼š[https://google.com/apple-app-site-association](https://google.com/apple-app-site-association)ï¼‰ã€‚\
ãƒšãƒãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ã‚¿ãƒ¼ã«ã¨ã£ã¦ã€ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ãƒ‘ã‚¹ã‚’**é–‹ç¤ºã™ã‚‹**ãŸã‚éå¸¸ã«èˆˆå‘³æ·±ã„ã‚‚ã®ã§ã™ã€‚ã¾ã å…¬é–‹ã•ã‚Œã¦ã„ãªã„ãƒªãƒªãƒ¼ã‚¹ã®ãƒ‘ã‚¹ã‚’é–‹ç¤ºã—ã¦ã„ã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚Šã¾ã™ã€‚

## â€‹**é–¢é€£ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã‚¨ãƒ³ã‚¿ã‚¤ãƒˆãƒ«ãƒ¡ãƒ³ãƒˆã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹**

Xcodeã§ã€**Capabilities**ã‚¿ãƒ–ã«ç§»å‹•ã—ã€**Associated Domains**ã‚’æ¢ã—ã¾ã™ã€‚ã¾ãŸã¯ã€`com.apple.developer.associated-domains`ã‚’æ¢ã—ã¦`.entitlements`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª¿ã¹ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚å„ãƒ‰ãƒ¡ã‚¤ãƒ³ã¯`applinks:`ã§ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’ä»˜ã‘ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä¾‹ãˆã°`applinks:www.mywebsite.com`ã®ã‚ˆã†ã«ã€‚

ä»¥ä¸‹ã¯Telegramã®`.entitlements`ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã®ä¾‹ã§ã™ï¼š
```markup
<key>com.apple.developer.associated-domains</key>
<array>
<string>applinks:telegram.me</string>
<string>applinks:t.me</string>
</array>
```
è©³ç´°ãªæƒ…å ±ã¯ã€[ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã•ã‚ŒãŸApple Developer Documentation](https://developer.apple.com/library/archive/documentation/General/Conceptual/AppSearch/UniversalLinks.html#//apple_ref/doc/uid/TP40016308-CH12-SW2)ã§è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ¸ˆã¿ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã—ã‹ãªã„å ´åˆã¯ã€ä»¥ä¸‹ã®ã‚¬ã‚¤ãƒ‰ã«å¾“ã£ã¦entitlementsã‚’æŠ½å‡ºã§ãã¾ã™ï¼š

{% content-ref url="extracting-entitlements-from-compiled-application.md" %}
[extracting-entitlements-from-compiled-application.md](extracting-entitlements-from-compiled-application.md)
{% endcontent-ref %}

## **Apple App Site Associationãƒ•ã‚¡ã‚¤ãƒ«ã®å–å¾—**

å‰ã®ã‚¹ãƒ†ãƒƒãƒ—ã§å–å¾—ã—ãŸé–¢é€£ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã€ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰`apple-app-site-association`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–å¾—ã—ã¦ãã ã•ã„ã€‚ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€`https://<domain>/apple-app-site-association` ã¾ãŸã¯ `https://<domain>/.well-known/apple-app-site-association` ã§HTTPSçµŒç”±ã§ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã§ã‚ã‚Šã€ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãŒãªã„å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ä½¿ç”¨ã—ã¦è‡ªåˆ†ã§å–å¾—ã™ã‚‹ã‹ã€[Apple App Site Association (AASA) Validator](https://branch.io/resources/aasa-validator/)ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚

## **ãƒªãƒ³ã‚¯å—ä¿¡ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒã‚§ãƒƒã‚¯**

ã‚¢ãƒ—ãƒªãŒãƒªãƒ³ã‚¯ã‚’å—ã‘å–ã‚Šã€é©åˆ‡ã«å‡¦ç†ã™ã‚‹ãŸã‚ã«ã¯ã€ã‚¢ãƒ—ãƒªãƒ‡ãƒªã‚²ãƒ¼ãƒˆãŒ[`application:continueUserActivity:restorationHandler:`](https://developer.apple.com/documentation/uikit/uiapplicationdelegate/1623072-application)ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚å…ƒã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æŒã£ã¦ã„ã‚‹å ´åˆã¯ã€ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æ¢ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

ã‚¢ãƒ—ãƒªãŒ[`openURL:options:completionHandler:`](https://developer.apple.com/documentation/uikit/uiapplication/1648685-openurl?language=objc)ã‚’ä½¿ç”¨ã—ã¦ã‚¢ãƒ—ãƒªã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã¸ã®ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ãƒªãƒ³ã‚¯ã‚’é–‹ãå ´åˆã€ãƒªãƒ³ã‚¯ã¯ã‚¢ãƒ—ãƒªå†…ã§é–‹ã‹ã‚Œã¾ã›ã‚“ã€‚å‘¼ã³å‡ºã—ãŒã‚¢ãƒ—ãƒªã‹ã‚‰ç™ºç”Ÿã™ã‚‹ãŸã‚ã€ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ãƒªãƒ³ã‚¯ã¨ã—ã¦å‡¦ç†ã•ã‚Œã¾ã›ã‚“ã€‚

* `webpageURL`ã®ã‚¹ã‚­ãƒ¼ãƒ ã¯HTTPã¾ãŸã¯HTTPSã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ï¼ˆä»–ã®ã‚¹ã‚­ãƒ¼ãƒ ã¯ä¾‹å¤–ã‚’æŠ•ã’ã‚‹ã¹ãã§ã™ï¼‰ã€‚`URLComponents` / `NSURLComponents`ã®[`scheme`ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£](https://developer.apple.com/documentation/foundation/urlcomponents/1779624-scheme)ã‚’ä½¿ç”¨ã—ã¦ã“ã‚Œã‚’ç¢ºèªã§ãã¾ã™ã€‚

## **ãƒ‡ãƒ¼ã‚¿ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒã‚§ãƒƒã‚¯**

iOSãŒãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ãƒªãƒ³ã‚¯ã®çµæœã¨ã—ã¦ã‚¢ãƒ—ãƒªã‚’é–‹ãã¨ãã€ã‚¢ãƒ—ãƒªã¯`NSUserActivityTypeBrowsingWeb`ã®`activityType`å€¤ã‚’æŒã¤`NSUserActivity`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å—ã‘å–ã‚Šã¾ã™ã€‚ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®`webpageURL`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹HTTPã¾ãŸã¯HTTPS URLãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚ä»¥ä¸‹ã®Swiftã®ä¾‹ã¯ã€URLã‚’é–‹ãå‰ã«ã“ã‚Œã‚’æ­£ç¢ºã«æ¤œè¨¼ã—ã¾ã™ï¼š
```swift
func application(_ application: UIApplication, continue userActivity: NSUserActivity,
restorationHandler: @escaping ([UIUserActivityRestoring]?) -> Void) -> Bool {
// ...
if userActivity.activityType == NSUserActivityTypeBrowsingWeb, let url = userActivity.webpageURL {
application.open(url, options: [:], completionHandler: nil)
}

return true
}
```
ã•ã‚‰ã«ã€URLã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒå«ã¾ã‚Œã¦ã„ã‚‹å ´åˆã€ãã‚Œã‚‰ã¯ä¿¡é ¼ã•ã‚ŒãŸãƒ‰ãƒ¡ã‚¤ãƒ³ã‹ã‚‰æ¥ãŸã¨ã—ã¦ã‚‚ã€æ…é‡ã«ã‚µãƒ‹ã‚¿ã‚¤ã‚ºã•ã‚Œã€æ¤œè¨¼ã•ã‚Œã‚‹ã¾ã§ã¯ä¿¡ç”¨ã—ã¦ã¯ã„ã‘ã¾ã›ã‚“ã€‚ä¾‹ãˆã°ã€æ”»æ’ƒè€…ã«ã‚ˆã£ã¦å½è£…ã•ã‚Œã¦ã„ãŸã‚Šã€ä¸æ­£ãªãƒ‡ãƒ¼ã‚¿ã‚’å«ã‚“ã§ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ãã®ã‚ˆã†ãªå ´åˆã€URLå…¨ä½“ã€ãã—ã¦ãã®çµæœã¨ã—ã¦ã®ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ãƒªãƒ³ã‚¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ç ´æ£„ã•ã‚Œãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

`NSURLComponents` APIã¯ã€URLã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è§£æã—ã€æ“ä½œã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã§ãã¾ã™ã€‚ã“ã‚Œã¯ã€`application:continueUserActivity:restorationHandler:` ãƒ¡ã‚½ãƒƒãƒ‰è‡ªä½“ã®ä¸€éƒ¨ã¨ã—ã¦ã‚‚ã€ã¾ãŸã¯ãã‚Œã‹ã‚‰å‘¼ã³å‡ºã•ã‚Œã‚‹åˆ¥ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§è¡Œã‚ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚ä»¥ä¸‹ã®[ä¾‹](https://developer.apple.com/documentation/uikit/core\_app/allowing\_apps\_and\_websites\_to\_link\_to\_your\_content/handling\_universal\_links#3001935)ãŒã“ã‚Œã‚’ç¤ºã—ã¦ã„ã¾ã™ï¼š
```swift
func application(_ application: UIApplication,
continue userActivity: NSUserActivity,
restorationHandler: @escaping ([Any]?) -> Void) -> Bool {
guard userActivity.activityType == NSUserActivityTypeBrowsingWeb,
let incomingURL = userActivity.webpageURL,
let components = NSURLComponents(url: incomingURL, resolvingAgainstBaseURL: true),
let path = components.path,
let params = components.queryItems else {
return false
}

if let albumName = params.first(where: { $0.name == "albumname" })?.value,
let photoIndex = params.first(where: { $0.name == "index" })?.value {
// Interact with album name and photo index

return true

} else {
// Handle when album and/or album name or photo index missing

return false
}
}
```
# å‚è€ƒæ–‡çŒ®

{% embed url="https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#testing-object-persistence-mstg-platform-8" %}



<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)ã§<strong>AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§å­¦ã¶</strong></a><strong>ï¼</strong></summary>

HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•:

* **HackTricksã«ã‚ãªãŸã®ä¼šç¤¾ã‚’åºƒå‘Šã—ãŸã„**ã€ã¾ãŸã¯**HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„**å ´åˆã¯ã€[**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**å…¬å¼PEASS & HackTricksã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’å…¥æ‰‹ã™ã‚‹
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª[**NFTs**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹
* ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã«**å‚åŠ ã™ã‚‹**ã‹ã€[**ãƒ†ãƒ¬ã‚°ãƒ©ãƒ ã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã€ã¾ãŸã¯**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/carlospolopm)ã‚’**ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹**ã€‚
* [**HackTricks**](https://github.com/carlospolop/hacktricks)ã¨[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®githubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ã€ã‚ãªãŸã®ãƒãƒƒã‚­ãƒ³ã‚°ã®ã‚³ãƒ„ã‚’**å…±æœ‰ã™ã‚‹**ã€‚

</details>
