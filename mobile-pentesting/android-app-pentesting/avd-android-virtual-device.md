# AVD - Android Virtual Device

## AVD - Android Virtual Device

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

* ã‚ãªãŸã¯**ã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¼šç¤¾**ã§åƒã„ã¦ã„ã¾ã™ã‹ï¼Ÿ HackTricksã§ã‚ãªãŸã®**ä¼šç¤¾ã‚’å®£ä¼**ã—ãŸã„ã§ã™ã‹ï¼Ÿã¾ãŸã¯ã€**PEASSã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã‚Šã€HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**ã—ãŸã„ã§ã™ã‹ï¼Ÿ[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã¾ã—ã‚‡ã†ã€ç§ãŸã¡ã®ç‹¬å çš„ãª[**NFT**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³
* [**å…¬å¼ã®PEASSï¼†HackTricks swag**](https://peass.creator-spring.com)ã‚’æ‰‹ã«å…¥ã‚Œã¾ã—ã‚‡ã†
* [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«**å‚åŠ **ã™ã‚‹ã‹ã€**Twitter**ã§**ãƒ•ã‚©ãƒ­ãƒ¼**ã—ã¦ãã ã•ã„[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **ãƒãƒƒã‚­ãƒ³ã‚°ã®ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ãŸã‚ã«ã€PRã‚’æå‡ºã—ã¦** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **ã¨** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **ã«å‚åŠ ã—ã¦ãã ã•ã„ã€‚**

</details>

ã“ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä½œæˆã«ã‚ãŸã‚Šã€[**@offsecjay**](https://twitter.com/offsecjay)ã•ã‚“ã«å¤§å¤‰ãŠä¸–è©±ã«ãªã‚Šã¾ã—ãŸã€‚

## ä½•ã§ã™ã‹

Android Studioã§ã¯ã€**APKã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã§ãã‚‹Androidã®ä»®æƒ³ãƒã‚·ãƒ³ã‚’å®Ÿè¡Œ**ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€æ¬¡ã®ã‚‚ã®ãŒå¿…è¦ã§ã™ã€‚

* **Android SDKãƒ„ãƒ¼ãƒ«** - [ã“ã¡ã‚‰ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰](https://developer.android.com/studio/releases/sdk-tools)ã—ã¦ãã ã•ã„ã€‚
* ã¾ãŸã¯**Android Studio**ï¼ˆAndroid SDKãƒ„ãƒ¼ãƒ«ã‚’å«ã‚€ï¼‰ - [ã“ã¡ã‚‰ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰](https://developer.android.com/studio)ã—ã¦ãã ã•ã„ã€‚

Windowsï¼ˆç§ã®å ´åˆï¼‰ã§ã¯ã€**Android Studioã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸå¾Œ**ã€**SDKãƒ„ãƒ¼ãƒ«ãŒæ¬¡ã®å ´æ‰€ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**ã•ã‚Œã¾ã—ãŸï¼š`C:\Users\<UserName>\AppData\Local\Android\Sdk\tools`

## JDK

MacOSãƒã‚·ãƒ³ã§ã¯ã€æ¬¡ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ä»¥ä¸‹ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§è¨€åŠã•ã‚Œã¦ã„ã‚‹CLIã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚
```bash
brew install openjdk@8
```
## GUI

### ä»®æƒ³ãƒã‚·ãƒ³ã®æº–å‚™

Android Studioã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã‚‹å ´åˆã€ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ“ãƒ¥ãƒ¼ã‚’é–‹ãã€æ¬¡ã®å ´æ‰€ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ï¼š_**ãƒ„ãƒ¼ãƒ«**_ --> _**AVDãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼**_ã€‚

![](<../../.gitbook/assets/image (330).png>)

æ¬¡ã«ã€_**ä»®æƒ³ãƒ‡ãƒã‚¤ã‚¹ã®ä½œæˆ**_ ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€_**ä½¿ç”¨ã™ã‚‹é›»è©±æ©Ÿã‚’é¸æŠ**_ ã—ã€_**æ¬¡ã¸**_ ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚\
\_\_ç¾åœ¨ã®ãƒ“ãƒ¥ãƒ¼ã§ã¯ã€é›»è©±æ©ŸãŒå®Ÿè¡Œã™ã‚‹_**Androidã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’é¸æŠã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**_ ã§ãã¾ã™ï¼š

![](<../../.gitbook/assets/image (331).png>)

ã—ãŸãŒã£ã¦ã€ãã‚Œã‚’é¸æŠã—ã€_**ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**_ ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™\*\*ï¼ˆã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒå®Œäº†ã™ã‚‹ã¾ã§å¾…ã¡ã¾ã™ï¼‰ã€‚**\
**ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒå®Œäº†ã—ãŸã‚‰ã€_**æ¬¡ã¸**_ ã¨ _**å®Œäº†**_ ã‚’é¸æŠã—ã¾ã™ã€‚

![](<../../.gitbook/assets/image (332).png>)

ä»®æƒ³ãƒã‚·ãƒ³ãŒä½œæˆã•ã‚Œã¾ã™ã€‚ã“ã‚Œã§ã€**AVDãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã³ã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™**ã€‚

### ä»®æƒ³ãƒã‚·ãƒ³ã®å®Ÿè¡Œ

å®Ÿè¡Œã™ã‚‹ã«ã¯ã€_**é–‹å§‹ãƒœã‚¿ãƒ³**_ ã‚’æŠ¼ã—ã¾ã™ã€‚

![](<../../.gitbook/assets/image (334).png>)

## ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«

### ä»®æƒ³ãƒã‚·ãƒ³ã®æº–å‚™

{% hint style="info" %}
**MacOS** ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ã€å®Ÿè¡Œå¯èƒ½ãƒ•ã‚¡ã‚¤ãƒ«ã¯ `/Users/<username>/Library/Android/sdk/tools/bin` ã«ã‚ã‚Šã¾ã™ã€‚
{% endhint %}

ã¾ãšã€ä½¿ç”¨ã™ã‚‹_**é›»è©±æ©Ÿã‚’æ±ºå®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™**_ã€‚å¯èƒ½ãªé›»è©±æ©Ÿã®ãƒªã‚¹ãƒˆã‚’è¡¨ç¤ºã™ã‚‹ã«ã¯ã€æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ï¼š
```
C:\Users\<UserName>\AppData\Local\Android\Sdk\tools\bin\avdmanager.bat list device

id: 0 or "tv_1080p"
Name: Android TV (1080p)
OEM : Google
Tag : android-tv
---------
id: 1 or "tv_720p"
Name: Android TV (720p)
OEM : Google
Tag : android-tv
---------
id: 2 or "wear_round"
Name: Android Wear Round
OEM : Google
Tag : android-wear
---------
id: 3 or "wear_round_chin_320_290"
Name: Android Wear Round Chin
OEM : Google
Tag : android-wear
---------
id: 4 or "wear_square"
Name: Android Wear Square
OEM : Google
Tag : android-wear
---------
id: 5 or "Galaxy Nexus"
Name: Galaxy Nexus
OEM : Google
---------
id: 6 or "Nexus 10"
Name: Nexus 10
OEM : Google
---------
id: 7 or "Nexus 4"
Name: Nexus 4
OEM : Google
---------
id: 8 or "Nexus 5"
Name: Nexus 5
OEM : Google
---------
id: 9 or "Nexus 5X"
Name: Nexus 5X
OEM : Google
```
ãƒ‡ãƒã‚¤ã‚¹ã®åå‰ã‚’æ±ºã‚ãŸã‚‰ã€ã“ã®ãƒ‡ãƒã‚¤ã‚¹ã§å®Ÿè¡Œã™ã‚‹Androidã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’**æ±ºå®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚**\
`sdkmanager`ã‚’ä½¿ç”¨ã—ã¦ã€ã™ã¹ã¦ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
```bash
C:\Users\<UserName>\AppData\Local\Android\Sdk\tools\bin\sdkmanager.bat --list
```
ãã—ã¦ã€æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã€ä½¿ç”¨ã—ãŸã„ã‚‚ã®ï¼ˆã¾ãŸã¯ã™ã¹ã¦ï¼‰ã‚’**ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**ã—ã¾ã™ã€‚
```bash
C:\Users\<UserName>\AppData\Local\Android\Sdk\tools\bin\sdkmanager.bat "platforms;android-28" "system-images;android-28;google_apis;x86_64"
```
Androidã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã‚‰ã€æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§**ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸAndroidã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä¸€è¦§è¡¨ç¤º**ã§ãã¾ã™ã€‚
```
C:\Users\<UserName>\AppData\Local\Android\Sdk\tools\bin\avdmanager.bat list target
----------
id: 1 or "android-28"
Name: Android API 28
Type: Platform
API level: 28
Revision: 6
----------
id: 2 or "android-29"
Name: Android API 29
Type: Platform
API level: 29
Revision: 4
```
ã“ã®æ™‚ç‚¹ã§ã€ä½¿ç”¨ã™ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã‚’æ±ºã‚ã€Androidã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã®ã§ã€**æ¬¡ã®æ‰‹é †ã§ä»®æƒ³ãƒã‚·ãƒ³ã‚’ä½œæˆã§ãã¾ã™**ï¼š
```bash
C:\Users\<UserName>\AppData\Local\Android\Sdk\tools\bin\avdmanager.bat -v create avd -k "system-images;android-28;google_apis;x86_64" -n "AVD9" -d "Nexus 5X"
```
æœ€å¾Œã®ã‚³ãƒãƒ³ãƒ‰ã§ã¯ã€ãƒ‡ãƒã‚¤ã‚¹ã€ŒNexus 5Xã€ã¨Androidã‚¤ãƒ¡ãƒ¼ã‚¸ã€Œsystem-images;android-28;google\_apis;x86\_64ã€ã‚’ä½¿ç”¨ã—ã¦ã€ã€Œ_AVD9_ã€ã¨ã„ã†åå‰ã®VMã‚’ä½œæˆã—ã¾ã—ãŸã€‚\
ã“ã‚Œã§ã€ä½œæˆã—ãŸä»®æƒ³ãƒã‚·ãƒ³ã®ä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
```bash
C:\Users\<UserName>\AppData\Local\Android\Sdk\tools\bin\avdmanager.bat list avd

Name: AVD9
Device: Nexus 5X (Google)
Path: C:\Users\cpolo\.android\avd\AVD9.avd
Target: Google APIs (Google Inc.)
Based on: Android API 28 Tag/ABI: google_apis/x86_64

The following Android Virtual Devices could not be loaded:
Name: Pixel_2_API_27
Path: C:\Users\cpolo\.android\avd\Pixel_2_API_27_1.avd
Error: Google pixel_2 no longer exists as a device
```
### ä»®æƒ³ãƒã‚·ãƒ³ã®å®Ÿè¡Œ

æ—¢ã«ä½œæˆã—ãŸä»®æƒ³ãƒã‚·ãƒ³ã®ä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹æ–¹æ³•ã‚’è¦‹ã¦ãã¾ã—ãŸãŒã€**ä»¥ä¸‹ã®æ–¹æ³•ã§ã‚‚è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™**:
```bash
C:\Users\<UserName>\AppData\Local\Android\Sdk\tools\emulator.exe -list-avds
AVD9
Pixel_2_API_27
```
æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã€ä½œæˆã—ãŸä»®æƒ³ãƒã‚·ãƒ³ã‚’å®Ÿè¡Œã§ãã¾ã™:

```bash
$ emulator -avd <avd_name>
```

ã¾ãŸã¯ã€Android Studioã®AVD Managerã‹ã‚‰ã‚‚å®Ÿè¡Œã§ãã¾ã™ã€‚
```bash
C:\Users\<UserName>\AppData\Local\Android\Sdk\tools\emulator.exe -avd "VirtualMachineName"
C:\Users\<UserName>\AppData\Local\Android\Sdk\tools\emulator.exe -avd "AVD9"
```
ã¾ãŸã¯ã€ã‚ˆã‚Šé«˜åº¦ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ã—ã¦ã€ä»®æƒ³ãƒã‚·ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚
```bash
C:\Users\<UserName>\AppData\Local\Android\Sdk\tools\emulator.exe -avd "AVD9" -http-proxy 192.168.1.12:8080 -writable-system
```
### ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚ªãƒ—ã‚·ãƒ§ãƒ³

ãŸã ã—ã€ä»®æƒ³ãƒã‚·ãƒ³ã‚’èµ·å‹•ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã§ãã‚‹**ã•ã¾ã–ã¾ãªã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒãŸãã•ã‚“ã‚ã‚Šã¾ã™**ã€‚ä»¥ä¸‹ã«ã„ãã¤ã‹ã®èˆˆå‘³æ·±ã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ç¤ºã—ã¾ã™ãŒã€[**ã“ã“ã§å®Œå…¨ãªãƒªã‚¹ãƒˆã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™**](https://developer.android.com/studio/run/emulator-commandline)

**èµ·å‹•**

* `-snapshot name` : VMã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’é–‹å§‹ã—ã¾ã™
* `-snapshot-list -snapstorage ~/.android/avd/Nexus_5X_API_23.avd/snapshots-test.img` : è¨˜éŒ²ã•ã‚ŒãŸã™ã¹ã¦ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’ãƒªã‚¹ãƒˆã—ã¾ã™

**ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯**

* `-dns-server 192.0.2.0, 192.0.2.255` : VMã«å¯¾ã—ã¦ã‚³ãƒ³ãƒåŒºåˆ‡ã‚Šã§DNSã‚µãƒ¼ãƒãƒ¼ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
* **`-http-proxy 192.168.1.12:8080`** : ä½¿ç”¨ã™ã‚‹HTTPãƒ—ãƒ­ã‚­ã‚·ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼ˆBurpã‚’ä½¿ç”¨ã—ã¦ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã™ã‚‹ã®ã«éå¸¸ã«ä¾¿åˆ©ã§ã™ï¼‰
* `-port 5556` : ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã¨adbã«ä½¿ç”¨ã•ã‚Œã‚‹TCPãƒãƒ¼ãƒˆç•ªå·ã‚’è¨­å®šã—ã¾ã™ã€‚
* `-ports 5556,5559` : ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã¨adbã«ä½¿ç”¨ã•ã‚Œã‚‹TCPãƒãƒ¼ãƒˆã‚’è¨­å®šã—ã¾ã™ã€‚
* **`-tcpdump /path/dumpfile.cap`** : ã™ã¹ã¦ã®ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚­ãƒ£ãƒ—ãƒãƒ£ã—ã¾ã™

**ã‚·ã‚¹ãƒ†ãƒ **

* `-selinux {disabled|permissive}` : Linuxã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ä¸Šã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–Linuxã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ç„¡åŠ¹ã¾ãŸã¯è¨±å®¹ãƒ¢ãƒ¼ãƒ‰ã«è¨­å®šã—ã¾ã™ã€‚
* `-timezone Europe/Paris` : ä»®æƒ³ãƒ‡ãƒã‚¤ã‚¹ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’è¨­å®šã—ã¾ã™
* `-screen {touch(default)|multi-touch|o-touch}` : ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã•ã‚ŒãŸã‚¿ãƒƒãƒã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒ¢ãƒ¼ãƒ‰ã‚’è¨­å®šã—ã¾ã™ã€‚
* **`-writable-system`** : ã“ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã€ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸­ã«æ›¸ãè¾¼ã¿å¯èƒ½ãªã‚·ã‚¹ãƒ†ãƒ ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ã¾ãŸã€`adb root; adb remount`ã‚’å®Ÿè¡Œã™ã‚‹å¿…è¦ã‚‚ã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã‚·ã‚¹ãƒ†ãƒ ã«æ–°ã—ã„è¨¼æ˜æ›¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã®ã«éå¸¸ã«ä¾¿åˆ©ã§ã™ã€‚

## ä»®æƒ³ãƒã‚·ãƒ³ã«Burpè¨¼æ˜æ›¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹

ã¾ãšã€Burpã‹ã‚‰Derå½¢å¼ã®è¨¼æ˜æ›¸ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ _**Proxy**_ --> _**Options**_ --> _**Import / Export CA certificate**_ ã§è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚

![](<../../.gitbook/assets/image (367).png>)

**è¨¼æ˜æ›¸ã‚’Derå½¢å¼ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ**ã—ã€ãã‚Œã‚’**AndroidãŒç†è§£ã§ãã‚‹å½¢å¼ã«å¤‰æ›**ã—ã¾ã—ã‚‡ã†ã€‚æ³¨æ„ç‚¹ã¨ã—ã¦ã€**AVDã®Androidãƒã‚·ãƒ³ã§burpè¨¼æ˜æ›¸ã‚’è¨­å®šã™ã‚‹ã«ã¯ã€ã“ã®ãƒã‚·ãƒ³ã‚’`-writable-system`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™**ã€‚ä¾‹ãˆã°ã€æ¬¡ã®ã‚ˆã†ã«å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼š
```bash
C:\Users\<UserName>\AppData\Local\Android\Sdk\tools\emulator.exe -avd "AVD9" -http-proxy 192.168.1.12:8080 -writable-system
```
æ¬¡ã«ã€**Burpã®è¨¼æ˜æ›¸ã‚’è¨­å®šã™ã‚‹**ã«ã¯ã€ä»¥ä¸‹ã®æ‰‹é †ã‚’å®Ÿè¡Œã—ã¾ã™:
```bash
openssl x509 -inform DER -in burp_cacert.der -out burp_cacert.pem
CERTHASHNAME="`openssl x509 -inform PEM -subject_hash_old -in burp_cacert.pem | head -1`.0"
mv burp_cacert.pem $CERTHASHNAME #Correct name
adb root && adb remount #Allow to write on /syste
adb push $CERTHASHNAME /sdcard/ #Upload certificate
adb shell mv /sdcard/$CERTHASHNAME /system/etc/security/cacerts/ #Move to correct location
adb shell chmod 644 /system/etc/security/cacerts/$CERTHASHNAME #Assign privileges
adb reboot #Now, reboot the machine
```
**ãƒã‚·ãƒ³ã®å†èµ·å‹•ãŒå®Œäº†ã™ã‚‹ã¨**ã€ãƒãƒ¼ãƒ—è¨¼æ˜æ›¸ã¯ãã‚Œã«ã‚ˆã£ã¦ä½¿ç”¨ã•ã‚Œã¾ã™ï¼

## ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’å–ã‚‹

ã„ã¤ã§ã‚‚VMã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’**GUIã‚’ä½¿ç”¨ã—ã¦**å–ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼š

![](<../../.gitbook/assets/image (336).png>)

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

* **ã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¼æ¥­ã§åƒã„ã¦ã„ã¾ã™ã‹**ï¼Ÿ **HackTricksã§ä¼šç¤¾ã‚’å®£ä¼**ã—ãŸã„ã§ã™ã‹ï¼Ÿã¾ãŸã¯ã€**PEASSã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å…¥æ‰‹ã—ãŸã‚Šã€HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**ã—ãŸã„ã§ã™ã‹ï¼Ÿ[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’è¦‹ã¤ã‘ã¦ãã ã•ã„ã€ç§ãŸã¡ã®ç‹¬å çš„ãª[**NFT**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³
* [**å…¬å¼ã®PEASSï¼†HackTricksã®ã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’æ‰‹ã«å…¥ã‚Œã¾ã—ã‚‡ã†
* [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«**å‚åŠ **ã™ã‚‹ã‹ã€**Twitter**ã§**ãƒ•ã‚©ãƒ­ãƒ¼**ã—ã¦ãã ã•ã„[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **ãƒãƒƒã‚­ãƒ³ã‚°ã®ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã«ã¯ã€PRã‚’** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **ãŠã‚ˆã³** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **ã«æå‡ºã—ã¦ãã ã•ã„ã€‚**

</details>
