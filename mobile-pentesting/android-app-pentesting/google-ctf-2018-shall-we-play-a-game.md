# Google CTF 2018 - ã‚²ãƒ¼ãƒ ã‚’ã—ã¾ã—ã‚‡ã†ã‹ï¼Ÿ

<details>

<summary><strong>**htARTE (HackTricks AWS Red Team Expert)**</strong> ã‹ã‚‰ **ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã¶**ï¼</summary>

HackTricks ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•:

* **HackTricks ã§ä¼æ¥­ã‚’å®£ä¼ã—ãŸã„** ã¾ãŸã¯ **HackTricks ã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„** å ´åˆã¯ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop) ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**å…¬å¼PEASSï¼†HackTricksã‚¹ãƒ¯ãƒƒã‚°**](https://peass.creator-spring.com)ã‚’æ‰‹ã«å…¥ã‚Œã‚‹
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª [**NFTs**](https://opensea.io/collection/the-peass-family) ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦‹ã¤ã‘ã‚‹
* **ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f) ã«å‚åŠ ã™ã‚‹ã‹ã€[**telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass) ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live) ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹**
* **ãƒãƒƒã‚­ãƒ³ã‚°ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ãŸã‚ã«ã€PRã‚’** [**HackTricks**](https://github.com/carlospolop/hacktricks) **ã¨** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«æå‡ºã—ã¦ãã ã•ã„ã€‚**

</details>

APKã¯ã“ã¡ã‚‰ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™:

APKã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€APKã®å‹•ä½œã‚’ç¢ºèªã™ã‚‹ãŸã‚ã« [https://appetize.io/](https://appetize.io)ï¼ˆç„¡æ–™ã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼‰ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹äºˆå®šã§ã™:

![](<../../.gitbook/assets/image (421).png>)

ãƒ•ãƒ©ã‚°ã‚’å–å¾—ã™ã‚‹ã«ã¯1000000å›å‹ã¤å¿…è¦ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚

[pentesting Android](./) ã®æ‰‹é †ã«å¾“ã£ã¦ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é€†ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦smaliã‚³ãƒ¼ãƒ‰ã‚’å–å¾—ã—ã€jadxã‚’ä½¿ç”¨ã—ã¦Javaã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿å–ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

Javaã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚€:

![](<../../.gitbook/assets/image (495).png>)

ãƒ•ãƒ©ã‚°ã‚’å°åˆ·ã™ã‚‹é–¢æ•°ã¯ **m().** ã®ã‚ˆã†ã§ã™ã€‚

## **Smaliã®å¤‰æ›´**

### **æœ€åˆã®m()ã®å‘¼ã³å‡ºã—**

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒ _this.o != 1000000_ ã®å ´åˆã«m()ã‚’å‘¼ã³å‡ºã™ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†ã€‚ãã®ãŸã‚ã«ã€æ¡ä»¶ã‚’å¤‰æ›´ã™ã‚‹ã ã‘ã§ã™:
```
if-ne v0, v9, :cond_2
```
# Google CTF 2018: Shall we play a game?

---

## Introduction

In this challenge, we are provided with an Android application named "Shall we play a game?". The goal is to find the flag by analyzing the app's behavior and identifying any vulnerabilities that can be exploited.

## Reconnaissance

### APK Analysis

1. **Decompiling the APK**: Use tools like JADX or apktool to decompile the APK file and analyze the source code.
2. **Static Analysis**: Look for hard-coded secrets, sensitive information, or any suspicious code that could lead to vulnerabilities.
3. **Dynamic Analysis**: Run the application in a controlled environment to observe its behavior at runtime.

## Exploitation

1. **Identifying Vulnerabilities**: Exploit common vulnerabilities like insecure storage, input validation issues, or insecure communication.
2. **Reverse Engineering**: Reverse engineer any obfuscated code to understand its functionality and identify potential attack vectors.
3. **Exploiting the Flag**: Once a vulnerability is identified, exploit it to retrieve the flag and complete the challenge.

By following these steps and leveraging your hacking skills, you can successfully complete the Google CTF 2018 challenge "Shall we play a game?" and enhance your penetration testing capabilities.
```
if-eq v0, v9, :cond_2
```
![å‰](<../../.gitbook/assets/image (383).png>)

![å¾Œ](<../../.gitbook/assets/image (838).png>)

[pentest Android](./)ã®æ‰‹é †ã«å¾“ã£ã¦APKã‚’å†ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ç½²åã—ã¾ã™ã€‚ãã®å¾Œã€[https://appetize.io/](https://appetize.io)ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ä½•ãŒèµ·ã“ã‚‹ã‹è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ï¼š

![](<../../.gitbook/assets/image (128).png>)

ãƒ•ãƒ©ã‚°ãŒå®Œå…¨ã«å¾©å·åŒ–ã•ã‚Œãšã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚ãŠãã‚‰ãm()é–¢æ•°ã‚’1000000å›å‘¼ã³å‡ºã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ã“ã‚Œã‚’è¡Œã†**åˆ¥ã®æ–¹æ³•**ã¯ã€å‘½ä»¤ã‚’å¤‰æ›´ã›ãšã«æ¯”è¼ƒã•ã‚Œã‚‹å‘½ä»¤ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã§ã™ï¼š

![](<../../.gitbook/assets/image (840).png>)

**åˆ¥ã®æ–¹æ³•**ã¯ã€1000000ã¨æ¯”è¼ƒã™ã‚‹ä»£ã‚ã‚Šã«ã€å€¤ã‚’1ã«è¨­å®šã—ã¦this.oãŒ1ã¨æ¯”è¼ƒã•ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã™ï¼š

![](<../../.gitbook/assets/image (629).png>)

4ç•ªç›®ã®æ–¹æ³•ã¯ã€v9(1000000)ã®å€¤ã‚’v0 _(this.o)_ ã«ç§»å‹•ã™ã‚‹å‘½ä»¤ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã™ï¼š

![](<../../.gitbook/assets/image (414).png>)

![](<../../.gitbook/assets/image (424).png>)

## è§£æ±ºç­–

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒæœ€åˆã«å‹åˆ©ã—ãŸã¨ãã«ãƒ«ãƒ¼ãƒ—ã‚’100000å›å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ã“ã‚Œã‚’è¡Œã†ã«ã¯ã€**:goto\_6** ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆã—ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒ **`this.o`** ã®å€¤ãŒ100000ã§ãªã„å ´åˆã«**ãã“ã«ã‚¸ãƒ£ãƒ³ãƒ—**ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ï¼š

![](<../../.gitbook/assets/image (1090).png>)

ã“ã‚Œã¯ç‰©ç†ãƒ‡ãƒã‚¤ã‚¹å†…ã§è¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼ˆãªãœã‹ã¯ã‚ã‹ã‚Šã¾ã›ã‚“ãŒã€ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã•ã‚ŒãŸãƒ‡ãƒã‚¤ã‚¹ã§ã¯æ©Ÿèƒ½ã—ã¾ã›ã‚“ï¼‰ã€‚

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ã§ **ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§ã®AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã¾ã—ã‚‡ã†**ï¼</summary>

HackTricks ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•:

* **HackTricks ã§ä¼æ¥­ã‚’å®£ä¼ã—ãŸã„**ã€ã¾ãŸã¯ **HackTricks ã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„**å ´åˆã¯ã€[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**å…¬å¼PEASSï¼†HackTricksã®ã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’å…¥æ‰‹ã—ã¦ãã ã•ã„
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª [**NFTs**](https://opensea.io/collection/the-peass-family) ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦‹ã¤ã‘ã¦ãã ã•ã„
* ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f) ã«å‚åŠ ã™ã‚‹ã‹ã€[**telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass) ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live) ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ã€‚
* **HackTricks** ã¨ **HackTricks Cloud** ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ã€ã‚ãªãŸã®ãƒãƒƒã‚­ãƒ³ã‚°ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã—ã¦ãã ã•ã„ã€‚

</details>
