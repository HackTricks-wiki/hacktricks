# Drozer ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«

<details>

<summary><strong>htARTEï¼ˆHackTricks AWS Red Team Expertï¼‰</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>ã§ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã¶</strong></a><strong>ï¼</strong></summary>

HackTricks ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•:

* **HackTricks ã§ä¼æ¥­ã‚’å®£ä¼ã—ãŸã„**ã¾ãŸã¯ **HackTricks ã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„**å ´åˆã¯ã€[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**å…¬å¼PEASSï¼†HackTricksã‚¹ãƒ¯ãƒƒã‚°**](https://peass.creator-spring.com)ã‚’å…¥æ‰‹ã™ã‚‹
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª[**NFTs**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦‹ã¤ã‘ã‚‹
* **ğŸ’¬ [Discordã‚°ãƒ«ãƒ¼ãƒ—](https://discord.gg/hRep4RUj7f)**ã«å‚åŠ ã™ã‚‹ã‹ã€[telegramã‚°ãƒ«ãƒ¼ãƒ—](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live)**ã‚’ãƒ•ã‚©ãƒ­ãƒ¼**ã—ã¦ãã ã•ã„ã€‚
* **HackTricks**ã¨[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ã€**ã‚ãªãŸã®ãƒãƒƒã‚­ãƒ³ã‚°ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’å…±æœ‰**ã—ã¦ãã ã•ã„ã€‚

</details>

<img src="../../../.gitbook/assets/i3.png" alt="" data-size="original">

**ãƒã‚°ãƒã‚¦ãƒ³ãƒ†ã‚£ã®ãƒ’ãƒ³ãƒˆ**: **Intigriti**ã«**ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—**ã—ã¦ãã ã•ã„ã€‚ã“ã‚Œã¯ã€ãƒãƒƒã‚«ãƒ¼ã«ã‚ˆã£ã¦ä½œæˆã•ã‚ŒãŸãƒ—ãƒ¬ãƒŸã‚¢ãƒ **ãƒã‚°ãƒã‚¦ãƒ³ãƒ†ã‚£ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **ã§ã™ï¼ä»Šã™ã[**https://go.intigriti.com/hacktricks**](https://go.intigriti.com/hacktricks)ã«å‚åŠ ã—ã¦ã€æœ€å¤§**$100,000**ã®ãƒã‚¦ãƒ³ãƒ†ã‚£ã‚’ç²å¾—ã—ã¾ã—ã‚‡ã†ï¼

{% embed url="https://go.intigriti.com/hacktricks" %}

## ãƒ†ã‚¹ãƒˆã™ã‚‹APK

* [Sieve](https://github.com/mwrlabs/drozer/releases/download/2.3.4/sieve.apk)ï¼ˆmrwlabsæä¾›ï¼‰
* [DIVA](https://payatu.com/wp-content/uploads/2016/01/diva-beta.tar.gz)

**ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®ä¸€éƒ¨ã¯** [**Drozerãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆpdf**](https://labs.withsecure.com/content/dam/labs/docs/mwri-drozer-user-guide-2015-03-23.pdf)** ã‹ã‚‰æŠ½å‡ºã•ã‚Œã¾ã—ãŸã€‚**

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ãƒ›ã‚¹ãƒˆå†…ã«Drozerã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚[latest releases](https://github.com/mwrlabs/drozer/releases)ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚
```bash
pip install drozer-2.4.4-py2-none-any.whl
pip install twisted
pip install service_identity
```
ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦drozer APKã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚[æœ€æ–°ãƒªãƒªãƒ¼ã‚¹](https://github.com/mwrlabs/drozer/releases)ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚ç¾æ™‚ç‚¹ã§ã¯[ã“ã¡ã‚‰](https://github.com/mwrlabs/drozer/releases/download/2.3.4/drozer-agent-2.3.4.apk)ã§ã™ã€‚
```bash
adb install drozer.apk
```
### ã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯ãƒãƒ¼ãƒˆ31415ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã¾ã™ã€‚Drozerã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®é–“ã®é€šä¿¡ã‚’ç¢ºç«‹ã™ã‚‹ãŸã‚ã«[ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°](https://en.wikipedia.org/wiki/Port\_forwarding)ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä»¥ä¸‹ã¯ãã®ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰ã§ã™ï¼š
```bash
adb forward tcp:31415 tcp:31415
```
æœ€å¾Œã«ã€**ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³**ã‚’**èµ·å‹•**ã—ã€ä¸‹éƒ¨ã® "**ON**" ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚

![](<../../../.gitbook/assets/image (459).png>)

ãã—ã¦ã€ãã‚Œã«æ¥ç¶šã—ã¾ã™ï¼š
```bash
drozer console connect
```
## èˆˆå‘³æ·±ã„ã‚³ãƒãƒ³ãƒ‰

| **ã‚³ãƒãƒ³ãƒ‰**    | **èª¬æ˜**                                                                                                                                        |
| --------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Help MODULE** | é¸æŠã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚                                                                                                                      |
| **list**        | ç¾åœ¨ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§å®Ÿè¡Œå¯èƒ½ãªã™ã¹ã¦ã®drozerãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒªã‚¹ãƒˆã‚’è¡¨ç¤ºã—ã¾ã™ã€‚é©åˆ‡ãªæ¨©é™ã‚’æŒã£ã¦ã„ãªã„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯éè¡¨ç¤ºã«ãªã‚Šã¾ã™ã€‚ |
| **shell**       | ãƒ‡ãƒã‚¤ã‚¹ä¸Šã§ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªLinuxã‚·ã‚§ãƒ«ã‚’é–‹å§‹ã—ã¾ã™ã€‚                                                                           |
| **clean**       | Androidãƒ‡ãƒã‚¤ã‚¹ä¸Šã«drozerã«ã‚ˆã£ã¦ä¿å­˜ã•ã‚ŒãŸä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¾ã™ã€‚                                                                                         |
| **load**        | drozerã‚³ãƒãƒ³ãƒ‰ã‚’å«ã‚€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§ã€é †ç•ªã«å®Ÿè¡Œã—ã¾ã™ã€‚                                                                                   |
| **module**      | ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‹ã‚‰è¿½åŠ ã®drozerãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¦‹ã¤ã‘ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚                                                                                          |
| **unset**       | drozerãŒç”Ÿæˆã™ã‚‹åå‰ä»˜ãå¤‰æ•°ã‚’å‰Šé™¤ã—ã¾ã™ã€‚                                                                                                                                         |
| **set**         | drozerã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚ŒãŸLinuxã‚·ã‚§ãƒ«ã«æ¸¡ã•ã‚Œã‚‹ç’°å¢ƒå¤‰æ•°ã¨ã—ã¦å€¤ã‚’ä¿å­˜ã—ã¾ã™ã€‚                                   |
| **shell**       | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§ãƒ‡ãƒã‚¤ã‚¹ä¸Šã§ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªLinuxã‚·ã‚§ãƒ«ã‚’é–‹å§‹ã—ã¾ã™ã€‚                                                                            |
| **run MODULE**  | drozerãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚                                                                                                                                |
| **exploit**     | Drozerã¯ãƒ‡ãƒã‚¤ã‚¹ã§å®Ÿè¡Œã™ã‚‹ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ã‚¤ãƒˆã‚’ä½œæˆã§ãã¾ã™ã€‚ `drozer exploit list`                                                                             |
| **payload**     | ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ã‚¤ãƒˆã«ã¯ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ãŒå¿…è¦ã§ã™ã€‚ `drozer payload list`                                                                                                     |

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

åå‰ã®**ä¸€éƒ¨ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°**ã•ã‚ŒãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®**åå‰**ã‚’è¦‹ã¤ã‘ã¾ã™ï¼š
```bash
dz> run app.package.list -f sieve
com.mwr.example.sieve
```
**ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®åŸºæœ¬æƒ…å ±**:
```bash
dz> run app.package.info -a com.mwr.example.sieve
Package: com.mwr.example.sieve
Process Name: com.mwr.example.sieve
Version: 1.0
Data Directory: /data/data/com.mwr.example.sieve
APK Path: /data/app/com.mwr.example.sieve-2.apk
UID: 10056
GID: [1028, 1015, 3003]
Shared Libraries: null
Shared User ID: null
Uses Permissions:
- android.permission.READ_EXTERNAL_STORAGE
- android.permission.WRITE_EXTERNAL_STORAGE
- android.permission.INTERNET
Defines Permissions:
- com.mwr.example.sieve.READ_KEYS
- com.mwr.example.sieve.WRITE_KEYS
```
**ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆ**ã‚’èª­ã‚€:
```bash
run app.package.manifest jakhar.aseem.diva
```
**ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æ”»æ’ƒé¢**ï¼š
```bash
dz> run app.package.attacksurface com.mwr.example.sieve
Attack Surface:
3 activities exported
0 broadcast receivers exported
2 content providers exported
2 services exported
is debuggable
```
* **Activities**: ãŠãã‚‰ãã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚’é–‹å§‹ã—ã€èµ·å‹•ã‚’é˜²ãã¯ãšã®ç¨®é¡ã®èªè¨¼ã‚’ãƒã‚¤ãƒ‘ã‚¹ã§ãã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚
* **Content providers**: ãŠãã‚‰ãã€ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã‚Šã€ã„ãã¤ã‹ã®è„†å¼±æ€§ï¼ˆSQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã¾ãŸã¯ãƒ‘ã‚¹ãƒˆãƒ©ãƒãƒ¼ã‚µãƒ«ï¼‰ã‚’æ‚ªç”¨ã—ãŸã‚Šã§ãã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚
* **Services**:
* **is debuggable**: [è©³ç´°ã¯ã“ã¡ã‚‰](./#is-debuggeable)

### Activities

AndroidManifest.xmlãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã€Œandroid:exportedã€ã®å€¤ãŒ**ã€Œtrueã€**ã«è¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚
```markup
<activity android:name="com.my.app.Initial" android:exported="true">
</activity>
```
**ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã®ãƒªã‚¹ãƒˆ**ï¼š
```bash
dz> run app.activity.info -a com.mwr.example.sieve
Package: com.mwr.example.sieve
com.mwr.example.sieve.FileSelectActivity
com.mwr.example.sieve.MainLoginActivity
com.mwr.example.sieve.PWList
```
**ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã®é–‹å§‹**:

ãŠãã‚‰ãã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚’é–‹å§‹ã—ã€èµ·å‹•ã‚’é˜²ãã¯ãšã®èªè¨¼ã‚’ãƒã‚¤ãƒ‘ã‚¹ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
```bash
dz> run app.activity.start --component com.mwr.example.sieve com.mwr.example.sieve.PWList
```
{% endcode %}

**adb**ã‹ã‚‰ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚’é–‹å§‹ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ï¼š

- ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã¯ com.example.demo
- ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£åã¯ com.example.test.MainActivity
```bash
adb shell am start -n com.example.demo/com.example.test.MainActivity
```
### ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ—ãƒ­ãƒã‚¤ãƒ€

ã“ã®æŠ•ç¨¿ã¯ã“ã“ã«ã‚ã‚‹ã»ã©å¤§ãã‹ã£ãŸã®ã§ã€**ç‹¬è‡ªã®ãƒšãƒ¼ã‚¸ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™**[**ã“ã¡ã‚‰**](exploiting-content-providers.md)ã€‚

### ã‚µãƒ¼ãƒ“ã‚¹

ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸã‚µãƒ¼ãƒ“ã‚¹ã¯Manifest.xmlå†…ã§å®£è¨€ã•ã‚Œã¾ã™ï¼š
```markup
<service android:name=".AuthService" android:exported="true" android:process=":remote"/>
```
{% endcode %}

ã‚³ãƒ¼ãƒ‰ã®ä¸­ã§ **check** ã—ã¦ã€**message** ã‚’ **å—ä¿¡** ã™ã‚‹ \*\*`handleMessage`\*\* é–¢æ•°ã‚’æ¢ã—ã¾ã™:

![](<../../../.gitbook/assets/image (82).png>)

#### ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒªã‚¹ãƒˆ
```bash
dz> run app.service.info -a com.mwr.example.sieve
Package: com.mwr.example.sieve
com.mwr.example.sieve.AuthService
Permission: null
com.mwr.example.sieve.CryptoService
Permission: null
```
#### **ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®ã‚„ã‚Šå–ã‚Š**
```bash
app.service.send            Send a Message to a service, and display the reply
app.service.start           Start Service
app.service.stop            Stop Service
```
#### ä¾‹

`app.service.send` ã® **drozer** ãƒ˜ãƒ«ãƒ—ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼š

![](<../../../.gitbook/assets/image (1079).png>)

"_msg.what_"ã€"_msg.arg1_"ã€"_msg.arg2_" ã®ä¸­ã«æœ€åˆã«ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ã‚³ãƒ¼ãƒ‰ã®ä¸­ã§**ã©ã®æƒ…å ±ãŒä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã‹**ã¨ãã®å ´æ‰€ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\
`--extra` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€"_msg.replyTo" ã«ã‚ˆã£ã¦è§£é‡ˆã•ã‚Œã‚‹ã‚‚ã®ã‚’é€ä¿¡ã§ãã€`--bundle-as-obj` ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€æä¾›ã•ã‚ŒãŸè©³ç´°ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã§ãã¾ã™ã€‚

æ¬¡ã®ä¾‹ã§ã¯ï¼š

* `what == 2354`
* `arg1 == 9234`
* `arg2 == 1`
* `replyTo == object(string com.mwr.example.sieve.PIN 1337)`
```bash
run app.service.send com.mwr.example.sieve com.mwr.example.sieve.AuthService --msg 2354 9234 1 --extra string com.mwr.example.sieve.PIN 1337 --bundle-as-obj
```
![](<../../../.gitbook/assets/image (647).png>)

### ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆãƒ¬ã‚·ãƒ¼ãƒãƒ¼

**Androidã®åŸºæœ¬æƒ…å ±ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆãƒ¬ã‚·ãƒ¼ãƒãƒ¼ã¨ã¯ä½•ã‹ã‚’ç¢ºèªã§ãã¾ã™**ã€‚

ã“ã‚Œã‚‰ã®ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆãƒ¬ã‚·ãƒ¼ãƒãƒ¼ã‚’ç™ºè¦‹ã—ãŸå¾Œã¯ã€**ãã‚Œã‚‰ã®ã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèª**ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚**`onReceive`** é–¢æ•°ã«ç‰¹ã«æ³¨æ„ã‚’æ‰•ã£ã¦ãã ã•ã„ã€‚ã“ã®é–¢æ•°ã¯å—ä¿¡ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡¦ç†ã—ã¾ã™ã€‚

#### **ã™ã¹ã¦ã®**ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆãƒ¬ã‚·ãƒ¼ãƒãƒ¼ã‚’æ¤œå‡º
```bash
run app.broadcast.info #Detects all
```
#### ã‚¢ãƒ—ãƒªã®ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆãƒ¬ã‚·ãƒ¼ãƒãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™
```bash
#Check one negative
run app.broadcast.info -a jakhar.aseem.diva
Package: jakhar.aseem.diva
No matching receivers.

# Check one positive
run app.broadcast.info -a com.google.android.youtube
Package: com.google.android.youtube
com.google.android.libraries.youtube.player.PlayerUiModule$LegacyMediaButtonIntentReceiver
Permission: null
com.google.android.apps.youtube.app.common.notification.GcmBroadcastReceiver
Permission: com.google.android.c2dm.permission.SEND
com.google.android.apps.youtube.app.PackageReplacedReceiver
Permission: null
com.google.android.libraries.youtube.account.AccountsChangedReceiver
Permission: null
com.google.android.apps.youtube.app.application.system.LocaleUpdatedReceiver
Permission: null
```
#### ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆ **ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³**
```bash
app.broadcast.info          Get information about broadcast receivers
app.broadcast.send          Send broadcast using an intent
app.broadcast.sniff         Register a broadcast receiver that can sniff particular intents
```
#### ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã™ã‚‹

ã“ã®ä¾‹ã§ã¯ã€[FourGoats apk](https://github.com/linkedin/qark/blob/master/tests/goatdroid.apk)ã®Content Providerã‚’æ‚ªç”¨ã™ã‚‹ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¨±å¯ã‚’æ±‚ã‚ã‚‹ã“ã¨ãªãã€**ä»»æ„ã®SMSã‚’**ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ã§ãªã„å®›å…ˆã«**é€ä¿¡**ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

![](<../../../.gitbook/assets/image (415).png>)

![](<../../../.gitbook/assets/image (573).png>)

ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚€ã¨ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ "_phoneNumber_" ã¨ "_message_" ãŒContent Providerã«é€ä¿¡ã•ã‚Œã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
```bash
run app.broadcast.send --action org.owasp.goatdroid.fourgoats.SOCIAL_SMS --component org.owasp.goatdroid.fourgoats.broadcastreceivers SendSMSNowReceiver --extra string phoneNumber 123456789 --extra string message "Hello mate!"
```
### ãƒ‡ãƒãƒƒã‚°å¯èƒ½ã‹ã©ã†ã‹

æœ¬ç•ªç”¨ã®APKã¯æ±ºã—ã¦ãƒ‡ãƒãƒƒã‚°å¯èƒ½ã«ã™ã¹ãã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\
ã“ã‚Œã¯ã€å®Ÿè¡Œä¸­ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«**Javaãƒ‡ãƒãƒƒã‚¬ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒ**ã—ã¦ã€å®Ÿè¡Œæ™‚ã«ãã‚Œã‚’æ¤œæŸ»ã—ã€ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’è¨­å®šã—ã€ã‚¹ãƒ†ãƒƒãƒ—ã”ã¨ã«é€²ã‚“ã§å¤‰æ•°ã®å€¤ã‚’åé›†ã—ã€ãã‚Œã‚‰ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚[InfoSec instituteã«ã¯å„ªã‚ŒãŸè¨˜äº‹](../exploiting-a-debuggeable-applciation.md)ãŒã‚ã‚Šã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒãƒ‡ãƒãƒƒã‚°å¯èƒ½ã§ã‚ã‚Šã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚³ãƒ¼ãƒ‰ã‚’ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ãƒˆã™ã‚‹éš›ã«ã•ã‚‰ã«æ˜ã‚Šä¸‹ã’ã‚‹æ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ã—ã¦ã„ã¾ã™ã€‚

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒãƒ‡ãƒãƒƒã‚°å¯èƒ½ãªå ´åˆã€ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã«è¡¨ç¤ºã•ã‚Œã¾ã™ï¼š
```xml
<application theme="@2131296387" debuggable="true"
```
**Drozer**ã‚’ä½¿ç”¨ã—ã¦ã€ã™ã¹ã¦ã®ãƒ‡ãƒãƒƒã‚°å¯èƒ½ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™:
```bash
run app.package.debuggable
```
## ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«

* [https://resources.infosecinstitute.com/android-penetration-tools-walkthrough-series-drozer/#gref](https://resources.infosecinstitute.com/android-penetration-tools-walkthrough-series-drozer/#gref)
* [https://github.com/mgcfish/mobiletools/blob/master/\_posts/2016-08-01-Using-Drozer-for-application-security-assessments.md](https://github.com/mgcfish/mobiletools/blob/master/\_posts/2016-08-01-Using-Drozer-for-application-security-assessments.md)
* [https://www.hackingarticles.in/android-penetration-testing-drozer/](https://www.hackingarticles.in/android-penetration-testing-drozer/)
* [https://medium.com/@ashrafrizvi3006/how-to-test-android-application-security-using-drozer-edc002c5dcac](https://medium.com/@ashrafrizvi3006/how-to-test-android-application-security-using-drozer-edc002c5dcac)

## ã‚‚ã£ã¨æƒ…å ±

* [https://blog.dixitaditya.com/android-pentesting-cheatsheet/](https://blog.dixitaditya.com/android-pentesting-cheatsheet/)

<img src="../../../.gitbook/assets/i3.png" alt="" data-size="original">

**ãƒã‚°ãƒã‚¦ãƒ³ãƒ†ã‚£ã®ãƒ’ãƒ³ãƒˆ**: **Intigriti** ã« **ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—** ã—ã¦ã€ãƒãƒƒã‚«ãƒ¼ã«ã‚ˆã£ã¦ä½œæˆã•ã‚ŒãŸãƒ—ãƒ¬ãƒŸã‚¢ãƒ  **ãƒã‚°ãƒã‚¦ãƒ³ãƒ†ã‚£ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ** ã«å‚åŠ ã—ã¾ã—ã‚‡ã†ï¼[**https://go.intigriti.com/hacktricks**](https://go.intigriti.com/hacktricks) ã§ä»Šã™ãç™»éŒ²ã—ã¦ã€æœ€å¤§ **$100,000** ã®ãƒã‚¦ãƒ³ãƒ†ã‚£ã‚’ç²å¾—ã—ã¾ã—ã‚‡ã†ï¼

{% embed url="https://go.intigriti.com/hacktricks" %}

<details>

<summary><strong>**htARTE (HackTricks AWS Red Team Expert)** ã§ **ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§ã®AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã¾ã—ã‚‡ã†**ï¼</strong></summary>

HackTricks ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•:

* **HackTricks ã§ä¼æ¥­ã‚’å®£ä¼ã—ãŸã„**ã€ã¾ãŸã¯ **HackTricks ã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„** å ´åˆã¯ã€[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop) ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**å…¬å¼PEASSï¼†HackTricksã‚¹ã‚¦ã‚©ãƒƒã‚°**](https://peass.creator-spring.com)ã‚’æ‰‹ã«å…¥ã‚Œã‚‹
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª [**NFTs**](https://opensea.io/collection/the-peass-family) ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦‹ã¤ã‘ã‚‹
* ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f) ã«å‚åŠ ã™ã‚‹ã‹ã€[**telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass) ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks\_live) ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹
* **HackTricks** ã¨ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ã€ã‚ãªãŸã®ãƒãƒƒã‚­ãƒ³ã‚°ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹

</details>
