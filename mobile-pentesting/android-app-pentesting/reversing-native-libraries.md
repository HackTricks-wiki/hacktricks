# Reversi贸n de Bibliotecas Nativas

<details>

<summary><strong>Aprende a hackear AWS desde cero hasta convertirte en un experto con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Experto en Equipos Rojos de AWS de HackTricks)</strong></a><strong>!</strong></summary>

Otras formas de apoyar a HackTricks:

* Si deseas ver tu **empresa anunciada en HackTricks** o **descargar HackTricks en PDF** 隆Consulta los [**PLANES DE SUSCRIPCIN**](https://github.com/sponsors/carlospolop)!
* Obt茅n la [**merchandising oficial de PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubre [**La Familia PEASS**](https://opensea.io/collection/the-peass-family), nuestra colecci贸n de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos.
* **nete al**  [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s铆guenos** en **Twitter**  [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

### [WhiteIntel](https://whiteintel.io)

<figure><img src="/.gitbook/assets/image (1224).png" alt=""><figcaption></figcaption></figure>

[**WhiteIntel**](https://whiteintel.io) es un motor de b煤squeda alimentado por la **dark web** que ofrece funcionalidades **gratuitas** para verificar si una empresa o sus clientes han sido **comprometidos** por **malwares robadores**.

Su objetivo principal es combatir los secuestros de cuentas y los ataques de ransomware resultantes de malwares que roban informaci贸n.

Puedes visitar su sitio web y probar su motor de forma **gratuita** en:

{% embed url="https://whiteintel.io" %}

---

**Para obtener m谩s informaci贸n, visita: [https://maddiestone.github.io/AndroidAppRE/reversing\_native\_libs.html](https://maddiestone.github.io/AndroidAppRE/reversing\_native\_libs.html)**

Las aplicaciones de Android pueden utilizar bibliotecas nativas, generalmente escritas en C o C++, para tareas cr铆ticas de rendimiento. Los creadores de malware tambi茅n utilizan estas bibliotecas, ya que son m谩s dif铆ciles de ingenier铆a inversa que el bytecode DEX. La secci贸n enfatiza habilidades de ingenier铆a inversa adaptadas a Android, en lugar de ense帽ar lenguajes ensambladores. Se proporcionan versiones ARM y x86 de las bibliotecas para compatibilidad.

### Puntos Clave:
- **Bibliotecas Nativas en Aplicaciones de Android:**
- Utilizadas para tareas intensivas en rendimiento.
- Escritas en C o C++, lo que hace que la ingenier铆a inversa sea desafiante.
- Se encuentran en formato `.so` (objeto compartido), similar a los binarios de Linux.
- Los creadores de malware prefieren el c贸digo nativo para dificultar el an谩lisis.

- **Interfaz Nativa de Java (JNI) y NDK de Android:**
- JNI permite que los m茅todos de Java se implementen en c贸digo nativo.
- NDK es un conjunto de herramientas espec铆fico de Android para escribir c贸digo nativo.
- JNI y NDK conectan el c贸digo Java (o Kotlin) con las bibliotecas nativas.

- **Carga y Ejecuci贸n de Bibliotecas:**
- Las bibliotecas se cargan en memoria utilizando `System.loadLibrary` o `System.load`.
- JNI_OnLoad se ejecuta al cargar la biblioteca.
- Los m茅todos nativos declarados en Java se vinculan a funciones nativas, permitiendo la ejecuci贸n.

- **Vinculaci贸n de M茅todos de Java a Funciones Nativas:**
- **Vinculaci贸n Din谩mica:** Los nombres de funciones en las bibliotecas nativas coinciden con un patr贸n espec铆fico, lo que permite la vinculaci贸n autom谩tica.
- **Vinculaci贸n Est谩tica:** Utiliza `RegisterNatives` para la vinculaci贸n, proporcionando flexibilidad en la nomenclatura y estructura de las funciones.

- **Herramientas y T茅cnicas de Ingenier铆a Inversa:**
- Herramientas como Ghidra e IDA Pro ayudan a analizar bibliotecas nativas.
- `JNIEnv` es crucial para comprender las funciones JNI e interacciones.
- Se proporcionan ejercicios para practicar la carga de bibliotecas, la vinculaci贸n de m茅todos e identificar funciones nativas.

### Recursos:
- **Aprendizaje de Ensamblador ARM:**
- Recomendado para una comprensi贸n m谩s profunda de la arquitectura subyacente.
- [Conceptos B谩sicos de Ensamblador ARM](https://azeria-labs.com/writing-arm-assembly-part-1/) de Azeria Labs es recomendado.

- **Documentaci贸n de JNI y NDK:**
- [Especificaci贸n JNI de Oracle](https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/jniTOC.html)
- [Consejos de JNI de Android](https://developer.android.com/training/articles/perf-jni)
- [Introducci贸n al NDK](https://developer.android.com/ndk/guides/)

- **Depuraci贸n de Bibliotecas Nativas:**
- [Depurar Bibliotecas Nativas de Android Usando JEB Decompiler](https://medium.com/@shubhamsonani/how-to-debug-android-native-libraries-using-jeb-decompiler)
