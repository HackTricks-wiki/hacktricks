# ãƒ’ãƒ¼ãƒ—é–¢æ•°ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯

<details>

<summary><strong>htARTEï¼ˆHackTricks AWS Red Team Expertï¼‰</strong>ã‚’ä½¿ã£ã¦ã€ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã¾ã—ã‚‡ã†ï¼</summary>

HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•ï¼š

- **HackTricksã§ä¼æ¥­ã‚’å®£ä¼ã—ãŸã„**ã¾ãŸã¯**HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„**å ´åˆã¯ã€[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
- [**å…¬å¼PEASSï¼†HackTricksã®ã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’å…¥æ‰‹ã™ã‚‹
- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª[**NFTs**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦‹ã¤ã‘ã‚‹
- **ğŸ’¬ [Discordã‚°ãƒ«ãƒ¼ãƒ—](https://discord.gg/hRep4RUj7f)**ã«å‚åŠ ã™ã‚‹ã‹ã€[telegramã‚°ãƒ«ãƒ¼ãƒ—](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter**ã§**@hacktricks\_live**ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹
- **HackTricks**ãŠã‚ˆã³**HackTricks Cloud**ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ã€ã‚ãªãŸã®ãƒãƒƒã‚­ãƒ³ã‚°ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹

</details>

## unlink

ã“ã®é–¢æ•°ã¯ã€ãƒ€ãƒ–ãƒ«ãƒªãƒ³ã‚¯ãƒªã‚¹ãƒˆã‹ã‚‰ãƒãƒ£ãƒ³ã‚¯ã‚’å‰Šé™¤ã—ã¾ã™ã€‚ä¸€èˆ¬çš„ãªãƒã‚§ãƒƒã‚¯ã«ã‚ˆã‚Šã€ãƒãƒ£ãƒ³ã‚¯ã‚’ã‚¢ãƒ³ãƒªãƒ³ã‚¯ã™ã‚‹éš›ã«ãƒªãƒ³ã‚¯ãƒªã‚¹ãƒˆæ§‹é€ ãŒä¸€è²«ã—ã¦ã„ã‚‹ã“ã¨ãŒç¢ºèªã•ã‚Œã¾ã™ã€‚

- **æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯**ï¼š
  - `P->fd->bk == P` ãŠã‚ˆã³ `P->bk->fd == P` ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼š`corrupted double-linked list`

## \_int\_malloc

ã“ã®é–¢æ•°ã¯ãƒ’ãƒ¼ãƒ—ã‹ã‚‰ãƒ¡ãƒ¢ãƒªã‚’å‰²ã‚Šå½“ã¦ã‚‹è²¬ä»»ãŒã‚ã‚Šã¾ã™ã€‚ã“ã“ã§ã®ãƒã‚§ãƒƒã‚¯ã«ã‚ˆã‚Šã€å‰²ã‚Šå½“ã¦ä¸­ã«ãƒ¡ãƒ¢ãƒªãŒç ´æã—ãªã„ã‚ˆã†ã«ã—ã¾ã™ã€‚

- **Fastbinã‚µã‚¤ã‚ºãƒã‚§ãƒƒã‚¯**ï¼š
  - ãƒ•ã‚¡ã‚¹ãƒˆãƒ“ãƒ³ã‹ã‚‰ãƒãƒ£ãƒ³ã‚¯ã‚’å‰Šé™¤ã™ã‚‹éš›ã€ãƒãƒ£ãƒ³ã‚¯ã®ã‚µã‚¤ã‚ºãŒãƒ•ã‚¡ã‚¹ãƒˆãƒ“ãƒ³ã®ç¯„å›²å†…ã«ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼š`malloc(): memory corruption (fast)`
- **Smallbinæ•´åˆæ€§ãƒã‚§ãƒƒã‚¯**ï¼š
  - ã‚¹ãƒ¢ãƒ¼ãƒ«ãƒ“ãƒ³ã‹ã‚‰ãƒãƒ£ãƒ³ã‚¯ã‚’å‰Šé™¤ã™ã‚‹éš›ã€ãƒ€ãƒ–ãƒ«ãƒªãƒ³ã‚¯ãƒªã‚¹ãƒˆå†…ã®å‰å¾Œã®ãƒªãƒ³ã‚¯ãŒä¸€è²«ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼š`malloc(): smallbin double linked list corrupted`
- **Unsorted Binãƒ¡ãƒ¢ãƒªç¯„å›²ãƒã‚§ãƒƒã‚¯**ï¼š
  - ã‚¢ãƒ³ã‚½ãƒ¼ãƒˆãƒ“ãƒ³å†…ã®ãƒãƒ£ãƒ³ã‚¯ã®ã‚µã‚¤ã‚ºãŒæœ€å°å€¤ã¨æœ€å¤§å€¤ã®ç¯„å›²å†…ã«ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼š`malloc(): memory corruption`
- **Unsorted Binæ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ï¼ˆç¬¬1ã‚·ãƒŠãƒªã‚ªï¼‰**ï¼š
  - ã‚¢ãƒ³ã‚½ãƒ¼ãƒˆãƒ“ãƒ³ã«æ®‹ã‚Šã®ãƒãƒ£ãƒ³ã‚¯ã‚’æŒ¿å…¥ã™ã‚‹éš›ã€`unsorted_chunks(av)->fd->bk == unsorted_chunks(av)` ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼š`malloc(): corrupted unsorted chunks`
- **Unsorted Binæ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ï¼ˆç¬¬2ã‚·ãƒŠãƒªã‚ªï¼‰**ï¼š
  - å‰ã®ãƒã‚§ãƒƒã‚¯ã¨åŒæ§˜ã§ã™ãŒã€ãƒ•ã‚¡ã‚¹ãƒˆã¾ãŸã¯ã‚¹ãƒ¢ãƒ¼ãƒ«ãƒãƒ£ãƒ³ã‚¯ã‚’åˆ†å‰²ã—ã¦æŒ¿å…¥ã—ãŸå ´åˆã«ãƒˆãƒªã‚¬ãƒ¼ã•ã‚Œã¾ã™ã€‚
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼š`malloc(): corrupted unsorted chunks 2`

## \_int\_free

ã“ã®é–¢æ•°ã¯ä»¥å‰ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸãƒ¡ãƒ¢ãƒªã‚’è§£æ”¾ã—ã¾ã™ã€‚ã“ã“ã§ã®ãƒã‚§ãƒƒã‚¯ã¯ã€é©åˆ‡ãªãƒ¡ãƒ¢ãƒªè§£æ”¾ã‚’ç¢ºèªã—ã€ãƒ¡ãƒ¢ãƒªã®ç ´æã‚’é˜²ãã¾ã™ã€‚

- **ãƒã‚¤ãƒ³ã‚¿å¢ƒç•Œãƒã‚§ãƒƒã‚¯**ï¼š
  - è§£æ”¾ã•ã‚Œã‚‹ãƒã‚¤ãƒ³ã‚¿ãŒãƒ¡ãƒ¢ãƒªã‚’å‘¨å›ã—ã¦ã„ãªã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼š`free(): invalid pointer`
- **ã‚µã‚¤ã‚ºãƒã‚§ãƒƒã‚¯**ï¼š
  - è§£æ”¾ã•ã‚Œã‚‹ãƒãƒ£ãƒ³ã‚¯ã®ã‚µã‚¤ã‚ºãŒå°‘ãªãã¨ã‚‚`MINSIZE`ã¾ãŸã¯`MALLOC_ALIGNMENT`ã®å€æ•°ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼š`free(): invalid size`
- **Fastbinã‚µã‚¤ã‚ºãƒã‚§ãƒƒã‚¯**ï¼š
  - ãƒ•ã‚¡ã‚¹ãƒˆãƒ“ãƒ³ã®ãƒãƒ£ãƒ³ã‚¯ã®å ´åˆã€æ¬¡ã®ãƒãƒ£ãƒ³ã‚¯ã®ã‚µã‚¤ã‚ºãŒæœ€å°å€¤ã¨æœ€å¤§å€¤ã®ç¯„å›²å†…ã«ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼š`free(): invalid next size (fast)`
- **Fastbinãƒ€ãƒ–ãƒ«ãƒ•ãƒªãƒ¼ãƒã‚§ãƒƒã‚¯**ï¼š
  - ãƒ•ã‚¡ã‚¹ãƒˆãƒ“ãƒ³ã«ãƒãƒ£ãƒ³ã‚¯ã‚’æŒ¿å…¥ã™ã‚‹éš›ã€ãƒ˜ãƒƒãƒ‰ã®ãƒãƒ£ãƒ³ã‚¯ãŒæŒ¿å…¥ã•ã‚Œã‚‹ãƒãƒ£ãƒ³ã‚¯ã¨åŒã˜ã§ãªã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼š`double free or corruption (fasttop)`
- **Fastbinæ•´åˆæ€§ãƒã‚§ãƒƒã‚¯**ï¼š
  - ãƒ•ã‚¡ã‚¹ãƒˆãƒ“ãƒ³ã«æŒ¿å…¥ã™ã‚‹éš›ã€ãƒ˜ãƒƒãƒ‰ãƒãƒ£ãƒ³ã‚¯ã¨æŒ¿å…¥ã•ã‚Œã‚‹ãƒãƒ£ãƒ³ã‚¯ã®ã‚µã‚¤ã‚ºãŒåŒã˜ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼š`invalid fastbin entry (free)`
- **Top Chunkæ•´åˆæ€§ãƒã‚§ãƒƒã‚¯**ï¼š
  - ãƒ•ã‚¡ã‚¹ãƒˆãƒ“ãƒ³ã®ãƒãƒ£ãƒ³ã‚¯ä»¥å¤–ã®å ´åˆã€ãƒãƒ£ãƒ³ã‚¯ãŒãƒˆãƒƒãƒ—ãƒãƒ£ãƒ³ã‚¯ã¨åŒã˜ã§ãªã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼š`double free or corruption (top)`
- **ãƒ¡ãƒ¢ãƒªå¢ƒç•Œãƒã‚§ãƒƒã‚¯**ï¼š
  - ãƒ¡ãƒ¢ãƒªã®æ¬¡ã®ãƒãƒ£ãƒ³ã‚¯ãŒã‚¢ãƒªãƒ¼ãƒŠã®å¢ƒç•Œå†…ã«ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼š`double free or corruption (out)`
- **Prev\_inuseãƒ“ãƒƒãƒˆãƒã‚§ãƒƒã‚¯**ï¼š
  - æ¬¡ã®ãƒãƒ£ãƒ³ã‚¯ã®å‰ã®ä½¿ç”¨ãƒ“ãƒƒãƒˆãŒãƒãƒ¼ã‚¯ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼š`double free or corruption (!prev)`
- **é€šå¸¸ã®ã‚µã‚¤ã‚ºãƒã‚§ãƒƒã‚¯**ï¼š
  - æ¬¡ã®ãƒãƒ£ãƒ³ã‚¯ã®ã‚µã‚¤ã‚ºãŒæœ‰åŠ¹ãªç¯„å›²å†…ã«ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼š`free(): invalid next size (normal)`
- **Unsorted Binæ•´åˆæ€§ãƒã‚§ãƒƒã‚¯**ï¼š
  - ã‚¢ãƒ³ã‚½ãƒ¼ãƒˆãƒ“ãƒ³ã«é€£çµã•ã‚ŒãŸãƒãƒ£ãƒ³ã‚¯ã‚’æŒ¿å…¥ã™ã‚‹éš›ã€`unsorted_chunks(av)->fd->bk == unsorted_chunks(av)` ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼š`free(): corrupted unsorted chunks`

<details>

<summary><strong>htARTEï¼ˆHackTricks AWS Red Team Expertï¼‰</strong>ã‚’ä½¿ã£ã¦ã€ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã¾ã—ã‚‡ã†ï¼</summary>

HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•ï¼š

- **HackTricksã§ä¼æ¥­ã‚’å®£ä¼ã—ãŸã„**ã¾ãŸã¯**HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„**å ´åˆã¯ã€[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
- [**å…¬å¼PEASSï¼†HackTricksã®ã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’å…¥æ‰‹ã™ã‚‹
- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª[**NFTs**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦‹ã¤ã‘ã‚‹
- **ğŸ’¬ [Discordã‚°ãƒ«ãƒ¼ãƒ—](https://discord.gg/hRep4RUj7f)**ã«å‚åŠ ã™ã‚‹ã‹ã€[telegramã‚°ãƒ«ãƒ¼ãƒ—](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter**ã§**@hacktricks\_live**ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹
- **HackTricks**ãŠã‚ˆã³**HackTricks Cloud**ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ã€ã‚ãªãŸã®ãƒãƒƒã‚­ãƒ³ã‚°ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹

</details>
