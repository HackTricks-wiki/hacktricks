# ãƒã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç›—ã‚€ãŸã‚ã«ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹

<details>

<summary><strong>htARTEï¼ˆHackTricks AWS Red Team Expertï¼‰</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>ã§AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§å­¦ã¶</strong></a><strong>ï¼</strong></summary>

* **ã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¼æ¥­**ã§åƒã„ã¦ã„ã¾ã™ã‹ï¼Ÿ **HackTricksã§ä¼šç¤¾ã‚’å®£ä¼**ã—ãŸã„ã§ã™ã‹ï¼Ÿã¾ãŸã¯**PEASSã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã‚Šã€HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**ã—ãŸã„ã§ã™ã‹ï¼Ÿ[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª[NFT](https://opensea.io/collection/the-peass-family)ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦‹ã¤ã‘ã¾ã™
* [**å…¬å¼PEASSï¼†HackTricksã‚¹ãƒ¯ãƒƒã‚°**](https://peass.creator-spring.com)ã‚’æ‰‹ã«å…¥ã‚Œã¾ã™
* **[ğŸ’¬](https://emojipedia.org/speech-balloon/) [Discordã‚°ãƒ«ãƒ¼ãƒ—](https://discord.gg/hRep4RUj7f)**ã«å‚åŠ ã™ã‚‹ã‹ã€[Telegramã‚°ãƒ«ãƒ¼ãƒ—](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter**ã§**ãƒ•ã‚©ãƒ­ãƒ¼**ã™ã‚‹ğŸ¦[**@carlospolopm**](https://twitter.com/hacktricks_live)**ã€‚**
* **ãƒãƒƒã‚­ãƒ³ã‚°ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ãŸã‚ã«ã€[hacktricksãƒªãƒã‚¸ãƒˆãƒª](https://github.com/carlospolop/hacktricks)ã¨[hacktricks-cloudãƒªãƒã‚¸ãƒˆãƒª](https://github.com/carlospolop/hacktricks-cloud)ã«PRã‚’æå‡ºã—ã¦ãã ã•ã„**ã€‚

</details>

## Iframesã§RCã‚’ç²å¾—ã™ã‚‹

ã“ã®[**Terjanqã®è§£èª¬**](https://gist.github.com/terjanq/7c1a71b83db5e02253c218765f96a710)ã«ã‚ˆã‚‹ã¨ã€ãƒŒãƒ«èµ·æºã‹ã‚‰ä½œæˆã•ã‚ŒãŸblobãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®åˆ©ç‚¹ã®ãŸã‚ã«åˆ†é›¢ã•ã‚Œã¦ãŠã‚Šã€ã¤ã¾ã‚Šã€ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã‚’ãƒ“ã‚¸ãƒ¼ã«ã—ã¦ãŠãã¨ã€iframeãƒšãƒ¼ã‚¸ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚

åŸºæœ¬çš„ã«ã€ãã®ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã§ã¯**åˆ†é›¢ã•ã‚ŒãŸiframeãŒå®Ÿè¡Œ**ã•ã‚Œã€**ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸç›´å¾Œ**ã«**è¦ª**ãƒšãƒ¼ã‚¸ãŒ**ãƒ•ãƒ©ã‚°ã‚’å«ã‚€ãƒã‚¹ãƒˆ**ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’**é€ä¿¡**ã—ã¾ã™ã€‚\
ãŸã ã—ã€ãã®ãƒã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€šä¿¡ã¯**XSSã«å¯¾ã—ã¦è„†å¼±**ã§ã™ï¼ˆ**iframe**ã¯JSã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã§ãã¾ã™ï¼‰ã€‚

ã—ãŸãŒã£ã¦ã€æ”»æ’ƒè€…ã®ç›®æ¨™ã¯ã€**è¦ªãŒiframeã‚’ä½œæˆ**ã•ã›ã‚‹ãŒã€**è¦ª**ãƒšãƒ¼ã‚¸ãŒ**æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ•ãƒ©ã‚°ï¼‰ã‚’é€ä¿¡**ã™ã‚‹**å‰ã«**ãã‚Œã‚’**ãƒ“ã‚¸ãƒ¼ã«ã—ã¦iframeã«ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã‚’é€ä¿¡**ã™ã‚‹ã“ã¨ã§ã™ã€‚**è¦ªãŒãƒ“ã‚¸ãƒ¼ã§ã‚ã‚‹é–“**ã€**iframeã¯ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œ**ã—ã€**è¦ªã®ãƒã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç›—ã¿ã€ãƒ•ãƒ©ã‚°ã‚’æ¼æ´©**ã—ã¾ã™ã€‚\
æœ€å¾Œã«ã€iframeãŒãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ã€è¦ªãƒšãƒ¼ã‚¸ãŒãƒ“ã‚¸ãƒ¼ã§ãªããªã‚‹ã¨ã€ãƒ•ãƒ©ã‚°ã‚’é€ä¿¡ã—ã€ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ãŒæ¼æ´©ã—ã¾ã™ã€‚

ã—ã‹ã—ã€è¦ªã‚’**iframeã‚’ç”Ÿæˆã—ãŸç›´å¾Œã«ãƒ“ã‚¸ãƒ¼ã«ã•ã›ã€iframeãŒæº–å‚™å®Œäº†ã—ã¦æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ã™ã‚‹ã®ã‚’å¾…ã£ã¦ã„ã‚‹é–“ã ã‘ãƒ“ã‚¸ãƒ¼ã«ã•ã›ã‚‹**æ–¹æ³•ã¯ã©ã†ã™ã‚Œã°ã‚ˆã„ã§ã—ã‚‡ã†ã‹ï¼ŸåŸºæœ¬çš„ã«ã€è¦ªãŒ**å®Ÿè¡Œ**ã™ã‚‹**éåŒæœŸã‚¢ã‚¯ã‚·ãƒ§ãƒ³**ã‚’è¦‹ã¤ã‘ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãŸã¨ãˆã°ã€ãã®ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã§ã¯ã€è¦ªãŒæ¬¡ã®ã‚ˆã†ã«**ãƒã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**ã‚’**ãƒªãƒƒã‚¹ãƒ³**ã—ã¦ã„ã¾ã—ãŸï¼š
```javascript
window.addEventListener('message', (e) => {
if (e.data == 'blob loaded') {
$("#previewModal").modal();
}
});
```
ã—ãŸãŒã£ã¦ã€**postmessage** ã§**å¤§ããªæ•´æ•°ã‚’é€ä¿¡**ã—ã€ãã®æ¯”è¼ƒã§**æ–‡å­—åˆ—ã«å¤‰æ›**ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã€ãã‚Œã«ã¯æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚
```bash
const buffer = new Uint8Array(1e7);
win?.postMessage(buffer, '*', [buffer.buffer]);
```
ãã—ã¦ã€**iframe**ãŒä½œæˆã•ã‚ŒãŸç›´å¾Œã«**postmessage**ã‚’æ­£ç¢ºã«**é€ä¿¡**ã—ã€è¦ªã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å—ä¿¡ã™ã‚‹æº–å‚™ãŒæ•´ã†å‰ã«ã€`setTimeout`ã®ãƒŸãƒªç§’ã‚’èª¿æ•´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

<details>

<summary><strong>htARTEï¼ˆHackTricks AWS Red Team Expertï¼‰</strong>ã§**ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§ã®AWSãƒãƒƒã‚­ãƒ³ã‚°**ã‚’å­¦ã³ã¾ã—ã‚‡ã†ï¼</summary>

* **ã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¼æ¥­**ã§åƒã„ã¦ã„ã¾ã™ã‹ï¼Ÿ**HackTricksã§ä¼šç¤¾ã‚’å®£ä¼**ã—ãŸã„ã§ã™ã‹ï¼Ÿã¾ãŸã¯ã€**PEASSã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚¢ã‚¯ã‚»ã‚¹**ã—ãŸã„ã§ã™ã‹ï¼Ÿ[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª[NFTs](https://opensea.io/collection/the-peass-family)ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã”è¦§ãã ã•ã„
* [**å…¬å¼PEASSï¼†HackTricksã‚¹ã‚¦ã‚§ã‚°**](https://peass.creator-spring.com)ã‚’æ‰‹ã«å…¥ã‚Œã¾ã—ã‚‡ã†
* [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**Telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«**å‚åŠ **ã™ã‚‹ã‹ã€**Twitter**ã§ç§ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ ğŸ¦[**@carlospolopm**](https://twitter.com/hacktricks_live)**ã€‚**
* **[hacktricksãƒªãƒã‚¸ãƒˆãƒª](https://github.com/carlospolop/hacktricks)ã¨[hacktricks-cloudãƒªãƒã‚¸ãƒˆãƒª](https://github.com/carlospolop/hacktricks-cloud)**ã«PRã‚’æå‡ºã—ã¦ã€ã‚ãªãŸã®ãƒãƒƒã‚­ãƒ³ã‚°ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’å…±æœ‰ã—ã¦ãã ã•ã„ã€‚

</details>
