<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

- Â¿Trabajas en una **empresa de ciberseguridad**? Â¿Quieres ver tu **empresa anunciada en HackTricks**? Â¿O quieres tener acceso a la **Ãºltima versiÃ³n de PEASS o descargar HackTricks en PDF**? Â¡Consulta los [**PLANES DE SUSCRIPCIÃ“N**](https://github.com/sponsors/carlospolop)!

- Descubre [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nuestra colecciÃ³n exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)

- ObtÃ©n la [**oficial PEASS & HackTricks swag**](https://peass.creator-spring.com)

- **Ãšnete al** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) **grupo de Discord** o al [**grupo de telegram**](https://t.me/peass) o **sÃ­gueme en** **Twitter** [**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**

- **Comparte tus trucos de hacking enviando PR al [repositorio de hacktricks](https://github.com/carlospolop/hacktricks) y al [repositorio de hacktricks-cloud](https://github.com/carlospolop/hacktricks-cloud)**.

</details>


# **InformaciÃ³n del Protocolo**

**NDMP**, o **Protocolo de GestiÃ³n de Datos de Red**, es un protocolo destinado a transportar datos entre dispositivos de almacenamiento conectados a la red \([NAS](https://en.wikipedia.org/wiki/Network-attached_storage)\) y dispositivos de [backup](https://en.wikipedia.org/wiki/Backup). Esto elimina la necesidad de transportar los datos a travÃ©s del servidor de backup en sÃ­, mejorando asÃ­ la velocidad y eliminando la carga del servidor de backup.  
De [Wikipedia](https://en.wikipedia.org/wiki/NDMP).

**Puerto predeterminado:** 10000
```text
PORT      STATE SERVICE REASON  VERSION
10000/tcp open  ndmp    syn-ack Symantec/Veritas Backup Exec ndmp
```
# EnumeraciÃ³n

## **NDMP Enumeration**

## **EnumeraciÃ³n de NDMP**

### **Port Scanning**

### **Escaneo de puertos**

We can start by scanning the target host for open ports using tools like Nmap or Masscan. NDMP uses port 10000 by default, but it can be configured to use a different port.

Podemos comenzar escaneando el host objetivo en busca de puertos abiertos utilizando herramientas como Nmap o Masscan. NDMP utiliza el puerto 10000 de forma predeterminada, pero se puede configurar para utilizar un puerto diferente.

```bash
nmap -p 10000 <target_ip>
```

### **Banner Grabbing**

### **ObtenciÃ³n de banner**

Once we have identified the open port, we can try to grab the banner to determine the NDMP version and the vendor.

Una vez que hemos identificado el puerto abierto, podemos intentar obtener el banner para determinar la versiÃ³n y el proveedor de NDMP.

```bash
nc -nv <target_ip> 10000
```

### **NDMP Enumeration with ndmp-tool**

### **EnumeraciÃ³n de NDMP con ndmp-tool**

We can use the ndmp-tool to enumerate the NDMP service and gather information about the backup jobs, volumes, and file systems.

Podemos utilizar la herramienta ndmp-tool para enumerar el servicio NDMP y recopilar informaciÃ³n sobre los trabajos de copia de seguridad, volÃºmenes y sistemas de archivos.

```bash
ndmp-tool <target_ip> -enum
```

The output will show the NDMP version, vendor, and supported authentication methods.

La salida mostrarÃ¡ la versiÃ³n, el proveedor y los mÃ©todos de autenticaciÃ³n admitidos de NDMP.

```bash
NDMP Version: 4
Vendor: NetApp
Auth Methods: AUTH_NONE, AUTH_MD5
```

We can also use the ndmp-tool to list the backup jobs, volumes, and file systems.

TambiÃ©n podemos utilizar la herramienta ndmp-tool para listar los trabajos de copia de seguridad, volÃºmenes y sistemas de archivos.

```bash
ndmp-tool <target_ip> -lj
ndmp-tool <target_ip> -lv
ndmp-tool <target_ip> -lf
```

### **NDMP Enumeration with Metasploit**

### **EnumeraciÃ³n de NDMP con Metasploit**

Metasploit also provides a module for NDMP enumeration.

Metasploit tambiÃ©n proporciona un mÃ³dulo para la enumeraciÃ³n de NDMP.

```bash
use auxiliary/scanner/ndmp/ndmp_enum
set RHOSTS <target_ip>
run
```

The output will show the NDMP version, vendor, and supported authentication methods.

La salida mostrarÃ¡ la versiÃ³n, el proveedor y los mÃ©todos de autenticaciÃ³n admitidos de NDMP.

```bash
[*] NDMP Version: 4
[*] Vendor: NetApp
[*] Auth Methods: AUTH_NONE, AUTH_MD5
```
```bash
nmap -n -sV --script "ndmp-fs-info or ndmp-version" -p 10000 <IP> #Both are default scripts
```
## Shodan

`ndmp`

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

- Â¿Trabajas en una **empresa de ciberseguridad**? Â¿Quieres ver tu **empresa anunciada en HackTricks**? Â¿O quieres tener acceso a la **Ãºltima versiÃ³n de PEASS o descargar HackTricks en PDF**? Â¡Consulta los [**PLANES DE SUSCRIPCIÃ“N**](https://github.com/sponsors/carlospolop)!

- Descubre [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nuestra colecciÃ³n exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)

- ObtÃ©n el [**swag oficial de PEASS y HackTricks**](https://peass.creator-spring.com)

- **Ãšnete al** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) **grupo de Discord** o al [**grupo de telegram**](https://t.me/peass) o **sÃ­gueme en Twitter** [**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**

- **Comparte tus trucos de hacking enviando PR al [repositorio de hacktricks](https://github.com/carlospolop/hacktricks) y al [repositorio de hacktricks-cloud](https://github.com/carlospolop/hacktricks-cloud)**.

</details>
