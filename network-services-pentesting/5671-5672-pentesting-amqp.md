# 5671,5672 - AMQPã®ãƒšãƒ³ãƒ†ã‚¹ãƒˆ

<details>

<summary><strong>ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWS Red Team Expertï¼‰</strong></a><strong>ï¼</strong></summary>

HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•:

* **HackTricksã§ä¼æ¥­ã‚’å®£ä¼ã—ãŸã„**ã¾ãŸã¯**HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„**å ´åˆã¯ã€[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**å…¬å¼PEASSï¼†HackTricksã‚¹ãƒ¯ãƒƒã‚°**](https://peass.creator-spring.com)ã‚’å…¥æ‰‹ã™ã‚‹
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª[**NFTs**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦‹ã¤ã‘ã‚‹
* **ğŸ’¬ [Discordã‚°ãƒ«ãƒ¼ãƒ—](https://discord.gg/hRep4RUj7f)**ã¾ãŸã¯[telegramã‚°ãƒ«ãƒ¼ãƒ—](https://t.me/peass)ã«**å‚åŠ **ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)ã§**ãƒ•ã‚©ãƒ­ãƒ¼**ã—ã¦ãã ã•ã„ã€‚
* **HackTricks**ãŠã‚ˆã³**HackTricks Cloud**ã®githubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ã€ã‚ãªãŸã®ãƒãƒƒã‚­ãƒ³ã‚°ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’å…±æœ‰ã—ã¦ãã ã•ã„ã€‚

</details>

## åŸºæœ¬æƒ…å ±

[cloudamqp](https://www.cloudamqp.com/blog/2015-05-18-part1-rabbitmq-for-beginners-what-is-rabbitmq.html)ã‹ã‚‰ï¼š

> **RabbitMQ**ã¯ã€_ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ–ãƒ­ãƒ¼ã‚«ãƒ¼_ã¾ãŸã¯_ã‚­ãƒ¥ãƒ¼ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼_ã¨ã—ã¦ã‚‚çŸ¥ã‚‰ã‚Œã‚‹**ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚­ãƒ¥ãƒ¼ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢**ã§ã™ã€‚ç°¡å˜ã«è¨€ãˆã°ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è»¢é€ã™ã‚‹ãŸã‚ã«æ¥ç¶šã™ã‚‹ã‚­ãƒ¥ãƒ¼ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã§ã™ã€‚\
> **ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ã¯ä»»æ„ã®æƒ…å ±ãŒå«ã¾ã‚Œã‚‹**å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ãŸã¨ãˆã°ã€åˆ¥ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆåˆ¥ã®ã‚µãƒ¼ãƒãƒ¼ä¸Šã«ã‚ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ï¼‰ã§é–‹å§‹ã™ã¹ããƒ—ãƒ­ã‚»ã‚¹ã‚„ã‚¿ã‚¹ã‚¯ã«é–¢ã™ã‚‹æƒ…å ±ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ã€å˜ãªã‚‹ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã‚­ãƒ¥ãƒ¼ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã¯ã€å—ä¿¡ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ¥ç¶šã—ã¦ã‚­ãƒ¥ãƒ¼ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹ã¾ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä¿å­˜ã—ã¾ã™ã€‚å—ä¿¡ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ãã®å¾Œã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡¦ç†ã—ã¾ã™ã€‚\
å®šç¾©ã¯ã€‚  

**ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒãƒ¼ãƒˆ**: 5672,5671
```
PORT     STATE SERVICE VERSION
5672/tcp open  amqp    RabbitMQ 3.1.5 (0-9)
```
## åˆ—æŒ™

### ãƒãƒ‹ãƒ¥ã‚¢ãƒ«
```python
import amqp
#By default it uses default credentials "guest":"guest"
conn = amqp.connection.Connection(host="<IP>", port=5672, virtual_host="/")
conn.connect()
for k, v in conn.server_properties.items():
print(k, v)
```
### è‡ªå‹•
```bash
nmap -sV -Pn -n -T4 -p 5672 --script amqp-info <IP>

PORT     STATE SERVICE VERSION
5672/tcp open  amqp    RabbitMQ 3.1.5 (0-9)
| amqp-info:
|   capabilities:
|     publisher_confirms: YES
|     exchange_exchange_bindings: YES
|     basic.nack: YES
|     consumer_cancel_notify: YES
|   copyright: Copyright (C) 2007-2013 GoPivotal, Inc.
|   information: Licensed under the MPL.  See http://www.rabbitmq.com/
|   platform: Erlang/OTP
|   product: RabbitMQ
|   version: 3.1.5
|   mechanisms: PLAIN AMQPLAIN
|_  locales: en_US
```
### Brute Force

* [**AMQP Protocol Brute-Force**](../generic-methodologies-and-resources/brute-force.md#amqp-activemq-rabbitmq-qpid-joram-and-solace)
* [**STOMP Protocol Brute-Force**](../generic-methodologies-and-resources/brute-force.md#stomp-activemq-rabbitmq-hornetq-and-openmq)

## ãã®ä»–ã®RabbitMQãƒãƒ¼ãƒˆ

[https://www.rabbitmq.com/networking.html](https://www.rabbitmq.com/networking.html) ã«ã‚ˆã‚‹ã¨ã€**rabbitmqã¯è¤‡æ•°ã®ãƒãƒ¼ãƒˆã‚’ä½¿ç”¨**ã—ã¦ã„ã¾ã™:

* **1883, 8883**: ([MQTTã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ](http://mqtt.org)ã€[MQTTãƒ—ãƒ©ã‚°ã‚¤ãƒ³](https://www.rabbitmq.com/mqtt.html)ãŒæœ‰åŠ¹ãªå ´åˆã¯TLSã‚ã‚Š/ãªã—). [**MQTTã®ãƒšãƒ³ãƒ†ã‚¹ãƒˆæ–¹æ³•ã«ã¤ã„ã¦è©³ã—ãã¯ã“ã¡ã‚‰**](1883-pentesting-mqtt-mosquitto.md).
* **4369: epmd**, RabbitMQãƒãƒ¼ãƒ‰ã¨CLIãƒ„ãƒ¼ãƒ«ã§ä½¿ç”¨ã•ã‚Œã‚‹ãƒ”ã‚¢æ¤œå‡ºã‚µãƒ¼ãƒ“ã‚¹ã€‚[**ã“ã®ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒšãƒ³ãƒ†ã‚¹ãƒˆæ–¹æ³•ã«ã¤ã„ã¦è©³ã—ãã¯ã“ã¡ã‚‰**](4369-pentesting-erlang-port-mapper-daemon-epmd.md).
* **5672, 5671**: AMQP 0-9-1ãŠã‚ˆã³1.0ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”¨ã®ãƒãƒ¼ãƒˆï¼ˆTLSã‚ã‚Š/ãªã—ï¼‰
* **15672**: [HTTP API](https://www.rabbitmq.com/management.html)ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã€[ç®¡ç†UI](https://www.rabbitmq.com/management.html)ã€[rabbitmqadmin](https://www.rabbitmq.com/management-cli.html)ï¼ˆ[ç®¡ç†ãƒ—ãƒ©ã‚°ã‚¤ãƒ³](https://www.rabbitmq.com/management.html)ãŒæœ‰åŠ¹ãªå ´åˆã®ã¿ï¼‰. [**ã“ã®ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒšãƒ³ãƒ†ã‚¹ãƒˆæ–¹æ³•ã«ã¤ã„ã¦è©³ã—ãã¯ã“ã¡ã‚‰**](15672-pentesting-rabbitmq-management.md).
* 15674: STOMP-over-WebSocketsã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆ[Web STOMPãƒ—ãƒ©ã‚°ã‚¤ãƒ³](https://www.rabbitmq.com/web-stomp.html)ãŒæœ‰åŠ¹ãªå ´åˆã®ã¿ï¼‰
* 15675: MQTT-over-WebSocketsã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆ[Web MQTTãƒ—ãƒ©ã‚°ã‚¤ãƒ³](https://www.rabbitmq.com/web-mqtt.html)ãŒæœ‰åŠ¹ãªå ´åˆã®ã¿ï¼‰
* 15692: Prometheusãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼ˆ[Prometheusãƒ—ãƒ©ã‚°ã‚¤ãƒ³](https://www.rabbitmq.com/prometheus.html)ãŒæœ‰åŠ¹ãªå ´åˆã®ã¿ï¼‰
* 25672: ãƒãƒ¼ãƒ‰é–“ãŠã‚ˆã³CLIãƒ„ãƒ¼ãƒ«é–“ã®é€šä¿¡ã«ä½¿ç”¨ã•ã‚Œã‚‹ï¼ˆErlangãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚µãƒ¼ãƒãƒ¼ãƒãƒ¼ãƒˆï¼‰. AMQPãƒãƒ¼ãƒˆ+20000ã§è¨ˆç®—ã•ã‚ŒãŸå‹•çš„ç¯„å›²ã‹ã‚‰å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¾ã™ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯1ã¤ã®ãƒãƒ¼ãƒˆã«åˆ¶é™ã•ã‚Œã¦ã„ã¾ã™ï¼‰. ã“ã‚Œã‚‰ã®ãƒãƒ¼ãƒˆã¸ã®å¤–éƒ¨æ¥ç¶šãŒæœ¬å½“ã«å¿…è¦ãªå ´åˆï¼ˆã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãŒ[federation](https://www.rabbitmq.com/federation.html)ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã‚„ã€ã‚µãƒ–ãƒãƒƒãƒˆå¤–ã®ãƒã‚·ãƒ³ã§CLIãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆãªã©ï¼‰ã‚’é™¤ã„ã¦ã€ã“ã‚Œã‚‰ã®ãƒãƒ¼ãƒˆã¯å…¬é–‹ã•ã‚Œã‚‹ã¹ãã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚è©³ç´°ã«ã¤ã„ã¦ã¯[ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰](https://www.rabbitmq.com/networking.html)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚**ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆä¸Šã§é–‹ã‹ã‚Œã¦ã„ã‚‹ã®ã¯ã“ã‚Œã‚‰ã®ãƒãƒ¼ãƒˆã®ã¿ã§ã™**ã€‚
* 35672-35682: CLIãƒ„ãƒ¼ãƒ«ã«ã‚ˆã£ã¦ä½¿ç”¨ã•ã‚Œã‚‹ï¼ˆErlangãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒãƒ¼ãƒˆï¼‰. ã‚µãƒ¼ãƒãƒ¼ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ãƒˆ+10000ã‹ã‚‰ã‚µãƒ¼ãƒãƒ¼ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ãƒˆ+10010ã¾ã§ã®å‹•çš„ç¯„å›²ã‹ã‚‰å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¾ã™ã€‚è©³ç´°ã«ã¤ã„ã¦ã¯[ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰](https://www.rabbitmq.com/networking.html)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
* 61613, 61614: [STOMPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ](https://stomp.github.io/stomp-specification-1.2.html)ï¼ˆTLSã‚ã‚Š/ãªã—ï¼‰ï¼ˆ[STOMPãƒ—ãƒ©ã‚°ã‚¤ãƒ³](https://www.rabbitmq.com/stomp.html)ãŒæœ‰åŠ¹ãªå ´åˆã®ã¿ï¼‰. ã“ã®ãƒãƒ¼ãƒˆãŒé–‹ã„ã¦ã„ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã¯10å°æœªæº€ã§ã€DHTãƒãƒ¼ãƒ‰ã®ãŸã‚ã«ä¸»ã«UDPãŒä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚

## Shodan

* `AMQP`

<details>

<summary><strong>ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§ã®AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWS Red Team Expertï¼‰</strong></a><strong>!</strong></summary>

HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•:

* **HackTricksã§ä¼æ¥­ã‚’å®£ä¼ã—ãŸã„**ã¾ãŸã¯**HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„**å ´åˆã¯ã€[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**å…¬å¼PEASSï¼†HackTricksã®ã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’å…¥æ‰‹ã™ã‚‹
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª[NFTs](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦‹ã¤ã‘ã‚‹
* **ğŸ’¬ [Discordã‚°ãƒ«ãƒ¼ãƒ—](https://discord.gg/hRep4RUj7f)**ã«å‚åŠ ã™ã‚‹ã‹ã€[telegramã‚°ãƒ«ãƒ¼ãƒ—](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter**ã§**@carlospolopm**ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **HackTricks**ã¨**HackTricks Cloud**ã®githubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ã€ã‚ãªãŸã®ãƒãƒƒã‚­ãƒ³ã‚°ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã—ã¦ãã ã•ã„ã€‚

</details>
