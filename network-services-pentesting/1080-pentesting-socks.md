# 1080 - Pentesting Socks

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

- **ã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¼šç¤¾**ã§åƒã„ã¦ã„ã¾ã™ã‹ï¼Ÿ **HackTricksã§ä¼šç¤¾ã‚’å®£ä¼**ã—ãŸã„ã§ã™ã‹ï¼Ÿã¾ãŸã¯ã€**PEASSã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã‚Šã€HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**ã—ãŸã„ã§ã™ã‹ï¼Ÿ[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼

- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’è¦‹ã¤ã‘ã¦ãã ã•ã„ã€‚ç‹¬å çš„ãª[**NFT**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã§ã™ã€‚

- [**å…¬å¼ã®PEASSï¼†HackTricksã®ã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’æ‰‹ã«å…¥ã‚Œã¾ã—ã‚‡ã†ã€‚

- [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«**å‚åŠ **ã™ã‚‹ã‹ã€**Twitter**ã§**ãƒ•ã‚©ãƒ­ãƒ¼**ã—ã¦ãã ã•ã„[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**ã€‚**

- **ãƒãƒƒã‚­ãƒ³ã‚°ã®ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã«ã¯ã€[hacktricks repo](https://github.com/carlospolop/hacktricks)ã¨[hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)**ã«PRã‚’æå‡ºã—ã¦ãã ã•ã„ã€‚

</details>

## åŸºæœ¬æƒ…å ±

SOCKSã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãƒ¼é–“ã§ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ‘ã‚±ãƒƒãƒˆã‚’ãƒ—ãƒ­ã‚­ã‚·ã‚µãƒ¼ãƒãƒ¼ã‚’ä»‹ã—ã¦äº¤æ›ã™ã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆãƒ—ãƒ­ãƒˆã‚³ãƒ«ã§ã™ã€‚\
SOCKS5ã¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§èªè¨¼ã‚’æä¾›ã—ã€èªè¨¼ã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã¿ãŒã‚µãƒ¼ãƒãƒ¼ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

å®Ÿéš›ã«ã¯ã€SOCKSã‚µãƒ¼ãƒãƒ¼ã¯TCPæ¥ç¶šã‚’ä»»æ„ã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ã«ãƒ—ãƒ­ã‚­ã‚·ã—ã€UDPãƒ‘ã‚±ãƒƒãƒˆã®è»¢é€æ‰‹æ®µã‚’æä¾›ã—ã¾ã™ã€‚\
SOCKSã¯OSIãƒ¢ãƒ‡ãƒ«ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼5ã§å‹•ä½œã—ã¾ã™ã€‚

**ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒãƒ¼ãƒˆ:** 1080

## åˆ—æŒ™

### èªè¨¼ãƒã‚§ãƒƒã‚¯
```bash
nmap -p 1080 <ip> --script socks-auth-info
```
### ãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹

#### åŸºæœ¬çš„ãªä½¿ç”¨æ³•

```bash
hydra -L users.txt -P passwords.txt <target> socks5
```

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã¯ã€æŒ‡å®šã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒªã‚¹ãƒˆï¼ˆ`users.txt`ï¼‰ã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚¹ãƒˆï¼ˆ`passwords.txt`ï¼‰ã‚’ä½¿ç”¨ã—ã¦ã€æŒ‡å®šã—ãŸã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼ˆ`<target>`ï¼‰ã«å¯¾ã—ã¦ SOCKS5 ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®ãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹æ”»æ’ƒã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
```bash
nmap --script socks-brute -p 1080 <ip>
```
#### é«˜åº¦ãªä½¿ç”¨æ³•

In some cases, you may encounter SOCKS proxies that require authentication. To authenticate with a SOCKS proxy, you need to provide a username and password. 

ã„ãã¤ã‹ã®å ´åˆã€èªè¨¼ãŒå¿…è¦ãªSOCKSãƒ—ãƒ­ã‚­ã‚·ã«é­é‡ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚SOCKSãƒ—ãƒ­ã‚­ã‚·ã«èªè¨¼ã™ã‚‹ã«ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’æä¾›ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

To specify the username and password when connecting to a SOCKS proxy, you can use the following syntax:

SOCKSãƒ—ãƒ­ã‚­ã‚·ã«æ¥ç¶šã™ã‚‹éš›ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’æŒ‡å®šã™ã‚‹ã«ã¯ã€æ¬¡ã®æ§‹æ–‡ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚

```
socks5://username:password@proxy_ip:proxy_port
```

Replace `username` with the desired username, `password` with the desired password, `proxy_ip` with the IP address of the SOCKS proxy, and `proxy_port` with the port number of the SOCKS proxy.

`username`ã‚’å¸Œæœ›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åã€`password`ã‚’å¸Œæœ›ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€`proxy_ip`ã‚’SOCKSãƒ—ãƒ­ã‚­ã‚·ã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ã€`proxy_port`ã‚’SOCKSãƒ—ãƒ­ã‚­ã‚·ã®ãƒãƒ¼ãƒˆç•ªå·ã«ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚

For example, if the SOCKS proxy requires the username "admin" and the password "password123", and it is running on IP address 192.168.0.1 with port 1080, you would use the following syntax:

ä¾‹ãˆã°ã€SOCKSãƒ—ãƒ­ã‚­ã‚·ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼åã€Œadminã€ãŠã‚ˆã³ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€Œpassword123ã€ã‚’è¦æ±‚ã—ã€IPã‚¢ãƒ‰ãƒ¬ã‚¹192.168.0.1ã§ãƒãƒ¼ãƒˆç•ªå·1080ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹å ´åˆã€æ¬¡ã®æ§‹æ–‡ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

```
socks5://admin:password123@192.168.0.1:1080
```

By providing the correct username and password, you can authenticate with the SOCKS proxy and establish a connection.

æ­£ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’æä¾›ã™ã‚‹ã“ã¨ã§ã€SOCKSãƒ—ãƒ­ã‚­ã‚·ã«èªè¨¼ã—ã€æ¥ç¶šã‚’ç¢ºç«‹ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
```bash
nmap  --script socks-brute --script-args userdb=users.txt,passdb=rockyou.txt,unpwdb.timelimit=30m -p 1080 <ip>
```
#### å‡ºåŠ›
```
PORT     STATE SERVICE
1080/tcp open  socks
| socks-brute:
|   Accounts
|     patrik:12345 - Valid credentials
|   Statistics
|_    Performed 1921 guesses in 6 seconds, average tps: 320
```
## ãƒˆãƒ³ãƒãƒªãƒ³ã‚°ã¨ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

### åŸºæœ¬çš„ãªproxychainsã®ä½¿ç”¨æ–¹æ³•

socksãƒ—ãƒ­ã‚­ã‚·ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã«ã€proxychainsã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã¾ã™ã€‚
```
nano /etc/proxychains4.conf
```
ç¿»è¨³ï¼š

ä»¥ä¸‹ã¯ã€ãƒãƒƒã‚­ãƒ³ã‚°æŠ€è¡“ã«é–¢ã™ã‚‹æœ¬ã®å†…å®¹ã§ã™ã€‚ä»¥ä¸‹ã®å†…å®¹ã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«/hive/hacktricks/network-services-pentesting/1080-pentesting-socks.mdã‹ã‚‰ã®ã‚‚ã®ã§ã™ã€‚é–¢é€£ã™ã‚‹è‹±æ–‡ã‚’æ—¥æœ¬èªã«ç¿»è¨³ã—ã€ç¿»è¨³ã‚’ä¿æŒã—ãŸã¾ã¾ã€åŒã˜ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãŠã‚ˆã³HTMLã®æ§‹æ–‡ã‚’è¿”ã—ã¦ãã ã•ã„ã€‚ã‚³ãƒ¼ãƒ‰ã€ãƒãƒƒã‚­ãƒ³ã‚°æŠ€è¡“ã®åå‰ã€ãƒãƒƒã‚­ãƒ³ã‚°ç”¨èªã€ã‚¯ãƒ©ã‚¦ãƒ‰/SaaSãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®åå‰ï¼ˆWorkspaceã€awsã€gcpãªã©ï¼‰ã€'leak'ã¨ã„ã†å˜èªã€pentestingã€ãŠã‚ˆã³ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚¿ã‚°ãªã©ã¯ç¿»è¨³ã—ãªã„ã§ãã ã•ã„ã€‚ã¾ãŸã€ç¿»è¨³ã¨ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã®æ§‹æ–‡ä»¥å¤–ã®è¿½åŠ ã®å†…å®¹ã¯è¿½åŠ ã—ãªã„ã§ãã ã•ã„ã€‚

ç¿»è¨³çµæœï¼š

## 1080 - Socks

### Socks Proxy

A Socks proxy is a proxy server that allows TCP/IP connections to other servers. It works at the transport layer of the OSI model and can provide authentication and encryption. Socks proxies are commonly used for bypassing firewalls and accessing restricted networks.

#### Socks4

Socks4 is an older version of the Socks protocol. It supports only TCP connections and does not provide authentication or encryption. Socks4 proxies are less secure compared to Socks5.

#### Socks5

Socks5 is the most commonly used version of the Socks protocol. It supports both TCP and UDP connections and provides authentication and encryption. Socks5 proxies are more secure and versatile compared to Socks4.

### Socks Proxy Tools

There are several tools available for working with Socks proxies:

- **Proxychains**: A tool that allows applications to use a proxy server.
- **Proxychains-ng**: An updated version of Proxychains.
- **Proxychains4**: A version of Proxychains that supports only Socks4 proxies.
- **Proxychains4-tor**: A version of Proxychains that routes traffic through Tor.
- **Proxychains4-socks5**: A version of Proxychains that supports only Socks5 proxies.

### Using Socks Proxies for Pentesting

Socks proxies can be useful for pentesting activities such as:

- **Anonymity**: Socks proxies can help hide the source IP address during network reconnaissance and attacks.
- **Bypassing Firewalls**: Socks proxies can bypass firewall restrictions and access restricted networks.
- **Traffic Manipulation**: Socks proxies can intercept and modify network traffic for analysis and exploitation.
- **Data Exfiltration**: Socks proxies can be used to exfiltrate data from a target network.

To use a Socks proxy for pentesting, configure the target application or tool to use the proxy server. This can usually be done by specifying the proxy settings in the application's configuration or using a tool like Proxychains.

### Example: Using Proxychains with Socks5 Proxy

Here is an example of using Proxychains with a Socks5 proxy:

1. Install Proxychains: `apt-get install proxychains`
2. Configure Proxychains: Edit the `/etc/proxychains.conf` file and add the Socks5 proxy information.
3. Run a command with Proxychains: `proxychains <command>`

Replace `<command>` with the command you want to run through the Socks5 proxy.

### Conclusion

Socks proxies are a valuable tool for pentesters, providing anonymity, bypassing firewalls, and enabling traffic manipulation. By understanding how to use Socks proxies effectively, pentesters can enhance their capabilities and achieve better results in their assessments.

---

ã“ã®æ–‡æ›¸ã®æœ€å¾Œã«ã€ã‚ãªãŸã®ãƒ—ãƒ­ã‚­ã‚·ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

Proxychainsã‚’ä½¿ç”¨ã—ãŸSocks5ãƒ—ãƒ­ã‚­ã‚·ã®ä¾‹ã‚’ä»¥ä¸‹ã«ç¤ºã—ã¾ã™ï¼š

1. Proxychainsã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ï¼š`apt-get install proxychains`
2. Proxychainsã‚’è¨­å®šã—ã¾ã™ï¼š`/etc/proxychains.conf`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã€Socks5ãƒ—ãƒ­ã‚­ã‚·ã®æƒ…å ±ã‚’è¿½åŠ ã—ã¾ã™ã€‚
3. Proxychainsã‚’ä½¿ç”¨ã—ã¦ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ï¼š`proxychains <command>`

`<command>`ã‚’Socks5ãƒ—ãƒ­ã‚­ã‚·ã‚’ä»‹ã—ã¦å®Ÿè¡Œã—ãŸã„ã‚³ãƒãƒ³ãƒ‰ã«ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚

çµè«–

Socksãƒ—ãƒ­ã‚­ã‚·ã¯ã€åŒ¿åæ€§ã®æä¾›ã€ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã®ãƒã‚¤ãƒ‘ã‚¹ã€ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã®æ“ä½œã‚’å¯èƒ½ã«ã™ã‚‹ãªã©ã€ãƒšãƒ³ãƒ†ã‚¹ã‚¿ãƒ¼ã«ã¨ã£ã¦è²´é‡ãªãƒ„ãƒ¼ãƒ«ã§ã™ã€‚Socksãƒ—ãƒ­ã‚­ã‚·ã‚’åŠ¹æœçš„ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ãƒšãƒ³ãƒ†ã‚¹ã‚¿ãƒ¼ã¯èƒ½åŠ›ã‚’å‘ä¸Šã•ã›ã€è©•ä¾¡ã«ãŠã„ã¦ã‚ˆã‚Šè‰¯ã„çµæœã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

---

æœ€å¾Œã«ã€ã‚ãªãŸã®ãƒ—ãƒ­ã‚­ã‚·ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚
```
socks5 10.10.10.10 1080
```
èªè¨¼ã‚ã‚Š
```
socks5 10.10.10.10 1080 username password
```
#### è©³ç´°æƒ…å ±ï¼š[ãƒˆãƒ³ãƒãƒªãƒ³ã‚°ã¨ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°](../generic-methodologies-and-resources/tunneling-and-port-forwarding.md)

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

- **ã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¼æ¥­ã§åƒã„ã¦ã„ã¾ã™ã‹ï¼Ÿ** **HackTricksã§ä¼šç¤¾ã‚’å®£ä¼**ã—ãŸã„ã§ã™ã‹ï¼Ÿã¾ãŸã¯ã€**PEASSã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã‚Šã€HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**ã—ãŸã„ã§ã™ã‹ï¼Ÿ[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼

- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’è¦‹ã¤ã‘ã¦ãã ã•ã„ã€‚ç‹¬å çš„ãª[**NFT**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã§ã™ã€‚

- [**å…¬å¼ã®PEASSï¼†HackTricksã®ã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’æ‰‹ã«å…¥ã‚Œã¾ã—ã‚‡ã†ã€‚

- [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«**å‚åŠ **ã™ã‚‹ã‹ã€**Twitter**ã§**ãƒ•ã‚©ãƒ­ãƒ¼**ã—ã¦ãã ã•ã„[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**

- **ãƒãƒƒã‚­ãƒ³ã‚°ã®ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã«ã¯ã€[hacktricksãƒªãƒã‚¸ãƒˆãƒª](https://github.com/carlospolop/hacktricks)ã¨[hacktricks-cloudãƒªãƒã‚¸ãƒˆãƒª](https://github.com/carlospolop/hacktricks-cloud)**ã«PRã‚’æå‡ºã—ã¦ãã ã•ã„ã€‚

</details>
