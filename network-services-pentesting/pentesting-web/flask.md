# Flask

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

* **ã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¼šç¤¾**ã§åƒã„ã¦ã„ã¾ã™ã‹ï¼Ÿ **HackTricksã§ä¼šç¤¾ã‚’å®£ä¼**ã—ãŸã„ã§ã™ã‹ï¼Ÿã¾ãŸã¯ã€**PEASSã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã‚Šã€HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**ã—ãŸã„ã§ã™ã‹ï¼Ÿ[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’è¦‹ã¤ã‘ã¦ãã ã•ã„ã€‚ç‹¬å çš„ãª[**NFT**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã§ã™ã€‚
* [**å…¬å¼ã®PEASSï¼†HackTricksã®ã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’æ‰‹ã«å…¥ã‚Œã¾ã—ã‚‡ã†ã€‚
* [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«**å‚åŠ **ã™ã‚‹ã‹ã€**Twitter**ã§**ãƒ•ã‚©ãƒ­ãƒ¼**ã—ã¦ãã ã•ã„[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**ã€‚**
* **ãƒãƒƒã‚­ãƒ³ã‚°ã®ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã«ã¯ã€PRã‚’** [**hacktricks repo**](https://github.com/carlospolop/hacktricks) **ã¨** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **ã«æå‡ºã—ã¦ãã ã•ã„ã€‚**

</details>

<figure><img src="../../.gitbook/assets/image (9) (1) (2).png" alt=""><figcaption></figcaption></figure>

[**Trickest**](https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks)ã‚’ä½¿ç”¨ã—ã¦ã€ä¸–ç•Œã§æœ€ã‚‚é«˜åº¦ãªã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ„ãƒ¼ãƒ«ã«ã‚ˆã£ã¦å¼·åŒ–ã•ã‚ŒãŸ**ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ç°¡å˜ã«æ§‹ç¯‰**ãŠã‚ˆã³**è‡ªå‹•åŒ–**ã—ã¾ã™ã€‚\
ä»Šã™ãã‚¢ã‚¯ã‚»ã‚¹ã‚’å–å¾—ï¼š

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

**ãŠãã‚‰ãã€CTFã‚’ãƒ—ãƒ¬ã‚¤ã—ã¦ã„ã‚‹å ´åˆã€Flaskã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯** [**SSTI**](../../pentesting-web/ssti-server-side-template-injection/)**ã«é–¢é€£ã—ã¦ã„ã‚‹ã§ã—ã‚‡ã†ã€‚**

## Cookies

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¯ãƒƒã‚­ãƒ¼ã‚»ãƒƒã‚·ãƒ§ãƒ³åã¯**`session`**ã§ã™ã€‚

### ãƒ‡ã‚³ãƒ¼ãƒ€ãƒ¼

ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã®Flaskã‚¯ãƒƒã‚­ãƒ¼ãƒ‡ã‚³ãƒ¼ãƒ€ãƒ¼ï¼š[https://www.kirsle.net/wizards/flask-session.cgi](https://www.kirsle.net/wizards/flask-session.cgi)

#### æ‰‹å‹•

æœ€åˆã®ãƒ‰ãƒƒãƒˆã¾ã§ã®ã‚¯ãƒƒã‚­ãƒ¼ã®æœ€åˆã®éƒ¨åˆ†ã‚’å–å¾—ã—ã€Base64ã§ãƒ‡ã‚³ãƒ¼ãƒ‰ã—ã¾ã™>
```bash
echo "ImhlbGxvIg" | base64 -d
```
ã‚¯ãƒƒã‚­ãƒ¼ã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ç½²åã•ã‚Œã¦ã„ã¾ã™ã€‚

### **Flask-Unsign**

ç§˜å¯†ã®ã‚­ãƒ¼ã‚’æ¨æ¸¬ã—ã¦ã€Flaskã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¯ãƒƒã‚­ãƒ¼ã‚’å–å¾—ã€ãƒ‡ã‚³ãƒ¼ãƒ‰ã€ãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹ã€ãŠã‚ˆã³ä½œæˆã™ã‚‹ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

{% embed url="https://pypi.org/project/flask-unsign/" %}
```bash
pip3 install flask-unsign
```
#### **Cookieã®ãƒ‡ã‚³ãƒ¼ãƒ‰**

```plaintext
The first step in analyzing a web application is to understand how it handles user sessions. One common method is through the use of cookies. Cookies are small pieces of data that are stored on the user's browser and are sent back to the server with each request.

In some cases, the cookies may be encoded or encrypted to protect the data they contain. To analyze the contents of a cookie, you will need to decode it.

There are several tools and techniques available to decode cookies. One popular tool is the "base64" encoding scheme. Base64 is a binary-to-text encoding scheme that represents binary data in an ASCII string format.

To decode a cookie encoded in base64, you can use online tools or programming libraries. For example, in Python, you can use the `base64` module to decode a base64-encoded cookie.

Here is an example of how to decode a base64-encoded cookie using Python:

```python
import base64

encoded_cookie = "SGVsbG8gV29ybGQh"
decoded_cookie = base64.b64decode(encoded_cookie).decode('utf-8')

print(decoded_cookie)
```

This will output the decoded cookie: "Hello World!".

By decoding the cookie, you can analyze the data it contains and gain insights into how the web application handles user sessions. This can be useful for identifying vulnerabilities or understanding the application's behavior.
```

Cookieã®ãƒ‡ã‚³ãƒ¼ãƒ‰
----------------

ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è§£æã‚’å§‹ã‚ã‚‹æœ€åˆã®ã‚¹ãƒ†ãƒƒãƒ—ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å‡¦ç†æ–¹æ³•ã‚’ç†è§£ã™ã‚‹ã“ã¨ã§ã™ã€‚ä¸€èˆ¬çš„ãªæ–¹æ³•ã®1ã¤ã¯ã€Cookieã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã™ã€‚Cookieã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ–ãƒ©ã‚¦ã‚¶ã«ä¿å­˜ã•ã‚Œã€å„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨å…±ã«ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã•ã‚Œã‚‹å°ã•ãªãƒ‡ãƒ¼ã‚¿ã®å¡Šã§ã™ã€‚

å ´åˆã«ã‚ˆã£ã¦ã¯ã€Cookieã«å«ã¾ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’ä¿è­·ã™ã‚‹ãŸã‚ã«ã€CookieãŒã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã¾ãŸã¯æš—å·åŒ–ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚Cookieã®å†…å®¹ã‚’è§£æã™ã‚‹ã«ã¯ã€ãã‚Œã‚’ãƒ‡ã‚³ãƒ¼ãƒ‰ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

Cookieã‚’ãƒ‡ã‚³ãƒ¼ãƒ‰ã™ã‚‹ãŸã‚ã«ã¯ã€ã„ãã¤ã‹ã®ãƒ„ãƒ¼ãƒ«ã‚„ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ãŒåˆ©ç”¨ã§ãã¾ã™ã€‚äººæ°—ã®ã‚ã‚‹ãƒ„ãƒ¼ãƒ«ã®1ã¤ã¯ã€"base64"ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¹ã‚­ãƒ¼ãƒ ã§ã™ã€‚Base64ã¯ã€ãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿ã‚’ASCIIæ–‡å­—åˆ—å½¢å¼ã§è¡¨ç¾ã™ã‚‹ãƒã‚¤ãƒŠãƒª-ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¹ã‚­ãƒ¼ãƒ ã§ã™ã€‚

Pythonã§ã¯ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã‚„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦ã€Base64ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸCookieã‚’ãƒ‡ã‚³ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä¾‹ãˆã°ã€Pythonã§ã¯ã€`base64`ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦Base64ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸCookieã‚’ãƒ‡ã‚³ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ä»¥ä¸‹ã¯ã€Pythonã‚’ä½¿ç”¨ã—ã¦Base64ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸCookieã‚’ãƒ‡ã‚³ãƒ¼ãƒ‰ã™ã‚‹æ–¹æ³•ã®ä¾‹ã§ã™ã€‚

```python
import base64

encoded_cookie = "SGVsbG8gV29ybGQh"
decoded_cookie = base64.b64decode(encoded_cookie).decode('utf-8')

print(decoded_cookie)
```

ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ‡ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸCookie "Hello World!" ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

Cookieã‚’ãƒ‡ã‚³ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ã§ã€ãã‚ŒãŒå«ã‚€ãƒ‡ãƒ¼ã‚¿ã‚’è§£æã—ã€ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’å‡¦ç†ã™ã‚‹æ–¹æ³•ã‚’ç†è§£ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã¯ã€è„†å¼±æ€§ã®ç‰¹å®šã‚„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å‹•ä½œã®ç†è§£ã«å½¹ç«‹ã¡ã¾ã™ã€‚
```bash
flask-unsign --decode --cookie 'eyJsb2dnZWRfaW4iOmZhbHNlfQ.XDuWxQ.E2Pyb6x3w-NODuflHoGnZOEpbH8'
```
#### **ãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹æ”»æ’ƒ**

Brute Forceï¼ˆãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹ï¼‰æ”»æ’ƒã¯ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚„èªè¨¼æƒ…å ±ã‚’æ¨æ¸¬ã™ã‚‹ãŸã‚ã«ã€ç·å½“ãŸã‚Šã§å¯èƒ½ãªã™ã¹ã¦ã®çµ„ã¿åˆã‚ã›ã‚’è©¦ã™æ”»æ’ƒæ‰‹æ³•ã§ã™ã€‚ã“ã®æ”»æ’ƒã¯ã€å¼·åŠ›ãªã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã¨æ™‚é–“ãŒå¿…è¦ã§ã™ãŒã€è„†å¼±ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚„å¼±ã„èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã«å¯¾ã—ã¦åŠ¹æœçš„ã§ã™ã€‚

ãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹æ”»æ’ƒã¯ã€Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆã«ãŠã„ã¦é‡è¦ãªæ‰‹æ³•ã§ã™ã€‚æ”»æ’ƒè€…ã¯ã€ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ ã‚„èªè¨¼APIãªã©ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«å¯¾ã—ã¦ã€ã•ã¾ã–ã¾ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è©¦ã™ã“ã¨ã§ã€æ­£ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ç‰¹å®šã—ã‚ˆã†ã¨ã—ã¾ã™ã€‚

ãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹æ”»æ’ƒã‚’é˜²ããŸã‚ã«ã¯ã€å¼·åŠ›ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒªã‚·ãƒ¼ã‚’å®Ÿè£…ã—ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ­ãƒƒã‚¯ã‚¢ã‚¦ãƒˆæ©Ÿèƒ½ã‚„CAPTCHAãªã©ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’å°å…¥ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚ã¾ãŸã€ãƒ­ã‚°ã‚¤ãƒ³è©¦è¡Œå›æ•°ã®åˆ¶é™ã‚„IPã‚¢ãƒ‰ãƒ¬ã‚¹ã®ãƒ–ãƒ­ãƒƒã‚¯ãªã©ã®å¯¾ç­–ã‚‚æœ‰åŠ¹ã§ã™ã€‚

ãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹æ”»æ’ƒã¯ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆã®ä¸€ç’°ã¨ã—ã¦ã€åˆæ³•çš„ãªç›®çš„ã§ä½¿ç”¨ã•ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚ã—ã‹ã—ã€æ‚ªæ„ã®ã‚ã‚‹æ”»æ’ƒè€…ã«ã‚ˆã£ã¦æ‚ªç”¨ã•ã‚Œã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚‹ãŸã‚ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ã‚’é©åˆ‡ã«å®Ÿæ–½ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚
```bash
flask-unsign --wordlist /usr/share/wordlists/rockyou.txt --unsign --cookie '<cookie>' --no-literal-eval
```
#### **ç½²å**

Signing is a process used to verify the authenticity and integrity of data. In the context of web applications, signing is often used to ensure that data sent between the client and the server has not been tampered with.

In Flask, signing can be achieved using the `itsdangerous` library. This library provides a `Signer` class that can be used to sign and verify data.

To sign data in Flask, you first need to create a signer object by passing a secret key to the `Signer` class. The secret key should be a long and random string that is kept secret.

```python
from itsdangerous import Signer

secret_key = "mysecretkey"
signer = Signer(secret_key)
```

Once you have a signer object, you can use the `sign` method to sign data. The `sign` method takes a string as input and returns a signed string.

```python
data = "Hello, world!"
signed_data = signer.sign(data)
```

To verify the signed data, you can use the `unsign` method. The `unsign` method takes a signed string as input and returns the original data if the signature is valid. If the signature is invalid or the data has been tampered with, an exception will be raised.

```python
try:
    original_data = signer.unsign(signed_data)
    print(original_data)
except:
    print("Invalid signature")
```

By using signing in your Flask applications, you can ensure the integrity and authenticity of data transmitted between the client and the server. This can help prevent data tampering and unauthorized access to sensitive information.

#### **ç½²å**

ç½²åã¯ãƒ‡ãƒ¼ã‚¿ã®çœŸæ­£æ€§ã¨å®Œå…¨æ€§ã‚’æ¤œè¨¼ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã§ã™ã€‚Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ–‡è„ˆã§ã¯ã€ç½²åã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãƒ¼é–“ã§é€ä¿¡ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ãŒæ”¹ã–ã‚“ã•ã‚Œã¦ã„ãªã„ã“ã¨ã‚’ä¿è¨¼ã™ã‚‹ãŸã‚ã«ã‚ˆãä½¿ç”¨ã•ã‚Œã¾ã™ã€‚

Flaskã§ã¯ã€`itsdangerous`ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦ç½²åã‚’å®Ÿç¾ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€ãƒ‡ãƒ¼ã‚¿ã®ç½²åã¨æ¤œè¨¼ã‚’è¡Œã†ãŸã‚ã«ä½¿ç”¨ã§ãã‚‹`Signer`ã‚¯ãƒ©ã‚¹ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚

Flaskã§ãƒ‡ãƒ¼ã‚¿ã«ç½²åã™ã‚‹ã«ã¯ã€ã¾ãš`Signer`ã‚¯ãƒ©ã‚¹ã«ç§˜å¯†éµã‚’æ¸¡ã™ã“ã¨ã§ç½²åã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ç§˜å¯†éµã¯é•·ããƒ©ãƒ³ãƒ€ãƒ ãªæ–‡å­—åˆ—ã§ã‚ã‚Šã€ç§˜å¯†ã«ä¿æŒã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```python
from itsdangerous import Signer

secret_key = "mysecretkey"
signer = Signer(secret_key)
```

ç½²åã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æŒã£ã¦ã„ã‚‹å ´åˆã€`sign`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã«ç½²åã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚`sign`ãƒ¡ã‚½ãƒƒãƒ‰ã¯æ–‡å­—åˆ—ã‚’å…¥åŠ›ã¨ã—ã¦å—ã‘å–ã‚Šã€ç½²åã•ã‚ŒãŸæ–‡å­—åˆ—ã‚’è¿”ã—ã¾ã™ã€‚

```python
data = "Hello, world!"
signed_data = signer.sign(data)
```

ç½²åã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’æ¤œè¨¼ã™ã‚‹ã«ã¯ã€`unsign`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚`unsign`ãƒ¡ã‚½ãƒƒãƒ‰ã¯ç½²åã•ã‚ŒãŸæ–‡å­—åˆ—ã‚’å…¥åŠ›ã¨ã—ã¦å—ã‘å–ã‚Šã€ç½²åãŒæœ‰åŠ¹ã§ã‚ã‚Œã°å…ƒã®ãƒ‡ãƒ¼ã‚¿ã‚’è¿”ã—ã¾ã™ã€‚ç½²åãŒç„¡åŠ¹ã§ã‚ã‚‹ã‹ã€ãƒ‡ãƒ¼ã‚¿ãŒæ”¹ã–ã‚“ã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ä¾‹å¤–ãŒç™ºç”Ÿã—ã¾ã™ã€‚

```python
try:
    original_data = signer.unsign(signed_data)
    print(original_data)
except:
    print("ç„¡åŠ¹ãªç½²åã§ã™")
```

Flaskã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ç½²åã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãƒ¼é–“ã§é€ä¿¡ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã®å®Œå…¨æ€§ã¨çœŸæ­£æ€§ã‚’ä¿è¨¼ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ‡ãƒ¼ã‚¿ã®æ”¹ã–ã‚“ã‚„æ©Ÿå¯†æƒ…å ±ã¸ã®ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹ã‚’é˜²ãã“ã¨ãŒã§ãã¾ã™ã€‚
```bash
flask-unsign --sign --cookie "{'logged_in': True}" --secret 'CHANGEME'
```
#### ãƒ¬ã‚¬ã‚·ãƒ¼ï¼ˆå¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰ã‚’ä½¿ç”¨ã—ãŸç½²å

Legacy versions of Flask, such as Flask 0.11 and below, use a different method for signing cookies compared to the current versions. In these older versions, the `itsdangerous` library is used for signing cookies.

To sign a cookie using legacy Flask versions, you can follow these steps:

1. Import the `itsdangerous` library: `from itsdangerous import Signer`.
2. Create an instance of the `Signer` class, passing in a secret key: `signer = Signer('your_secret_key')`.
3. Use the `signer.sign()` method to sign the cookie value: `signed_value = signer.sign('cookie_value')`.
4. Set the signed cookie value in the response: `response.set_cookie('cookie_name', signed_value)`.

Keep in mind that using legacy signing methods may have security implications, as newer versions of Flask have introduced improvements to the signing process. It is recommended to upgrade to the latest version of Flask and use the current signing method for better security.
```bash
flask-unsign --sign --cookie "{'logged_in': True}" --secret 'CHANGEME' --legacy
```
### **RIPsession**

flask-unsignã‚’ä½¿ç”¨ã—ã¦ä½œæˆã•ã‚ŒãŸã‚¯ãƒƒã‚­ãƒ¼ã‚’ä½¿ç”¨ã—ã¦ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹ã™ã‚‹ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

{% embed url="https://github.com/Tagvi/ripsession" %}
```bash
ripsession -u 10.10.11.100 -c "{'logged_in': True, 'username': 'changeMe'}" -s password123 -f "user doesn't exist" -w wordlist.txt
```
### Flaskã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¯ãƒƒã‚­ãƒ¼ã®SQLiã«ãŠã‘ã‚‹SQLmap

[**ã“ã®ä¾‹**](../../pentesting-web/sql-injection/sqlmap/#eval)ã§ã¯ã€æ—¢çŸ¥ã®ç§˜å¯†ã‚’ä½¿ç”¨ã—ã¦ã€sqlmapã®`eval`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã€Flaskã«å¯¾ã—ã¦è‡ªå‹•çš„ã«sqlmapãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã«ç½²åã—ã¾ã™ã€‚

<figure><img src="../../.gitbook/assets/image (9) (1) (2).png" alt=""><figcaption></figcaption></figure>

[**Trickest**](https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks)ã‚’ä½¿ç”¨ã—ã¦ã€ä¸–ç•Œã§æœ€ã‚‚é«˜åº¦ãªã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ„ãƒ¼ãƒ«ã«ã‚ˆã£ã¦å¼·åŒ–ã•ã‚ŒãŸ**ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ç°¡å˜ã«æ§‹ç¯‰**ã—ã€è‡ªå‹•åŒ–ã—ã¾ã™ã€‚\
ä»Šã™ãã‚¢ã‚¯ã‚»ã‚¹ã‚’å–å¾—ï¼š

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

* **ã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¼æ¥­ã§åƒã„ã¦ã„ã¾ã™ã‹ï¼Ÿ** **HackTricksã§ä¼šç¤¾ã‚’å®£ä¼**ã—ãŸã„ã§ã™ã‹ï¼Ÿã¾ãŸã¯ã€**æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®PEASSã‚’å…¥æ‰‹**ã—ãŸã‚Šã€HackTricksã‚’**PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**ã—ãŸã‚Šã—ãŸã„ã§ã™ã‹ï¼Ÿ[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã¾ã—ã‚‡ã†ã€‚ç‹¬å çš„ãª[**NFT**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã§ã™ã€‚
* [**å…¬å¼ã®PEASSï¼†HackTricksã®ã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’æ‰‹ã«å…¥ã‚Œã¾ã—ã‚‡ã†ã€‚
* [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«**å‚åŠ **ã™ã‚‹ã‹ã€**Twitter**ã§ç§ã‚’**ãƒ•ã‚©ãƒ­ãƒ¼**ã—ã¦ãã ã•ã„[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks\_live)**ã€‚**
* **ãƒãƒƒã‚­ãƒ³ã‚°ã®ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã«ã¯ã€**[**hacktricks repo**](https://github.com/carlospolop/hacktricks) **ãŠã‚ˆã³** [**hacktricks-cloud repo**](https://github.com/carlospolop/hacktricks-cloud) **ã«PRã‚’æå‡ºã—ã¦ãã ã•ã„ã€‚**

</details>
