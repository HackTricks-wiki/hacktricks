# 5800,5801,5900,5901 - Pentesting VNC

<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>â˜ï¸ HackTricks Cloud â˜ï¸</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>ğŸ¦ Twitter ğŸ¦</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>ğŸ™ï¸ Twitch ğŸ™ï¸</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>ğŸ¥ Youtube ğŸ¥</strong></a></summary>

- VocÃª trabalha em uma **empresa de seguranÃ§a cibernÃ©tica**? VocÃª quer ver sua **empresa anunciada no HackTricks**? ou vocÃª quer ter acesso Ã  **Ãºltima versÃ£o do PEASS ou baixar o HackTricks em PDF**? Confira os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!

- Descubra [**A FamÃ­lia PEASS**](https://opensea.io/collection/the-peass-family), nossa coleÃ§Ã£o exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)

- Adquira o [**swag oficial do PEASS & HackTricks**](https://peass.creator-spring.com)

- **Junte-se ao** [**ğŸ’¬**](https://emojipedia.org/speech-balloon/) [**grupo do Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo do telegram**](https://t.me/peass) ou **siga-me** no **Twitter** [**ğŸ¦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**

- **Compartilhe suas tÃ©cnicas de hacking enviando PRs para o [repositÃ³rio hacktricks](https://github.com/carlospolop/hacktricks) e [hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)**.

</details>

## InformaÃ§Ãµes BÃ¡sicas

Na computaÃ§Ã£o, **Virtual Network Computing** (**VNC**) Ã© um sistema de compartilhamento de desktop grÃ¡fico que usa o protocolo Remote Frame Buffer (RFB) para controlar remotamente outro computador. Ele transmite os eventos do teclado e do mouse de um computador para outro, transmitindo as atualizaÃ§Ãµes da tela grÃ¡fica na outra direÃ§Ã£o, por meio de uma rede.\
De [wikipedia](https://en.wikipedia.org/wiki/Virtual\_Network\_Computing).

O VNC geralmente usa as portas **5800 ou 5801 ou 5900 ou 5901.**
```
PORT    STATE SERVICE
5900/tcp open  vnc
```
## EnumeraÃ§Ã£o
```bash
nmap -sV --script vnc-info,realvnc-auth-bypass,vnc-title -p <PORT> <IP>
msf> use auxiliary/scanner/vnc/vnc_none_auth
```
## Conectar ao VNC usando o Kali

Para se conectar a um servidor VNC usando o Kali, vocÃª pode usar o comando `vncviewer`. Por exemplo, para se conectar a um servidor VNC em `192.168.0.100:5901`, vocÃª pode executar o seguinte comando:

```
vncviewer 192.168.0.100:5901
```

Isso abrirÃ¡ uma janela do VNC e solicitarÃ¡ suas credenciais de autenticaÃ§Ã£o. Se vocÃª tiver as credenciais corretas, poderÃ¡ acessar o servidor VNC. Se nÃ£o, vocÃª receberÃ¡ uma mensagem de erro informando que a conexÃ£o falhou.
```bash
vncviewer [-passwd passwd.txt] <IP>::5901
```
## Descriptografando a senha do VNC

A **senha padrÃ£o Ã© armazenada** em: \~/.vnc/passwd

Se vocÃª tiver a senha do VNC e ela parecer criptografada (alguns bytes, como se fosse uma senha criptografada), provavelmente estÃ¡ cifrada com 3des. VocÃª pode obter a senha em texto claro usando [https://github.com/jeroennijhof/vncpwd](https://github.com/jeroennijhof/vncpwd)
```bash
make
vncpwd <vnc password file>
```
VocÃª pode fazer isso porque a senha usada dentro do 3des para criptografar as senhas VNC em texto simples foi revertida anos atrÃ¡s.\
Para **Windows**, vocÃª tambÃ©m pode usar esta ferramenta: [https://www.raymond.cc/blog/download/did/232/](https://www.raymond.cc/blog/download/did/232/)\
Eu salvei a ferramenta aqui tambÃ©m para facilitar o acesso:

{% file src="../.gitbook/assets/vncpwd.zip" %}

## Shodan

* `port:5900 RFB`
