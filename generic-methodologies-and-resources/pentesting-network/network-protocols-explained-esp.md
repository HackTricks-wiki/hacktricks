<details>

<summary><strong>Aprende a hackear AWS de cero a h茅roe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Experto en Equipos Rojos de AWS de HackTricks)</strong></a><strong>!</strong></summary>

Otras formas de apoyar a HackTricks:

* Si deseas ver tu **empresa anunciada en HackTricks** o **descargar HackTricks en PDF** 隆Consulta los [**PLANES DE SUSCRIPCIN**](https://github.com/sponsors/carlospolop)!
* Obt茅n la [**merchandising oficial de PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubre [**La Familia PEASS**](https://opensea.io/collection/the-peass-family), nuestra colecci贸n exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **nete al**  [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s铆guenos** en **Twitter**  [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>


# Multicast DNS \(mDNS\)

El protocolo **multicast DNS** \(**mDNS**\) resuelve nombres de host a direcciones IP dentro de redes peque帽as que no incluyen un servidor de nombres local.

Cuando un cliente mDNS necesita resolver un nombre de host, env铆a un mensaje de consulta de multidifusi贸n IP que solicita al host que tiene ese nombre que se identifique. Esa m谩quina objetivo luego env铆a en multidifusi贸n un mensaje que incluye su direcci贸n IP. Todas las m谩quinas en esa subred pueden usar esa informaci贸n para actualizar sus cach茅s mDNS.

Cualquier host puede renunciar a su reclamo de un nombre de dominio enviando un paquete de respuesta con un Tiempo de Vida \(TTL\) igual a cero.

Por defecto, mDNS resuelve exclusivamente nombres de host que terminan con el dominio de nivel superior **.local**. Esto puede causar problemas si ese dominio incluye hosts que no implementan mDNS pero que se pueden encontrar a trav茅s de un servidor DNS unicast convencional. Resolver tales conflictos requiere cambios en la configuraci贸n de la red.

* Al usar tramas Ethernet, la direcci贸n MAC de multidifusi贸n est谩ndar es _01:00:5E:00:00:FB_ \(para IPv4\) o _33:33:00:00:00:FB_ \(para IPv6\).
* Direcci贸n IPv4 _224.0.0.251_ o direcci贸n IPv6 _ff02::fb_.
* Puerto UDP 5353.

Las consultas mDNS no pasar谩n por routers \(se difunden solo en Ethernet\).

# DNS-SD \(Descubrimiento de Servicios\)

Este protocolo se puede utilizar para descubrir hosts en la red. Para hacerlo, puedes solicitar nombres de dominio especiales \(por ejemplo, _\_printers\_tcp.local_\) y todos los dominios relacionados con ese nombre responder谩n \(en este caso, impresoras\). Se puede encontrar una lista completa con estos nombres especiales [aqu铆](http://www.dns-sd.org/ServiceTypes.html).

# SSDP

El Protocolo Simple de Descubrimiento de Servicios se utiliza para descubrir servicios en una red principalmente para utilizar el protocolo UPnP.

SSDP es un protocolo basado en texto basado en [HTTPU](https://en.wikipedia.org/wiki/HTTPU). Utiliza UDP como protocolo de transporte subyacente. Los servicios se anuncian por el sistema de alojamiento con direccionamiento de multidifusi贸n a una direcci贸n IP de multidifusi贸n espec铆ficamente designada en el puerto UDP n煤mero 1900. En IPv4, la direcci贸n de multidifusi贸n es 239.255.255.250.

# WSD

**Servicio Web para Dispositivos**.
Este servicio permite que un dispositivo conectado en una red descubra qu茅 servicios \(como impresoras\) est谩n disponibles en la red.

El cliente puede enviar un paquete UDP de difusi贸n solicitando alg煤n tipo de servicio o el proveedor de servicios puede enviar un paquete de difusi贸n diciendo que est谩 ofreciendo un servicio.

# OAuth2.0

Protocolo que te permite compartir tu informaci贸n, por ejemplo, de Google con otros servicios.

B谩sicamente **te permite compartir la informaci贸n justa** y necesaria que se almacena en un servicio, con otro. De esta manera puedes iniciar sesi贸n m谩s r谩pido y tus **datos se almacenan solo en un lugar** y no tienes que introducir nombres de usuario/contrase帽as en todas partes.

Funciona de la siguiente manera:

Primero debes estar ya iniciado sesi贸n en Google o se abrir谩 una ventana para que inicies sesi贸n. Inmediatamente despu茅s, el servicio solicitar谩 al servidor de Google un token para acceder a tu informaci贸n. Google mostrar谩 una de esas pantallas de "_La aplicaci贸n XXXXX quiere acceder a esta informaci贸n tuya: ..._" cuando hagas clic en aceptar, Google responder谩 a la aplicaci贸n con un c贸digo que la aplicaci贸n utilizar谩 para solicitar un token con el cual Google responder谩. Una vez que la aplicaci贸n tiene un token, puede usarse con la API de Google para obtener la informaci贸n solicitada.

# RADIUS

Protocolo de autenticaci贸n y autorizaci贸n para acceder a una red. \(Utiliza el puerto UDP 1813\)

Principalmente utilizado por proveedores de servicios de Internet para gestionar el acceso a la red de sus clientes.

Permite Autenticaci贸n, Autorizaci贸n y Anotaci贸n.

驴C贸mo funciona?

El usuario primero habla con el NAS \(puerta de enlace al servidor\), verifica que el nombre y la contrase帽a enviados sean v谩lidos al preguntar al servidor RADIUS.

Opcionalmente, para una mayor seguridad, se puede verificar la direcci贸n de red o el n煤mero de tel茅fono del servidor para ver si coincide.

Tanto el servidor RADIUS como el usuario que intenta conectarse tienen un "secreto compartido", de esta manera el servidor RADIUS env铆a un desaf铆o al NAS que reenv铆a al usuario que est谩 iniciando sesi贸n, este lo cifra con dicho secreto y lo reenv铆a al NAS y si coincide con el cifrado que ha hecho RADIUS, el usuario ha demostrado su identidad.

Una vez que se ha demostrado la identidad, el usuario de RADIUS instruye al NAS para asignar al usuario una direcci贸n IP. Adem谩s, cuando esto se hace, el NAS env铆a un mensaje de inicio a RADIUS para que lo registre. Cuando el usuario cierra la sesi贸n, el NAS env铆a un mensaje de terminaci贸n. De esta manera, RADIUS registra el consumo de la sesi贸n para poder facturar en consecuencia \(estos datos tambi茅n se utilizan por razones estad铆sticas\)


# SMB y NetBIOS

##  **SMB**

Es un protocolo de uso compartido de archivos/impresoras/puertos...

Esto puede ejecutarse directamente sobre TCP en el puerto 445 \(que si haces un escaneo de Windows ver谩s que se llama por microsoft-ds\)

O sobre UDP 137, 138 o TCP 137, 138 que utiliza NetBIOS sobre TCP \(llamado netbios-ssn\)

El objetivo de SMB al implementarse solo sobre TCP o sobre NetBIOS + TCP es aumentar la capacidad de comunicaci贸n con m谩s equipos que solo admiten uno u otro.

## **NetBIOS**

Su funci贸n es establecer sesiones y mantener conexiones para compartir recursos de red, pero para enviar paquetes de un sitio a otro requiere IPC/IPX o NetBEUI o TCP/IP.

Cada m谩quina que utiliza NetBIOS debe tener un **nombre** 煤nico que la distinga del resto. Por lo tanto, cuando llega una nueva m谩quina, primero se verifica que nadie est茅 usando el nombre que est谩 solicitando usar. Tambi茅n hay **nombres de grupo** que pueden ser utilizados por tantas estaciones como deseen, pero no puede haber dos grupos con el mismo nombre. Es una forma de poder enviar mensajes a varias m谩quinas. Por lo tanto, puedes enviar mensajes a un usuario, a un grupo o en difusi贸n.

La conexi贸n puede ser sin conexi贸n o orientada a la conexi贸n:

**sin conexi贸n:** Se env铆a un datagrama al destino pero no hay forma de saludo o mensaje recibido. La m谩quina de destino debe estar configurada para poder recibir datagramas.

**orientada a la conexi贸n:** Se crea una sesi贸n entre dos nombres \(incluso puede ser entre dos nombres de la misma m谩quina\) si se env铆a un mensaje recibido o de error.

**NetBEUI** realmente consiste en NetBIOS sobre NetBEUI que es un protocolo de red y transporte que conduce a NetBIOS, era r谩pido pero muy ruidoso porque emit铆a muchas difusiones, tambi茅n se puede tener SMB sobre NetBEUI pero es m谩s com煤n que NetBIOS se ejecute sobre TCP.

# LDAP

Protocolo que permite gestionar directorios y acceder a bases de informaci贸n de usuarios a trav茅s de TCP/IP.

Permite tanto extraer informaci贸n como introducirla a trav茅s de diferentes comandos.

Por lo tanto, es un protocolo que se utiliza para acceder a diversas bases de datos que est谩n preparadas para hablar este protocolo.

# Active Directory

B谩sicamente es una base de datos de objetos con informaci贸n como usuarios, grupos, privilegios y recursos que es accesible desde la red \(a trav茅s de un dominio\) para que dicha informaci贸n pueda ser accedida y gestionada de forma centralizada.

Servidor que guarda objetos. Estos objetos son visibles en la red a trav茅s de un dominio. Un dominio puede tener dentro de 茅l su servidor donde est谩 implementado, grupos, usuarios...

Tambi茅n se pueden tener subdominios que tienen su propio servidor asociado con sus grupos, usuarios...

De esta manera, la gesti贸n de los usuarios de una red est谩 centralizada, ya que los usuarios que pueden iniciar sesi贸n pueden generarse en este servidor, con los permisos que tienen para saber si pueden acceder a ciertos recursos de red y as铆 todo esto se puede controlar de una manera sencilla.

De esta manera puedes consultar el directorio con un nombre de usuario y obtener informaci贸n como el correo electr贸nico o el n煤mero de tel茅fono. Tambi茅n puedes hacer consultas generales como: 驴d贸nde est谩n las impresoras? 驴Cu谩les son los nombres de dominio?


<details>

<summary><strong>Aprende a hackear AWS de cero a h茅roe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Experto en Equipos Rojos de AWS de HackTricks)</strong></a><strong>!</strong></summary>

Otras formas de apoyar a HackTricks:

* Si deseas ver tu **empresa anunciada en HackTricks** o **descargar HackTricks en PDF** 隆Consulta los [**PLANES DE SUSCRIPCIN**](https://github.com/sponsors/carlospolop)!
* Obt茅n la [**merchandising oficial de PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubre [**La Familia PEASS**](https://opensea.io/collection/the-peass-family), nuestra colecci贸n exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **nete al**  [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s铆guenos** en **Twitter**  [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
