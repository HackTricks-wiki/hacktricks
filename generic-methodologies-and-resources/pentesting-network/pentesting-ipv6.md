<details>

<summary><strong>ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã¶</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTEï¼ˆHackTricks AWS Red Team Expertï¼‰</strong></a><strong>ï¼</strong></summary>

HackTricks ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•:

* **HackTricks ã§ä¼æ¥­ã‚’å®£ä¼ã—ãŸã‚Šã€HackTricks ã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„å ´åˆã¯** [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop) ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**å…¬å¼PEASSï¼†HackTricksã‚°ãƒƒã‚º**](https://peass.creator-spring.com)ã‚’å…¥æ‰‹ã™ã‚‹
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª[**NFTs**](https://opensea.io/collection/the-peass-family)ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦‹ã¤ã‘ã‚‹
* **ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f) ã«å‚åŠ ã™ã‚‹ã‹ã€[**telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass) ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live) ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹
* **ãƒãƒƒã‚­ãƒ³ã‚°ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ãŸã‚ã«ã€PRã‚’** [**HackTricks**](https://github.com/carlospolop/hacktricks) **ã¨** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«æå‡ºã—ã¦ãã ã•ã„ã€‚**

</details>


# IPv6åŸºæœ¬ç†è«–

## ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯

IPv6ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã¯ã€**æœ€åˆã®48ãƒ“ãƒƒãƒˆãŒãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹**ã§ã™ã€‚**æ¬¡ã®16ãƒ“ãƒƒãƒˆã¯ã‚µãƒ–ãƒãƒƒãƒˆID**ã§ã‚ã‚Šã€ã‚µãƒ–ãƒãƒƒãƒˆã‚’å®šç¾©ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚æœ€å¾Œã®**64ãƒ“ãƒƒãƒˆã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è­˜åˆ¥å­**ã§ã™ï¼ˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹IDã¾ãŸã¯ãƒ‡ãƒã‚¤ã‚¹IDã¨ã—ã¦ã‚‚çŸ¥ã‚‰ã‚Œã¦ãŠã‚Šã€ãƒ‡ãƒã‚¤ã‚¹ç”¨ã§ã™ï¼‰ã€‚å¿…è¦ã«å¿œã˜ã¦ã€é€šå¸¸ãƒ‡ãƒã‚¤ã‚¹IDã«äºˆç´„ã•ã‚Œã¦ã„ã‚‹ãƒ“ãƒƒãƒˆã‚’è¿½åŠ ã®ã‚µãƒ–ãƒãƒƒãƒˆãƒã‚¹ã‚­ãƒ³ã‚°ã«ä½¿ç”¨ã§ãã¾ã™ã€‚

IPv6ã«ã¯ARPã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ä»£ã‚ã‚Šã«ã€**ICMPv6 NSï¼ˆNeighbor Solicitationï¼‰ãŠã‚ˆã³NAï¼ˆNeighbor Advertisementï¼‰**ãŒã‚ã‚Šã¾ã™ã€‚**NS**ã¯ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã€**ãƒãƒ«ãƒã‚­ãƒ£ã‚¹ãƒˆ**ãƒ‘ã‚±ãƒƒãƒˆã‚’é€ä¿¡ã—ã¾ã™ã€‚**NA**ã¯**ãƒ¦ãƒ‹ã‚­ãƒ£ã‚¹ãƒˆ**ã§ã‚ã‚Šã€NSã«å›ç­”ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚NAãƒ‘ã‚±ãƒƒãƒˆã¯NSãƒ‘ã‚±ãƒƒãƒˆã‚’å¿…è¦ã¨ã›ãšã«é€ä¿¡ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

**0:0:0:0:0:0:0:1** = 1ï¼ˆIPv4ã®127.0.0.1ã«ç›¸å½“ã™ã‚‹ `::1`ï¼‰ 

**ãƒªãƒ³ã‚¯ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹:** ã“ã‚Œã‚‰ã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã§ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã•ã‚Œã‚‹ã“ã¨ã‚’æ„å›³ã—ã¦ã„ãªã„ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã™ã€‚ã“ã‚Œã‚‰ã¯ã€ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã¾ãŸã¯ä¸€æ™‚çš„ãªLANã§ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®å…±æœ‰ã‚„é…å¸ƒã®ãŸã‚ã«ãƒ­ãƒ¼ã‚«ãƒ«ã§ä½¿ç”¨ã§ãã¾ã™ã€‚ã“ã®ç¨®ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ­ãƒ¼ã‚«ãƒ«LANå†…ã®ä»–ã®ãƒ‡ãƒã‚¤ã‚¹ã¯ã€ãƒãƒ«ãƒã‚­ãƒ£ã‚¹ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ ff02::01 ã«pingã‚’é€ä¿¡ã™ã‚‹ã“ã¨ã§è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\
**FE80::/10**  â€“ ãƒªãƒ³ã‚¯ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¦ãƒ‹ã‚­ãƒ£ã‚¹ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ç¯„å›²ã€‚
```bash
ping6 â€“I eth0 -c 5 ff02::1 > /dev/null 2>&1
ip neigh | grep ^fe80

#Or you could also use
alive6 eth0
```
If you **know the MAC address of a host in the same net** as you (you could just ping its ipv4 address and view the arp table to found its MAC address), you can calculate his Link-local address to communicate with him.\
Suppose the **MAC address** is **`12:34:56:78:9a:bc`**

1. To IPv6 notation: **`1234:5678:9abc`**
2. Append `fe80::` at the beginning and Insert `fffe` in the middle: **`fe80::`**`1234:56`**`ff:fe`**`78:9abc`
3. Invert seventh bit from the left, from 0001 0010 to 0001 0000: `fe80::1`**`0`**`34:56ff:fe78:9abc`
4. `fe80::1034:56ff:fe78:9abc`

**Unique local  address:**  This type of ipv6 address also  not intended to be routed on the public internet. Unique local is a replacement of site-local address, that allows communication within a site while being routable to a multiple local networks.\
**FEC00::/7**  â€“ The unique local address range.

**Multicast Address:** This can also be refered to as One-to-Many. Packets addressed to multicast address are delivered to all interface identified by the multicast address. Multicast address types are easily notable because they normally  begins with FF.\
**FF00::/8**  â€“ The multicast range.

**Anycast:**  This form of ipv6 address is similar to the multicast address with a slight difference. Anycast address can also be refered to as One to Nearest. It can be used to address packets meant for multiple interfaces; but usually it sends packets to the first interface it finds as defined in the routing distance. This means it send packets to the closest interface as determined by routing protocols.\
**20000::/3**  â€“ The global unicast address range.

fe80::/10--> Unique Link-Local (169.254.x.x) \[fe80:0000:0000:0000:0000:0000:0000:0000,febf:ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff]\
fc00::/7 --> Unique Local-Unicast (10.x.x.x, 172.16.x.x, 192.168.x.x) \[]\
2000::/3 --> Global Unicast\
ff02::1 --> Multicast All Nodes\
ff02::2 --> Multicast Router Nodes

## **Guess the IPv6 of a machine**

**Way 1**

The IPv6 of fe80::/10 are based on the MAC. If you have the IPv6 of a device inside a network and you want to guess the IPv6 of another device of the network, you can get its MAC address using a ping (inside the arp table).

**Way2**

You can send a ping6 to the multicast and get the IPv6 address inside the arp table.
```bash
service ufw stop #Stop firewall
ping6 -I <IFACE> ff02::1 #You could also make: ping6 -I <IPV6> ff02::1 if you want to make a ping to a specific IP Address
ip -6 neigh
alive6
use auxiliary/scanner/discovery/ipv6_neighbor_router_advertisement; set INTERFACE eth1; run
```
# IPv6 MitM

ICMPv6éš£æ¥åºƒå‘Šã‚’å½è£…ã—ã¦ä¸­é–“è€…æ”»æ’ƒã‚’è¡Œã†ã€‚

* ICMPv6ãƒ«ãƒ¼ã‚¿åºƒå‘Šã‚’å½è£…ã—ã¦ä¸­é–“è€…æ”»æ’ƒã‚’è¡Œã†ã€‚
* ICMPv6ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã¾ãŸã¯ICMPv6 too bigã‚’ä½¿ç”¨ã—ã¦ä¸­é–“è€…æ”»æ’ƒã‚’è¡Œã†ã€‚
* ãƒ¢ãƒã‚¤ãƒ«IPv6ã‚’æ”»æ’ƒã™ã‚‹ä¸­é–“è€…æ”»æ’ƒã ãŒã€IPsecã‚’ç„¡åŠ¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
* å½ã®DHCPv6ã‚µãƒ¼ãƒã‚’ä½¿ç”¨ã—ã¦ä¸­é–“è€…æ”»æ’ƒã‚’è¡Œã†ã€‚



# é‡ç”Ÿã®IPv6ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ç™ºè¦‹

## ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³

Googleã‚„ä»–ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ä½¿ç”¨ã—ã¦ã€"ipv6.\*"ã®ã‚ˆã†ãªã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æ¤œç´¢ã§ãã¾ã™ã€‚
```bash
site:ipv6./
```
## DNS

çµ„ç¹”ã®IPv6ãƒ‡ãƒã‚¤ã‚¹ã‚’è¦‹ã¤ã‘ãŸã‚‰ã€DNSã§ "**AXFR**" (ã‚¾ãƒ¼ãƒ³è»¢é€)ã€"**AAAA**" (IPv6)ã€ã¾ãŸã¯ "**ANY**" (ã™ã¹ã¦) ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã‚’æ¤œç´¢ã—ã¦IPv6ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

## Ping6

çµ„ç¹”ã®ã„ãã¤ã‹ã®IPv6ãƒ‡ãƒã‚¤ã‚¹ã‚’è¦‹ã¤ã‘ãŸã‚‰ã€`ping6`ã‚’ä½¿ç”¨ã—ã¦è¿‘ãã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

# å‚è€ƒæ–‡çŒ®

* [http://www.firewall.cx/networking-topics/protocols/877-ipv6-subnetting-how-to-subnet-ipv6.html](http://www.firewall.cx/networking-topics/protocols/877-ipv6-subnetting-how-to-subnet-ipv6.html)
* [https://www.sans.org/reading-room/whitepapers/detection/complete-guide-ipv6-attack-defense-33904](https://www.sans.org/reading-room/whitepapers/detection/complete-guide-ipv6-attack-defense-33904)


<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ã§ **ã‚¼ãƒ­ã‹ã‚‰ãƒ’ãƒ¼ãƒ­ãƒ¼ã¾ã§ã®AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã¶**</summary>

HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ä»–ã®æ–¹æ³•:

* **HackTricksã§ä¼æ¥­ã‚’å®£ä¼ã—ãŸã„**ã€ã¾ãŸã¯ **HackTricksã‚’PDFã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„**å ´åˆã¯ã€[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼
* [**å…¬å¼PEASSï¼†HackTricksã‚¹ãƒ¯ãƒƒã‚°**](https://peass.creator-spring.com)ã‚’å…¥æ‰‹ã™ã‚‹
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ã‚’ç™ºè¦‹ã—ã€ç‹¬å çš„ãª [**NFTs**](https://opensea.io/collection/the-peass-family) ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦‹ã¤ã‘ã‚‹
* ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f) ã«å‚åŠ ã™ã‚‹ã‹ã€[**telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass) ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live) ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹
* **HackTricks** ã¨ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks) ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ã€ã‚ãªãŸã®ãƒãƒƒã‚­ãƒ³ã‚°ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹

</details>
