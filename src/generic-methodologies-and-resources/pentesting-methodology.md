# Pentesting-Methodik

{{#include ../banners/hacktricks-training.md}}

## Pentesting-Methodik

<figure><img src="../images/HACKTRICKS-logo.svg" alt=""><figcaption></figcaption></figure>

_Hacktricks-Logos entworfen von_ [_@ppiernacho_](https://www.instagram.com/ppieranacho/)_._

### 0- Physische Angriffe

Hast du **physischen Zugang** zu der Maschine, die du angreifen möchtest? Du solltest einige [**Tricks zu physischen Angriffen**](../hardware-physical-access/physical-attacks.md) und andere über [**das Entkommen aus GUI-Anwendungen**](../hardware-physical-access/escaping-from-gui-applications.md) lesen.

### 1 - [Entdecken von Hosts im Netzwerk](pentesting-network/index.html#discovering-hosts)/ [Entdecken von Vermögenswerten des Unternehmens](external-recon-methodology/index.html)

**Je nachdem**, ob der **Test**, den du durchführst, ein **interner oder externer Test** ist, könntest du daran interessiert sein, **Hosts im Unternehmensnetzwerk** (interner Test) oder **Vermögenswerte des Unternehmens im Internet** (externer Test) zu finden.

> [!NOTE]
> Beachte, dass du, wenn du einen externen Test durchführst, sobald du Zugang zum internen Netzwerk des Unternehmens erhalten hast, diese Anleitung neu starten solltest.

### **2-** [**Spaß mit dem Netzwerk haben**](pentesting-network/index.html) **(Intern)**

**Dieser Abschnitt gilt nur, wenn du einen internen Test durchführst.**\
Bevor du einen Host angreifst, möchtest du vielleicht **einige Anmeldeinformationen** **aus dem Netzwerk stehlen** oder **Daten sniffen**, um **passiv/aktiv (MitM)** herauszufinden, was du im Netzwerk finden kannst. Du kannst [**Pentesting Network**](pentesting-network/index.html#sniffing) lesen.

### 3- [Port-Scan - Dienstentdeckung](pentesting-network/index.html#scanning-hosts)

Das erste, was du tun solltest, wenn du **nach Schwachstellen in einem Host suchst**, ist zu wissen, welche **Dienste laufen** und an welchen Ports. Lass uns die [**grundlegenden Werkzeuge zum Scannen von Ports von Hosts**](pentesting-network/index.html#scanning-hosts) ansehen.

### **4-** [Suche nach Dienstversions-Exploits](../generic-hacking/search-exploits.md)

Sobald du weißt, welche Dienste laufen und vielleicht welche Version, musst du **nach bekannten Schwachstellen suchen**. Vielleicht hast du Glück und es gibt einen Exploit, der dir eine Shell gibt...

### **5-** Pentesting-Dienste

Wenn es keinen ausgefallenen Exploit für einen laufenden Dienst gibt, solltest du nach **häufigen Fehlkonfigurationen in jedem laufenden Dienst suchen.**

**In diesem Buch findest du einen Leitfaden, um die häufigsten Dienste zu pentesten** (und andere, die nicht so häufig sind). **Bitte suche im linken Index nach der** _**PENTESTING**_ **Sektion** (die Dienste sind nach ihren Standardports geordnet).

**Ich möchte besonders auf den** [**Pentesting Web**](../network-services-pentesting/pentesting-web/index.html) **Teil hinweisen (da er der umfangreichste ist).**\
Außerdem findest du hier einen kleinen Leitfaden, wie du [**bekannte Schwachstellen in Software finden**](../generic-hacking/search-exploits.md) kannst.

**Wenn dein Dienst nicht im Index ist, suche bei Google** nach anderen Tutorials und **lass es mich wissen, wenn du möchtest, dass ich es hinzufüge.** Wenn du **nichts** bei Google finden kannst, führe dein **eigenes blindes Pentesting** durch, du könntest damit beginnen, **eine Verbindung zum Dienst herzustellen, ihn zu fuzzern und die Antworten zu lesen** (falls vorhanden).

#### 5.1 Automatische Werkzeuge

Es gibt auch mehrere Werkzeuge, die **automatische Schwachstellenbewertungen** durchführen können. **Ich würde dir empfehlen,** [**Legion**](https://github.com/carlospolop/legion)** auszuprobieren, das ist das Werkzeug, das ich erstellt habe und das auf den Notizen über Pentesting-Dienste basiert, die du in diesem Buch finden kannst.**

#### **5.2 Brute-Forcing-Dienste**

In einigen Szenarien könnte ein **Brute-Force** nützlich sein, um einen **Dienst** zu **kompromittieren**. [**Hier findest du ein CheatSheet für das Brute-Forcing verschiedener Dienste**](../generic-hacking/brute-force.md)**.**

### 6- [Phishing](phishing-methodology/index.html)

Wenn du bis zu diesem Punkt keine interessanten Schwachstellen gefunden hast, **musst du vielleicht etwas Phishing versuchen**, um ins Netzwerk zu gelangen. Du kannst meine Phishing-Methodik [hier](phishing-methodology/index.html) lesen:

### **7-** [**Shell erhalten**](../generic-hacking/reverse-shells/index.html)

Irgendwie solltest du **eine Möglichkeit gefunden haben, Code** im Opfer auszuführen. Dann wäre [eine Liste möglicher Werkzeuge im System, die du verwenden kannst, um eine Reverse-Shell zu erhalten, sehr nützlich](../generic-hacking/reverse-shells/index.html).

Besonders unter Windows könntest du Hilfe benötigen, um **Antivirenprogramme zu umgehen**: [**Überprüfe diese Seite**](../windows-hardening/av-bypass.md)**.**\\

### 8- Innen

Wenn du Probleme mit der Shell hast, findest du hier eine kleine **Zusammenstellung der nützlichsten Befehle** für Pentester:

- [**Linux**](../linux-hardening/useful-linux-commands.md)
- [**Windows (CMD)**](../windows-hardening/basic-cmd-for-pentesters.md)
- [**Windows (PS)**](../windows-hardening/basic-powershell-for-pentesters/index.html)

### **9 -** [**Exfiltration**](../generic-hacking/exfiltration.md)

Du wirst wahrscheinlich **einige Daten vom Opfer extrahieren** oder sogar **etwas einführen** müssen (wie Skripte zur Privilegieneskalation). **Hier hast du einen** [**Beitrag über gängige Werkzeuge, die du für diese Zwecke verwenden kannst**](../generic-hacking/exfiltration.md)**.**

### **10- Privilegieneskalation**

#### **10.1- Lokale Privilegieneskalation**

Wenn du **nicht root/Administrator** in der Box bist, solltest du einen Weg finden, um **Privilegien zu eskalieren.**\
Hier findest du einen **Leitfaden zur lokalen Eskalation von Privilegien in** [**Linux**](../linux-hardening/privilege-escalation/index.html) **und in** [**Windows**](../windows-hardening/windows-local-privilege-escalation/index.html)**.**\
Du solltest auch diese Seiten darüber überprüfen, wie **Windows funktioniert**:

- [**Authentifizierung, Anmeldeinformationen, Tokenprivilegien und UAC**](../windows-hardening/authentication-credentials-uac-and-efs/index.html)
- Wie funktioniert [**NTLM**](../windows-hardening/ntlm/index.html)
- Wie man [**Anmeldeinformationen stiehlt**](https://github.com/carlospolop/hacktricks/blob/master/generic-methodologies-and-resources/broken-reference/README.md) in Windows
- Einige Tricks über [_**Active Directory**_](../windows-hardening/active-directory-methodology/index.html)

**Vergiss nicht, die besten Werkzeuge zur Aufzählung von Windows- und Linux-Pfaden zur lokalen Privilegieneskalation zu überprüfen:** [**Suite PEAS**](https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite)

#### **10.2- Domain Privilegieneskalation**

Hier findest du eine [**Methodik, die die häufigsten Aktionen zur Aufzählung, Eskalation von Privilegien und Persistenz in einem Active Directory erklärt**](../windows-hardening/active-directory-methodology/index.html). Auch wenn dies nur ein Unterabschnitt eines Abschnitts ist, könnte dieser Prozess bei einem Pentesting/Red Team-Einsatz **äußerst heikel** sein.

### 11 - POST

#### **11**.1 - Plündern

Überprüfe, ob du mehr **Passwörter** im Host finden kannst oder ob du **Zugang zu anderen Maschinen** mit den **Privilegien** deines **Benutzers** hast.\
Hier findest du verschiedene Möglichkeiten, um [**Passwörter in Windows zu dumpen**](https://github.com/carlospolop/hacktricks/blob/master/generic-methodologies-and-resources/broken-reference/README.md).

#### 11.2 - Persistenz

**Verwende 2 oder 3 verschiedene Arten von Persistenzmechanismen, damit du das System nicht erneut ausnutzen musst.**\
**Hier findest du einige** [**Persistenztricks im Active Directory**](../windows-hardening/active-directory-methodology/index.html#persistence)**.**

TODO: Vollständige Persistenz-Post in Windows & Linux

### 12 - Pivoting

Mit den **gesammelten Anmeldeinformationen** könntest du Zugang zu anderen Maschinen haben, oder vielleicht musst du **neue Hosts entdecken und scannen** (beginne die Pentesting-Methodik erneut) in neuen Netzwerken, in denen dein Opfer verbunden ist.\
In diesem Fall könnte Tunneling notwendig sein. Hier findest du [**einen Beitrag über Tunneling**](../generic-hacking/tunneling-and-port-forwarding.md).\
Du solltest auch den Beitrag über die [Pentesting-Methodik für Active Directory](../windows-hardening/active-directory-methodology/index.html) überprüfen. Dort findest du coole Tricks, um lateral zu bewegen, Privilegien zu eskalieren und Anmeldeinformationen zu dumpen.\
Überprüfe auch die Seite über [**NTLM**](../windows-hardening/ntlm/index.html), sie könnte sehr nützlich sein, um in Windows-Umgebungen zu pivotieren.

### MEHR

#### [Android-Anwendungen](../mobile-pentesting/android-app-pentesting/index.html)

#### **Exploiting**

- [**Grundlegendes Linux-Exploiting**](broken-reference/index.html)
- [**Grundlegendes Windows-Exploiting**](../binary-exploitation/windows-exploiting-basic-guide-oscp-lvl.md)
- [**Grundlegende Exploiting-Werkzeuge**](../binary-exploitation/basic-stack-binary-exploitation-methodology/tools/index.html)

#### [**Grundlegendes Python**](python/index.html)

#### **Krypto-Tricks**

- [**ECB**](../crypto-and-stego/electronic-code-book-ecb.md)
- [**CBC-MAC**](../crypto-and-stego/cipher-block-chaining-cbc-mac-priv.md)
- [**Padding Oracle**](../crypto-and-stego/padding-oracle-priv.md)

{{#include ../banners/hacktricks-training.md}}
