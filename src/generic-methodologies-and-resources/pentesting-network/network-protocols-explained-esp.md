{{#include ../../banners/hacktricks-training.md}}

## Multicast DNS (mDNS)

Protokół **mDNS** jest zaprojektowany do rozwiązywania adresów IP w małych, lokalnych sieciach bez dedykowanego serwera nazw. Działa poprzez multicastowanie zapytania w obrębie podsieci, co skłania hosta o określonej nazwie do odpowiedzi z jego adresem IP. Wszystkie urządzenia w podsieci mogą następnie zaktualizować swoje pamięci podręczne mDNS o te informacje.

Kluczowe punkty do zauważenia:

- **Zrzeczenie się nazwy domeny**: Hosta może zwolnić swoją nazwę domeny, wysyłając pakiet z TTL równym zero.
- **Ograniczenie użycia**: mDNS zazwyczaj rozwiązuje nazwy kończące się na **.local**. Konflikty z hostami nie-mDNS w tej domenie wymagają dostosowań w konfiguracji sieci.
- **Szczegóły sieciowe**:
- Adresy MAC multicast Ethernet: IPv4 - `01:00:5E:00:00:FB`, IPv6 - `33:33:00:00:00:FB`.
- Adresy IP: IPv4 - `224.0.0.251`, IPv6 - `ff02::fb`.
- Działa na porcie UDP 5353.
- Zapytania mDNS są ograniczone do lokalnej sieci i nie przekraczają routerów.

## DNS-SD (Service Discovery)

DNS-SD to protokół do odkrywania usług w sieci poprzez zapytania do określonych nazw domen (np. `_printers._tcp.local`). Odpowiedź zawiera wszystkie powiązane domeny, takie jak dostępne drukarki w tym przypadku. Szczegółowa lista typów usług znajduje się [tutaj](http://www.dns-sd.org/ServiceTypes.html).

## SSDP (Simple Service Discovery Protocol)

SSDP ułatwia odkrywanie usług sieciowych i jest głównie wykorzystywane przez UPnP. To protokół oparty na tekście, używający UDP na porcie 1900, z adresowaniem multicast. Dla IPv4, wyznaczony adres multicast to `239.255.255.250`. Podstawą SSDP jest [HTTPU](https://en.wikipedia.org/wiki/HTTPU), rozszerzenie HTTP dla UDP.

## Web Service for Devices (WSD)

Urządzenia podłączone do sieci mogą identyfikować dostępne usługi, takie jak drukarki, za pomocą Web Service for Devices (WSD). To polega na nadawaniu pakietów UDP. Urządzenia poszukujące usług wysyłają zapytania, podczas gdy dostawcy usług ogłaszają swoje oferty.

## OAuth 2.0

OAuth 2.0 to protokół ułatwiający bezpieczne, selektywne udostępnianie informacji o użytkownikach między usługami. Na przykład, umożliwia usługom dostęp do danych użytkownika z Google bez wielokrotnych logowań. Proces obejmuje uwierzytelnianie użytkownika, autoryzację przez użytkownika oraz generowanie tokena przez Google, co pozwala na dostęp do określonych danych użytkownika.

## RADIUS

RADIUS (Remote Authentication Dial-In User Service) to protokół dostępu do sieci, głównie używany przez dostawców usług internetowych (ISP). Wspiera uwierzytelnianie, autoryzację i rozliczanie. Poświadczenia użytkownika są weryfikowane przez serwer RADIUS, co może obejmować weryfikację adresu sieciowego dla zwiększonego bezpieczeństwa. Po uwierzytelnieniu użytkownicy otrzymują dostęp do sieci, a szczegóły ich sesji są śledzone w celach rozliczeniowych i statystycznych.

## SMB i NetBIOS

### SMB (Server Message Block)

SMB to protokół do udostępniania plików, drukarek i portów. Działa bezpośrednio przez TCP (port 445) lub przez NetBIOS nad TCP (porty 137, 138). Ta podwójna kompatybilność zwiększa łączność z różnymi urządzeniami.

### NetBIOS (Network Basic Input/Output System)

NetBIOS zarządza sesjami sieciowymi i połączeniami do udostępniania zasobów. Wspiera unikalne nazwy dla urządzeń oraz nazwy grupowe dla wielu urządzeń, umożliwiając kierowane lub rozgłoszeniowe wiadomości. Komunikacja może być bezpołączeniowa (bez potwierdzenia) lub zorientowana na połączenie (oparta na sesji). Chociaż NetBIOS tradycyjnie działa na protokołach takich jak IPC/IPX, jest powszechnie używany przez TCP/IP. NetBEUI, powiązany protokół, jest znany z szybkości, ale był również dość rozbudowany z powodu rozgłaszania.

## LDAP (Lightweight Directory Access Protocol)

LDAP to protokół umożliwiający zarządzanie i dostęp do informacji katalogowych przez TCP/IP. Wspiera różne operacje do zapytań i modyfikacji informacji katalogowych. Głównie jest wykorzystywany do uzyskiwania i utrzymywania rozproszonych usług informacji katalogowych, umożliwiając interakcję z bazami danych zaprojektowanymi do komunikacji LDAP.

## Active Directory (AD)

Active Directory to dostępna w sieci baza danych zawierająca obiekty takie jak użytkownicy, grupy, uprawnienia i zasoby, ułatwiająca centralne zarządzanie podmiotami sieciowymi. AD organizuje swoje dane w hierarchiczną strukturę domen, która może obejmować serwery, grupy i użytkowników. Poddomeny pozwalają na dalszą segmentację, z każdą potencjalnie utrzymującą własny serwer i bazę użytkowników. Ta struktura centralizuje zarządzanie użytkownikami, przyznając lub ograniczając dostęp do zasobów sieciowych. Można składać zapytania, aby uzyskać konkretne informacje, takie jak dane kontaktowe, lub aby zlokalizować zasoby, takie jak drukarki, w obrębie domeny.

{{#include ../../banners/hacktricks-training.md}}
