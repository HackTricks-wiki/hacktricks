{{#include ../../banners/hacktricks-training.md}}

## Multicast DNS (mDNS)

El protocolo **mDNS** está diseñado para la resolución de direcciones IP dentro de redes locales pequeñas sin un servidor de nombres dedicado. Funciona mediante el envío de una consulta por multicast dentro de la subred, lo que provoca que el host con el nombre especificado responda con su dirección IP. Todos los dispositivos en la subred pueden actualizar sus cachés de mDNS con esta información.

Puntos clave a tener en cuenta:

- **Renuncia de Nombre de Dominio**: Un host puede liberar su nombre de dominio enviando un paquete con un TTL de cero.
- **Restricción de Uso**: mDNS típicamente resuelve nombres que terminan en **.local** solamente. Los conflictos con hosts no mDNS en este dominio requieren ajustes en la configuración de la red.
- **Detalles de Red**:
- Direcciones MAC multicast de Ethernet: IPv4 - `01:00:5E:00:00:FB`, IPv6 - `33:33:00:00:00:FB`.
- Direcciones IP: IPv4 - `224.0.0.251`, IPv6 - `ff02::fb`.
- Opera sobre el puerto UDP 5353.
- Las consultas mDNS están confinadas a la red local y no cruzan routers.

## DNS-SD (Descubrimiento de Servicios)

DNS-SD es un protocolo para descubrir servicios en una red consultando nombres de dominio específicos (por ejemplo, `_printers._tcp.local`). Una respuesta incluye todos los dominios relacionados, como impresoras disponibles en este caso. Se puede encontrar una lista completa de tipos de servicio [aquí](http://www.dns-sd.org/ServiceTypes.html).

## SSDP (Protocolo de Descubrimiento de Servicios Simple)

SSDP facilita el descubrimiento de servicios de red y es utilizado principalmente por UPnP. Es un protocolo basado en texto que utiliza UDP sobre el puerto 1900, con direccionamiento multicast. Para IPv4, la dirección multicast designada es `239.255.255.250`. La base de SSDP es [HTTPU](https://en.wikipedia.org/wiki/HTTPU), una extensión de HTTP para UDP.

## Web Service for Devices (WSD)

Los dispositivos conectados a una red pueden identificar los servicios disponibles, como impresoras, a través del Web Service for Devices (WSD). Esto implica la transmisión de paquetes UDP. Los dispositivos que buscan servicios envían solicitudes, mientras que los proveedores de servicios anuncian sus ofertas.

## OAuth 2.0

OAuth 2.0 es un protocolo que facilita el intercambio seguro y selectivo de información del usuario entre servicios. Por ejemplo, permite a los servicios acceder a los datos del usuario de Google sin múltiples inicios de sesión. El proceso implica la autenticación del usuario, la autorización por parte del usuario y la generación de un token por Google, permitiendo el acceso del servicio a los datos del usuario especificado.

## RADIUS

RADIUS (Remote Authentication Dial-In User Service) es un protocolo de acceso a la red utilizado principalmente por los ISP. Soporta autenticación, autorización y contabilidad. Las credenciales del usuario son verificadas por un servidor RADIUS, que puede incluir la verificación de la dirección de red para mayor seguridad. Después de la autenticación, los usuarios reciben acceso a la red y los detalles de su sesión son rastreados para fines de facturación y estadísticos.

## SMB y NetBIOS

### SMB (Server Message Block)

SMB es un protocolo para compartir archivos, impresoras y puertos. Opera directamente sobre TCP (puerto 445) o a través de NetBIOS sobre TCP (puertos 137, 138). Esta compatibilidad dual mejora la conectividad con varios dispositivos.

### NetBIOS (Network Basic Input/Output System)

NetBIOS gestiona sesiones y conexiones de red para el intercambio de recursos. Soporta nombres únicos para dispositivos y nombres de grupo para múltiples dispositivos, permitiendo mensajería dirigida o por difusión. La comunicación puede ser sin conexión (sin acuse de recibo) o orientada a conexión (basada en sesiones). Aunque NetBIOS tradicionalmente opera sobre protocolos como IPC/IPX, se utiliza comúnmente sobre TCP/IP. NetBEUI, un protocolo asociado, es conocido por su velocidad pero también era bastante verboso debido a la difusión.

## LDAP (Lightweight Directory Access Protocol)

LDAP es un protocolo que permite la gestión y acceso a información de directorios sobre TCP/IP. Soporta diversas operaciones para consultar y modificar información de directorios. Predominantemente, se utiliza para acceder y mantener servicios de información de directorios distribuidos, permitiendo la interacción con bases de datos diseñadas para la comunicación LDAP.

## Active Directory (AD)

Active Directory es una base de datos accesible a través de la red que contiene objetos como usuarios, grupos, privilegios y recursos, facilitando la gestión centralizada de entidades de red. AD organiza sus datos en una estructura jerárquica de dominios, que puede abarcar servidores, grupos y usuarios. Los subdominios permiten una segmentación adicional, cada uno manteniendo potencialmente su propio servidor y base de usuarios. Esta estructura centraliza la gestión de usuarios, otorgando o restringiendo el acceso a los recursos de la red. Se pueden realizar consultas para recuperar información específica, como detalles de contacto, o para localizar recursos, como impresoras, dentro del dominio.

{{#include ../../banners/hacktricks-training.md}}
