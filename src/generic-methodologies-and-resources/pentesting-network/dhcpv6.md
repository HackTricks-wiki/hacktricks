{{#include ../../banners/hacktricks-training.md}}

### DHCPv6 と DHCPv4 メッセージタイプの比較

以下の表に DHCPv6 と DHCPv4 メッセージタイプの比較を示します：

| DHCPv6 メッセージタイプ                | DHCPv4 メッセージタイプ |
| :--------------------------------- | :------------------ |
| Solicit (1)                        | DHCPDISCOVER        |
| Advertise (2)                      | DHCPOFFER           |
| Request (3), Renew (5), Rebind (6) | DHCPREQUEST         |
| Reply (7)                          | DHCPACK / DHCPNAK   |
| Release (8)                        | DHCPRELEASE         |
| Information-Request (11)           | DHCPINFORM          |
| Decline (9)                        | DHCPDECLINE         |
| Confirm (4)                        | none                |
| Reconfigure (10)                   | DHCPFORCERENEW      |
| Relay-Forw (12), Relay-Reply (13)  | none                |

**DHCPv6 メッセージタイプの詳細説明：**

1. **Solicit (1)**: 利用可能なサーバーを見つけるために DHCPv6 クライアントによって開始されます。
2. **Advertise (2)**: サーバーが Solicit に応じて送信し、DHCP サービスの利用可能性を示します。
3. **Request (3)**: クライアントが特定のサーバーから IP アドレスまたはプレフィックスを要求するために使用します。
4. **Confirm (4)**: クライアントが割り当てられたアドレスがネットワーク上でまだ有効かどうかを確認するために使用します。通常、ネットワーク変更後に行います。
5. **Renew (5)**: クライアントが元のサーバーに送信し、アドレスの有効期限を延長したり、設定を更新したりします。
6. **Rebind (6)**: どのサーバーにも送信され、アドレスの有効期限を延長したり、設定を更新したりします。特に Renew に対する応答がない場合に使用されます。
7. **Reply (7)**: サーバーがアドレス、設定パラメータを提供したり、Release や Decline のようなメッセージを確認するために使用します。
8. **Release (8)**: クライアントがサーバーに対して、1つまたは複数の割り当てられたアドレスの使用を停止するよう通知します。
9. **Decline (9)**: クライアントが割り当てられたアドレスがネットワーク上で競合していることを報告するために送信します。
10. **Reconfigure (10)**: サーバーがクライアントに新しいまたは更新された設定の取引を開始するよう促します。
11. **Information-Request (11)**: クライアントが IP アドレスの割り当てなしで設定パラメータを要求します。
12. **Relay-Forw (12)**: リレエージェントがメッセージをサーバーに転送します。
13. **Relay-Repl (13)**: サーバーがリレエージェントに応答し、リレエージェントがクライアントにメッセージを届けます。

## 参考文献

- [https://support.huawei.com/enterprise/en/doc/EDOC1100306163/d427e938/introduction-to-dhcpv6-messages](https://support.huawei.com/enterprise/en/doc/EDOC1100306163/d427e938/introduction-to-dhcpv6-messages)

{{#include ../../banners/hacktricks-training.md}}
