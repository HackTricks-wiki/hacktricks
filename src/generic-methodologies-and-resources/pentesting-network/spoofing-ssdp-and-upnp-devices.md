# Spoofing SSDP i UPnP uređaja sa EvilSSDP

{{#include ../../banners/hacktricks-training.md}}

**Proverite [https://www.hackingarticles.in/evil-ssdp-spoofing-the-ssdp-and-upnp-devices/](https://www.hackingarticles.in/evil-ssdp-spoofing-the-ssdp-and-upnp-devices/) za dodatne informacije.**

## **Pregled SSDP & UPnP**

SSDP (Simple Service Discovery Protocol) se koristi za oglašavanje i otkrivanje mrežnih usluga, radi na UDP portu 1900 bez potrebe za DHCP ili DNS konfiguracijama. Osnovan je u UPnP (Universal Plug and Play) arhitekturi, olakšavajući nesmetanu interakciju među umreženim uređajima kao što su PC, štampači i mobilni uređaji. UPnP-ova mreža bez konfiguracije podržava otkrivanje uređaja, dodeljivanje IP adresa i oglašavanje usluga.

## **UPnP Tok & Struktura**

UPnP arhitektura se sastoji od šest slojeva: adresiranje, otkrivanje, opis, kontrola, događaji i prezentacija. U početku, uređaji pokušavaju da dobiju IP adresu ili da je sami dodele (AutoIP). Faza otkrivanja uključuje SSDP, pri čemu uređaji aktivno šalju M-SEARCH zahteve ili pasivno emitiraju NOTIFY poruke kako bi najavili usluge. Kontrolni sloj, koji je ključan za interakciju klijent-uređaj, koristi SOAP poruke za izvršavanje komandi na osnovu opisa uređaja u XML datotekama.

## **Pregled IGD & Alata**

IGD (Internet Gateway Device) olakšava privremeno mapiranje portova u NAT podešavanjima, omogućavajući prihvatanje komandi putem otvorenih SOAP kontrolnih tačaka uprkos standardnim WAN interfejsnim ograničenjima. Alati kao što su **Miranda** pomažu u otkrivanju UPnP usluga i izvršavanju komandi. **Umap** izlaže WAN-pristupačne UPnP komande, dok repozitorijumi kao što su **upnp-arsenal** nude niz UPnP alata. **Evil SSDP** se specijalizuje za phishing putem lažiranih UPnP uređaja, nudeći šablone za imitaciju legitimnih usluga.

## **Praktična upotreba Evil SSDP**

Evil SSDP efikasno stvara uverljive lažne UPnP uređaje, manipulišući korisnicima da komuniciraju sa naizgled autentičnim uslugama. Korisnici, prevareni stvarnim izgledom, mogu pružiti osetljive informacije kao što su akreditivi. Svestranost alata se proteže na različite šablone, imitujući usluge kao što su skeneri, Office365, pa čak i trezori lozinki, koristeći poverenje korisnika i vidljivost mreže. Nakon hvatanja akreditiva, napadači mogu preusmeriti žrtve na određene URL-ove, održavajući kredibilitet obmane.

## **Strategije ublažavanja**

Kako bi se suprotstavili ovim pretnjama, preporučene mere uključuju:

- Onemogućavanje UPnP na uređajima kada nije potrebno.
- Obrazovanje korisnika o phishingu i mrežnoj bezbednosti.
- Praćenje mrežnog saobraćaja za nešifrovane osetljive podatke.

U suštini, dok UPnP nudi pogodnost i fluidnost mreže, takođe otvara vrata potencijalnoj eksploataciji. Svest i proaktivna odbrana su ključni za osiguranje integriteta mreže.

{{#include ../../banners/hacktricks-training.md}}
