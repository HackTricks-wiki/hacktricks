# HTTP Bağlantı Kontaminasyonu

{{#include ../banners/hacktricks-training.md}}

**Bu, gönderinin bir özetidir: [https://portswigger.net/research/http-3-connection-contamination](https://portswigger.net/research/http-3-connection-contamination)**. Daha fazla ayrıntı için kontrol edin!

Web tarayıcıları, paylaşılan IP adresleri ve ortak bir TLS sertifikası aracılığıyla farklı web siteleri için tek bir HTTP/2+ bağlantısını yeniden kullanabilirler. Ancak, bu durum, sonraki isteklerin ilk isteğe göre belirlenen arka uca yönlendirildiği **ilk istek yönlendirmesi** ile çelişebilir. Bu yanlış yönlendirme, özellikle joker TLS sertifikaları ve `*.example.com` gibi alan adları ile birleştirildiğinde güvenlik açıklarına yol açabilir.

Örneğin, `wordpress.example.com` ve `secure.example.com` aynı ters proxy tarafından sunuluyorsa ve ortak bir joker sertifikaya sahipse, bir tarayıcının bağlantı birleştirmesi, `secure.example.com` için yapılan isteklerin yanlış bir şekilde WordPress arka ucu tarafından işlenmesine neden olabilir ve XSS gibi güvenlik açıklarını istismar edebilir.

Bağlantı birleştirmesini gözlemlemek için Chrome'un Ağ sekmesi veya Wireshark gibi araçlar kullanılabilir. İşte test için bir kesit:
```javascript
fetch("//sub1.hackxor.net/", { mode: "no-cors", credentials: "include" }).then(
() => {
fetch("//sub2.hackxor.net/", { mode: "no-cors", credentials: "include" })
}
)
```
Tehdit şu anda ilk istek yönlendirmesinin nadirliği ve HTTP/2'nin karmaşıklığı nedeniyle sınırlıdır. Ancak, IP adresi eşleşmesi gereksinimini gevşeten HTTP/3'teki önerilen değişiklikler, saldırı yüzeyini genişletebilir ve bir MITM saldırısına ihtiyaç duymadan, joker sertifikaya sahip sunucuları daha savunmasız hale getirebilir.

En iyi uygulamalar, ters proxylerde ilk istek yönlendirmesinden kaçınmayı ve özellikle HTTP/3'ün gelişiyle birlikte joker TLS sertifikaları konusunda dikkatli olmayı içerir. Bu karmaşık, birbirine bağlı zafiyetlerin düzenli olarak test edilmesi ve farkında olunması, web güvenliğinin korunması için kritik öneme sahiptir.

{{#include ../banners/hacktricks-training.md}}
