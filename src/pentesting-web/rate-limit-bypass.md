# Rate Limit Bypass

{{#include ../banners/hacktricks-training.md}}

## Τεχνικές παράκαμψης περιορισμού ρυθμού

### Εξερεύνηση παρόμοιων τελικών σημείων

Πρέπει να γίνουν προσπάθειες για την εκτέλεση επιθέσεων brute force σε παραλλαγές του στοχευμένου τελικού σημείου, όπως το `/api/v3/sign-up`, συμπεριλαμβανομένων εναλλακτικών όπως το `/Sing-up`, `/SignUp`, `/singup`, `/api/v1/sign-up`, `/api/sign-up` κ.λπ.

### Ενσωμάτωση κενών χαρακτήρων σε κώδικα ή παραμέτρους

Η εισαγωγή κενών byte όπως το `%00`, `%0d%0a`, `%0d`, `%0a`, `%09`, `%0C`, `%20` σε κώδικα ή παραμέτρους μπορεί να είναι μια χρήσιμη στρατηγική. Για παράδειγμα, η προσαρμογή μιας παραμέτρου σε `code=1234%0a` επιτρέπει την επέκταση των προσπαθειών μέσω παραλλαγών στην είσοδο, όπως η προσθήκη χαρακτήρων νέας γραμμής σε μια διεύθυνση email για να παρακαμφθούν οι περιορισμοί προσπαθειών.

### Χειρισμός προέλευσης IP μέσω κεφαλίδων

Η τροποποίηση των κεφαλίδων για την αλλαγή της αντιληπτής προέλευσης IP μπορεί να βοηθήσει στην αποφυγή περιορισμού ρυθμού με βάση την IP. Κεφαλίδες όπως `X-Originating-IP`, `X-Forwarded-For`, `X-Remote-IP`, `X-Remote-Addr`, `X-Client-IP`, `X-Host`, `X-Forwared-Host`, συμπεριλαμβανομένης της χρήσης πολλαπλών περιπτώσεων του `X-Forwarded-For`, μπορούν να προσαρμοστούν για να προσομοιώσουν αιτήματα από διαφορετικές IP.
```bash
X-Originating-IP: 127.0.0.1
X-Forwarded-For: 127.0.0.1
X-Remote-IP: 127.0.0.1
X-Remote-Addr: 127.0.0.1
X-Client-IP: 127.0.0.1
X-Host: 127.0.0.1
X-Forwared-Host: 127.0.0.1

# Double X-Forwarded-For header example
X-Forwarded-For:
X-Forwarded-For: 127.0.0.1
```
### Αλλαγή Άλλων Επικεφαλίδων

Η τροποποίηση άλλων επικεφαλίδων αιτήματος, όπως ο user-agent και τα cookies, συνιστάται, καθώς αυτές μπορούν επίσης να χρησιμοποιηθούν για την αναγνώριση και παρακολούθηση των προτύπων αιτημάτων. Η αλλαγή αυτών των επικεφαλίδων μπορεί να αποτρέψει την αναγνώριση και την παρακολούθηση των δραστηριοτήτων του αιτούντος.

### Εκμετάλλευση Συμπεριφοράς API Gateway

Ορισμένα API gateways είναι ρυθμισμένα να εφαρμόζουν περιορισμούς ρυθμού με βάση τον συνδυασμό του endpoint και των παραμέτρων. Με την ποικιλία των τιμών παραμέτρων ή την προσθήκη μη σημαντικών παραμέτρων στο αίτημα, είναι δυνατόν να παρακαμφθεί η λογική περιορισμού ρυθμού του gateway, κάνοντάς το κάθε αίτημα να φαίνεται μοναδικό. Για παράδειγμα `/resetpwd?someparam=1`.

### Σύνδεση στον Λογαριασμό σας Πριν από Κάθε Απόπειρα

Η σύνδεση σε έναν λογαριασμό πριν από κάθε απόπειρα ή κάθε σετ απόπειρων μπορεί να επαναφέρει τον μετρητή περιορισμού ρυθμού. Αυτό είναι ιδιαίτερα χρήσιμο κατά τη δοκιμή λειτουργιών σύνδεσης. Η χρήση μιας επίθεσης Pitchfork σε εργαλεία όπως το Burp Suite, για την περιστροφή των διαπιστευτηρίων κάθε λίγες απόπειρες και τη διασφάλιση ότι οι ανακατευθύνσεις είναι σημειωμένες, μπορεί να επανεκκινήσει αποτελεσματικά τους μετρητές περιορισμού ρυθμού.

### Χρήση Δικτύων Proxy

Η ανάπτυξη ενός δικτύου proxies για τη διανομή των αιτημάτων σε πολλές διευθύνσεις IP μπορεί να παρακάμψει αποτελεσματικά τους περιορισμούς ρυθμού που βασίζονται σε IP. Με την δρομολόγηση της κίνησης μέσω διαφόρων proxies, κάθε αίτημα φαίνεται να προέρχεται από διαφορετική πηγή, αραιώνοντας την αποτελεσματικότητα του περιορισμού ρυθμού.

### Διαχωρισμός της Επίθεσης σε Διαφορετικούς Λογαριασμούς ή Συνεδρίες

Εάν το στοχευόμενο σύστημα εφαρμόζει περιορισμούς ρυθμού σε βάση ανά λογαριασμό ή ανά συνεδρία, η διανομή της επίθεσης ή της δοκιμής σε πολλούς λογαριασμούς ή συνεδρίες μπορεί να βοηθήσει στην αποφυγή ανίχνευσης. Αυτή η προσέγγιση απαιτεί τη διαχείριση πολλών ταυτοτήτων ή tokens συνεδρίας, αλλά μπορεί να διανείμει αποτελεσματικά το φορτίο για να παραμείνει εντός των επιτρεπτών ορίων.

### Συνεχίστε να Δοκιμάζετε

Σημειώστε ότι ακόμη και αν υπάρχει περιορισμός ρυθμού, θα πρέπει να προσπαθήσετε να δείτε αν η απόκριση είναι διαφορετική όταν αποστέλλεται το έγκυρο OTP. Στο [**αυτό το άρθρο**](https://mokhansec.medium.com/the-2-200-ato-most-bug-hunters-overlooked-by-closing-intruder-too-soon-505f21d56732), ο κυνηγός σφαλμάτων ανακάλυψε ότι ακόμη και αν ενεργοποιηθεί περιορισμός ρυθμού μετά από 20 αποτυχημένες απόπειρες με απόκριση 401, αν το έγκυρο αποσταλεί, ελήφθη απόκριση 200.

{{#include ../banners/hacktricks-training.md}}
