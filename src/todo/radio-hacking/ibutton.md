# iButton

{{#include ../../banners/hacktricks-training.md}}

## Вступ

iButton - це загальна назва для електронного ідентифікаційного ключа, упакованого в **металевий контейнер у формі монети**. Його також називають **Dallas Touch** Memory або контактною пам'яттю. Хоча його часто неправильно називають "магнітним" ключем, в ньому **немає нічого магнітного**. Насправді всередині прихований повноцінний **мікросхема**, що працює на цифровому протоколі.

<figure><img src="../../images/image (915).png" alt=""><figcaption></figcaption></figure>

### Що таке iButton? <a href="#what-is-ibutton" id="what-is-ibutton"></a>

Зазвичай iButton означає фізичну форму ключа та зчитувача - кругла монета з двома контактами. Для рамки, що оточує його, існує безліч варіацій, від найпоширенішого пластикового тримача з отвором до кілець, підвісок тощо.

<figure><img src="../../images/image (1078).png" alt=""><figcaption></figcaption></figure>

Коли ключ досягає зчитувача, **контакти торкаються** і ключ отримує живлення для **передачі** свого ID. Іноді ключ **не зчитується** відразу, оскільки **контакт PSD домофона більший**, ніж повинен бути. Тому зовнішні контури ключа та зчитувача не можуть торкатися. Якщо це так, вам доведеться натиснути ключ на одну з стінок зчитувача.

<figure><img src="../../images/image (290).png" alt=""><figcaption></figcaption></figure>

### **1-Wire протокол** <a href="#id-1-wire-protocol" id="id-1-wire-protocol"></a>

Ключі Dallas обмінюються даними, використовуючи 1-wire протокол. З лише одним контактом для передачі даних (!!) в обох напрямках, від майстра до раба і навпаки. 1-wire протокол працює за моделлю Master-Slave. У цій топології Master завжди ініціює зв'язок, а Slave виконує його інструкції.

Коли ключ (Slave) контактує з домофоном (Master), мікросхема всередині ключа вмикається, живлячись від домофона, і ключ ініціалізується. Після цього домофон запитує ID ключа. Далі ми розглянемо цей процес детальніше.

Flipper може працювати як в режимі Master, так і в режимі Slave. У режимі зчитування ключа Flipper діє як зчитувач, тобто працює як Master. А в режимі емуляції ключа Flipper вдає з себе ключ, він у режимі Slave.

### Ключі Dallas, Cyfral & Metakom

Для отримання інформації про те, як працюють ці ключі, перегляньте сторінку [https://blog.flipperzero.one/taming-ibutton/](https://blog.flipperzero.one/taming-ibutton/)

### Атаки

iButtons можна атакувати за допомогою Flipper Zero:

{{#ref}}
flipper-zero/fz-ibutton.md
{{#endref}}

## Посилання

- [https://blog.flipperzero.one/taming-ibutton/](https://blog.flipperzero.one/taming-ibutton/)

{{#include ../../banners/hacktricks-training.md}}
