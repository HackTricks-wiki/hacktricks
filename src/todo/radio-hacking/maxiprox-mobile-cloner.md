# Δημιουργία Φορητού HID MaxiProx 125 kHz Κινητού Κλώνου

{{#include ../../banners/hacktricks-training.md}}

## Στόχος
Να μετατρέψουμε έναν τροφοδοτούμενο από το δίκτυο αναγνώστη HID MaxiProx 5375 μακράς εμβέλειας 125 kHz σε έναν φορητό, τροφοδοτούμενο από μπαταρία κλώνο καρτών που συλλέγει σιωπηλά κάρτες προσβασιμότητας κατά τη διάρκεια φυσικών αξιολογήσεων ασφαλείας.

Η μετατροπή που καλύπτεται εδώ βασίζεται στη σειρά ερευνών της TrustedSec “Let’s Clone a Cloner – Part 3: Putting It All Together” και συνδυάζει μηχανικές, ηλεκτρικές και RF παραμέτρους ώστε η τελική συσκευή να μπορεί να τοποθετηθεί σε ένα σακίδιο και να χρησιμοποιηθεί άμεσα στον χώρο.

> [!warning]
> Η χειρισμός εξοπλισμού που τροφοδοτείται από το δίκτυο και μπαταριών λιθίου μπορεί να είναι επικίνδυνος. Επαληθεύστε κάθε σύνδεση **πριν** ενεργοποιήσετε το κύκλωμα και διατηρήστε τις κεραίες, το coax και τα επίπεδα γείωσης ακριβώς όπως ήταν στο εργοστασιακό σχέδιο για να αποφύγετε την απορύθμιση του αναγνώστη.

## Λίστα Υλικών (BOM)

* Αναγνώστης HID MaxiProx 5375 (ή οποιοσδήποτε 12 V HID Prox® μακράς εμβέλειας αναγνώστης)
* ESP RFID Tool v2.2 (ESP32-based Wiegand sniffer/logger)
* Μονάδα ενεργοποίησης USB-PD (Power-Delivery) ικανή να διαπραγματευτεί 12 V @ ≥3 A
* 100 W USB-C power-bank (παράγει 12 V PD profile)
* 26 AWG καλώδιο σιλικόνης – κόκκινο/άσπρο
* Διακόπτης SPST τοποθετημένος σε πάνελ (για διακόπτη απενεργοποίησης ηχείου)
* Κάλυμμα ασφαλείας NKK AT4072 / ατύχημα-proof
* Σίδερο συγκόλλησης, καλώδιο συγκόλλησης & αντλία αποσυναρμολόγησης
* Χειροκίνητα εργαλεία ABS: πριόνι, μαχαίρι, επίπεδες & ημικυκλικές λίμες
* Τρυπάνια 1/16″ (1.5 mm) και 1/8″ (3 mm)
* 3 M VHB διπλής όψης ταινία & Zip-ties

## 1. Υποσύστημα Τροφοδοσίας

1. Αποσυνδέστε και αφαιρέστε την εργοστασιακή πλακέτα buck-converter που χρησιμοποιείται για την παραγωγή 5 V για την πλακέτα λογικής.
2. Τοποθετήστε μια μονάδα ενεργοποίησης USB-PD δίπλα στο ESP RFID Tool και κατευθύνετε την υποδοχή USB-C της μονάδας προς το εξωτερικό της θήκης.
3. Η μονάδα PD διαπραγματεύεται 12 V από την power-bank και τα τροφοδοτεί απευθείας στο MaxiProx (ο αναγνώστης περιμένει φυσικά 10–14 V). Μια δευτερεύουσα γραμμή 5 V λαμβάνεται από την πλακέτα ESP για να τροφοδοτήσει τυχόν αξεσουάρ.
4. Η μπαταρία 100 W τοποθετείται επίπεδα κατά μήκος του εσωτερικού στηρίγματος ώστε να μην υπάρχουν **καθόλου** καλώδια τροφοδοσίας που να κρέμονται πάνω από την κεραία φερρίτη, διατηρώντας την απόδοση RF.

## 2. Διακόπτης Απενεργοποίησης Ηχείου – Σιωπηλή Λειτουργία

1. Εντοπίστε τις δύο επαφές ηχείου στην πλακέτα λογικής του MaxiProx.
2. Καθαρίστε *και τις δύο* επαφές, στη συνέχεια ξανασυγκολλήστε μόνο την **αρνητική** επαφή.
3. Συγκολλήστε καλώδια 26 AWG (άσπρο = αρνητικό, κόκκινο = θετικό) στις επαφές του ηχείου και κατευθύνετέ τα μέσω μιας νέας κοπής σε έναν διακόπτη SPST τοποθετημένο σε πάνελ.
4. Όταν ο διακόπτης είναι ανοιχτός, το κύκλωμα του ηχείου διακόπτεται και ο αναγνώστης λειτουργεί σε πλήρη σιωπή – ιδανικό για μυστική συλλογή καρτών.
5. Τοποθετήστε ένα ελατήριο ασφαλείας NKK AT4072 πάνω από τον διακόπτη. Προσεκτικά διευρύνετε την τρύπα με πριόνι / λίμα μέχρι να κλείσει πάνω από το σώμα του διακόπτη. Ο φρουρός αποτρέπει την ακούσια ενεργοποίηση μέσα σε ένα σακίδιο.

## 3. Θήκη & Μηχανική Εργασία

• Χρησιμοποιήστε κοφτάρια και στη συνέχεια μαχαίρι & λίμα για να *αφαιρέσετε* την εσωτερική “προεξοχή” ABS ώστε η μεγάλη μπαταρία USB-C να κάθεται επίπεδα πάνω στο στήριγμα.
• Χαράξτε δύο παράλληλες αυλακώσεις στον τοίχο της θήκης για το καλώδιο USB-C; αυτό κλειδώνει τη μπαταρία στη θέση της και εξαλείφει την κίνηση/δονήσεις.
• Δημιουργήστε μια ορθογώνια άνοιξη για το κουμπί **τροφοδοσίας** της μπαταρίας:
1. Κολλήστε ένα χαρτί πάνω από την τοποθεσία.
2. Τρυπήστε 1/16″ πιλοτικές τρύπες σε όλες τις τέσσερις γωνίες.
3. Διευρύνετε με τρυπάνι 1/8″.
4. Συνδέστε τις τρύπες με πριόνι; τελειώστε τις άκρες με λίμα.
✱  Ένα περιστροφικό Dremel *αποφεύχθηκε* – η ταχύτητα του τρυπανιού λιώνει το παχύ ABS και αφήνει μια άσχημη άκρη.

## 4. Τελική Συναρμολόγηση

1. Επανατοποθετήστε την πλακέτα λογικής του MaxiProx και ξανασυγκολλήστε το πινγκτάιλ SMA στην επαφή γείωσης της πλακέτας του αναγνώστη.
2. Τοποθετήστε το ESP RFID Tool και τη μονάδα ενεργοποίησης USB-PD χρησιμοποιώντας 3 M VHB.
3. Τακτοποιήστε όλα τα καλώδια με zip-ties, κρατώντας τις γραμμές τροφοδοσίας **μακριά** από τον βρόχο της κεραίας.
4. Σφίξτε τις βίδες της θήκης μέχρι η μπαταρία να συμπιεστεί ελαφρώς; η εσωτερική τριβή αποτρέπει την κίνηση της μπαταρίας όταν η συσκευή αναπηδά μετά από κάθε ανάγνωση κάρτας.

## 5. Δοκιμές Εμβέλειας & Θωράκισης

* Χρησιμοποιώντας μια κάρτα δοκιμής 125 kHz **Pupa**, ο φορητός κλώνος πέτυχε σταθερές αναγνώσεις σε **≈ 8 cm** στον αέρα – ταυτόσημο με τη λειτουργία που τροφοδοτείται από το δίκτυο.
* Τοποθετώντας τον αναγνώστη μέσα σε ένα λεπτό μεταλλικό κουτί (για να προσομοιώσουμε ένα γραφείο τραπέζης) η εμβέλεια μειώθηκε σε ≤ 2 cm, επιβεβαιώνοντας ότι οι σημαντικές μεταλλικές θήκες δρουν ως αποτελεσματικές RF θωρακίσεις.

## Ροή Χρήσης

1. Φορτίστε τη μπαταρία USB-C, συνδέστε την και γυρίστε τον κύριο διακόπτη τροφοδοσίας.
2. (Προαιρετικά) Ανοίξτε την προστασία του ηχείου και ενεργοποιήστε την ηχητική ανατροφοδότηση κατά τη διάρκεια δοκιμών στον πάγκο; κλείστε την πριν από τη μυστική χρήση στο πεδίο.
3. Περάστε μπροστά από τον κάτοχο της κάρτας στόχου – ο MaxiProx θα ενεργοποιήσει την κάρτα και το ESP RFID Tool θα καταγράψει τη ροή Wiegand.
4. Μεταφέρετε τα καταγεγραμμένα διαπιστευτήρια μέσω Wi-Fi ή USB-UART και επαναπαίξτε/κλωνίστε όπως απαιτείται.

## Αντιμετώπιση Προβλημάτων

| Σύμπτωμα | Πιθανή Αιτία | Διόρθωση |
|---------|--------------|------|
| Ο αναγνώστης επανεκκινείται όταν παρουσιαστεί κάρτα | Η μονάδα PD διαπραγματεύτηκε 9 V αντί για 12 V | Επαληθεύστε τους διακόπτες ενεργοποίησης / δοκιμάστε καλώδιο USB-C υψηλότερης ισχύος |
| Καμία εμβέλεια ανάγνωσης | Η μπαταρία ή τα καλώδια βρίσκονται *πάνω* από την κεραία | Επανακατευθύνετε τα καλώδια & κρατήστε 2 cm απόσταση γύρω από τον βρόχο φερρίτη |
| Το ηχείο εξακολουθεί να τσιρίζει | Ο διακόπτης είναι συνδεδεμένος στην θετική γραμμή αντί για την αρνητική | Μετακινήστε τον διακόπτη απενεργοποίησης για να σπάσετε την **αρνητική** επαφή του ηχείου |

## Αναφορές

- [Let’s Clone a Cloner – Part 3 (TrustedSec)](https://trustedsec.com/blog/lets-clone-a-cloner-part-3-putting-it-all-together)

{{#include ../../banners/hacktricks-training.md}}
