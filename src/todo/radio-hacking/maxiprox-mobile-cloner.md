# 构建便携式 HID MaxiProx 125 kHz 移动克隆器

{{#include ../../banners/hacktricks-training.md}}

## 目标
将一个主电源供电的 HID MaxiProx 5375 长距离 125 kHz 读卡器转变为一个可在现场部署的、由电池供电的徽章克隆器，能够在物理安全评估期间静默收集接近卡。

这里的转换基于 TrustedSec 的“让我们克隆一个克隆器 - 第 3 部分：将一切结合在一起”研究系列，结合了机械、电气和射频方面的考虑，以便最终设备可以放入背包并立即在现场使用。

> [!warning]
> 操作主电源供电的设备和锂离子电源银行可能是危险的。在通电电路之前，请验证每个连接，并保持天线、同轴电缆和接地平面与工厂设计完全一致，以避免调谐失效。

## 材料清单 (BOM)

* HID MaxiProx 5375 读卡器（或任何 12 V HID Prox® 长距离读卡器）
* ESP RFID Tool v2.2（基于 ESP32 的 Wiegand 嗅探器/记录器）
* USB-PD（电源传输）触发模块，能够协商 12 V @ ≥3 A
* 100 W USB-C 电源银行（输出 12 V PD 配置文件）
* 26 AWG 硅胶绝缘连接线 - 红/白
* 面板安装 SPST 切换开关（用于蜂鸣器杀开关）
* NKK AT4072 开关保护盖/防意外盖
* 焊接铁、焊锡吸取带和除焊泵
* ABS 级手动工具：锯、刀、平头和半圆锉
* 钻头 1/16″（1.5 mm）和 1/8″（3 mm）
* 3 M VHB 双面胶带和扎带

## 1. 电源子系统

1. 拆除并移除用于生成 5 V 逻辑 PCB 的工厂降压转换器子板。
2. 在 ESP RFID Tool 旁边安装 USB-PD 触发器，并将触发器的 USB-C 插口引导到外壳外部。
3. PD 触发器从电源银行协商 12 V，并直接供电给 MaxiProx（读卡器原生期望 10–14 V）。从 ESP 板获取一个次级 5 V 电源轨以供电任何配件。
4. 100 W 电池组紧贴内部支撑安装，以确保 **没有** 电源线悬挂在铁氧体天线附近，从而保持射频性能。

## 2. 蜂鸣器杀开关 - 静音操作

1. 找到 MaxiProx 逻辑板上的两个扬声器焊盘。
2. 清理 *两个* 焊盘，然后仅重新焊接 **负** 焊盘。
3. 将 26 AWG 线（白色 = 负，红色 = 正）焊接到蜂鸣器焊盘，并通过新切割的槽引导到面板安装的 SPST 开关。
4. 当开关打开时，蜂鸣器电路被切断，读卡器在完全静默中操作 - 适合隐秘的徽章收集。
5. 在切换开关上安装 NKK AT4072 弹簧加载安全盖。小心地用锯/锉扩大孔径，直到它卡在开关主体上。保护盖防止在背包内意外激活。

## 3. 外壳与机械工作

• 使用平头剪刀，然后用刀和锉 *去除* 内部 ABS “凸起”，使大型 USB-C 电池平放在支撑上。
• 在外壳壁上雕刻两个平行通道以容纳 USB-C 电缆；这将电池锁定到位并消除移动/振动。
• 为电池的 **电源** 按钮创建一个矩形开口：
1. 在位置上贴上纸质模板。
2. 在四个角钻 1/16″ 导向孔。
3. 用 1/8″ 钻头扩大孔。
4. 用锯连接孔；用锉修整边缘。
✱ 避免使用旋转 Dremel - 高速钻头会熔化厚 ABS 并留下难看的边缘。

## 4. 最终组装

1. 重新安装 MaxiProx 逻辑板，并重新焊接 SMA 尾线到读卡器的 PCB 地面焊盘。
2. 使用 3 M VHB 安装 ESP RFID Tool 和 USB-PD 触发器。
3. 用扎带整理所有电线，保持电源线 **远离** 天线环。
4. 拧紧外壳螺丝，直到电池轻微压缩；内部摩擦防止在每次读取卡片后设备发生位移。

## 5. 范围与屏蔽测试

* 使用 125 kHz **Pupa** 测试卡，便携式克隆器在自由空气中实现了 **≈ 8 cm** 的一致读取 - 与主电源供电操作相同。
* 将读卡器放置在薄壁金属现金箱内（模拟银行大堂桌子）将范围减少到 ≤ 2 cm，确认大金属外壳作为有效的射频屏蔽。

## 使用工作流程

1. 充电 USB-C 电池，连接电池，并翻转主电源开关。
2. （可选）打开蜂鸣器保护盖，在台式测试时启用声音反馈；在隐秘现场使用前锁定。
3. 走过目标徽章持有者 - MaxiProx 将激活卡片，ESP RFID Tool 捕获 Wiegand 流。
4. 通过 Wi-Fi 或 USB-UART 转储捕获的凭据，并根据需要重放/克隆。

## 故障排除

| 症状 | 可能原因 | 修复 |
|---------|--------------|------|
| 读卡器在卡片呈现时重启 | PD 触发器协商了 9 V 而不是 12 V | 验证触发器跳线/尝试更高功率的 USB-C 电缆 |
| 无读取范围 | 电池或电线放置在 *天线* 上 | 重新布线并保持铁氧体环周围 2 cm 的间隙 |
| 蜂鸣器仍然鸣叫 | 开关接在正极而不是负极 | 移动杀开关以切断 **负** 扬声器线路 |

## 参考文献

- [让我们克隆一个克隆器 - 第 3 部分 (TrustedSec)](https://trustedsec.com/blog/lets-clone-a-cloner-part-3-putting-it-all-together)

{{#include ../../banners/hacktricks-training.md}}
