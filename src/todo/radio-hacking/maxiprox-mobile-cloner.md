# Побудова портативного HID MaxiProx 125 кГц мобільного клонера

{{#include ../../banners/hacktricks-training.md}}

## Мета
Перетворити мережевий HID MaxiProx 5375 довгосвітловий 125 кГц зчитувач на польовий, живлений від батареї клонер значків, який безшумно збирає картки доступу під час оцінки фізичної безпеки.

Конверсія, описана тут, базується на дослідженнях TrustedSec "Давайте клонувати клонер – Частина 3: Збираємо все разом" і поєднує механічні, електричні та радіочастотні аспекти, щоб фінальний пристрій можна було покласти в рюкзак і відразу використовувати на місці.

> [!warning]
> Маніпуляції з мережевим обладнанням та літій-іонними акумуляторами можуть бути небезпечними. Перевірте кожне з'єднання **перед** подачею живлення на схему та зберігайте антени, коаксіальні кабелі та заземлювальні площини точно такими, якими вони були в заводському дизайні, щоб уникнути детюнації зчитувача.

## Специфікація матеріалів (BOM)

* HID MaxiProx 5375 зчитувач (або будь-який 12 В HID Prox® довгосвітловий зчитувач)
* ESP RFID Tool v2.2 (засіб для зчитування/логування Wiegand на базі ESP32)
* Модуль тригера USB-PD (Power-Delivery), здатний домовлятися про 12 В @ ≥3 А
* 100 Вт USB-C акумулятор (виходи 12 В PD профілю)
* 26 AWG силіконовий ізольований з'єднувальний дріт – червоний/білий
* Панельний SPST перемикач (для вимикача сигналізації)
* Захисна кришка NKK AT4072 / капсула, що запобігає нещасним випадкам
* Паяльник, обплетка для пайки та насос для видалення припою
* Інструменти з ABS: ножівка, канцелярський ніж, плоскі та напівкруглі файли
* Свердла 1/16″ (1.5 мм) та 1/8″ (3 мм)
* Двосторонній скотч 3 M VHB та стяжки

## 1. Підсистема живлення

1. Випаяти та видалити заводську плату перетворювача, що використовується для генерації 5 В для логічної плати.
2. Закріпити тригер USB-PD поруч з ESP RFID Tool і вивести USB-C роз'єм тригера назовні корпусу.
3. Тригер PD домовляється про 12 В з акумулятора і подає його безпосередньо на MaxiProx (зчитувач очікує 10–14 В). Додаткова 5 В лінія береться з плати ESP для живлення будь-яких аксесуарів.
4. Акумулятор на 100 Вт розташований впритул до внутрішнього стійка, щоб **не було** живильних кабелів, що звисають через феритові антени, зберігаючи радіочастотну продуктивність.

## 2. Вимикач сигналізації – безшумна робота

1. Знайти дві контактні площадки динаміка на логічній платі MaxiProx.
2. Очистити *обидві* площадки, потім перепаяти лише **негативну** площадку.
3. Припаяти дроти 26 AWG (білий = негативний, червоний = позитивний) до площадок динаміка і провести їх через новий виріз до панельного SPST перемикача.
4. Коли перемикач відкритий, коло динаміка розривається, і зчитувач працює в повній тиші – ідеально для прихованого збору значків.
5. Встановити пружинну захисну кришку NKK AT4072 на перемикач. Обережно розширити отвір за допомогою ножівки/файлу, поки він не зафіксується на корпусі перемикача. Захисна кришка запобігає випадковій активації всередині рюкзака.

## 3. Корпус та механічні роботи

• Використовуйте плоскі кусачки, а потім ніж і файл, щоб *видалити* внутрішній ABS "випуклість", щоб великий акумулятор USB-C сидів рівно на стійку.
• Вирізати два паралельні канали в стіні корпусу для кабелю USB-C; це фіксує акумулятор на місці і усуває рух/вібрацію.
• Створити прямокутний отвір для **кнопки** живлення акумулятора:
1. Приклейте паперовий трафарет на місце.
2. Просвердліть 1/16″ направляючі отвори в усіх чотирьох кутах.
3. Розширте свердлом 1/8″.
4. З'єднайте отвори за допомогою ножівки; закінчіть краї файлом.
✱  Ротаційний Dremel був *уникнений* – швидкосвердлячий інструмент плавить товстий ABS і залишає непривабливий край.

## 4. Остаточна збірка

1. Встановити назад логічну плату MaxiProx і перепаяти SMA пигтейл до заземлювальної площадки плати зчитувача.
2. Закріпити ESP RFID Tool і тригер USB-PD за допомогою 3 M VHB.
3. Упорядкувати всі проводи за допомогою стяжок, тримаючи живильні дроти **далеко** від петлі антени.
4. Затягнути гвинти корпусу, поки акумулятор не буде легенько стиснутий; внутрішнє тертя запобігає зміщенню пакета, коли пристрій відскакує після кожного зчитування картки.

## 5. Тести дальності та екранування

* Використовуючи тестову картку **Pupa** 125 кГц, портативний клонер досяг стабільних зчитувань на **≈ 8 см** у вільному повітрі – ідентично мережевій роботі.
* Розміщення зчитувача всередині металевої каси з тонкими стінками (для імітації стійки банківського лобі) зменшило дальність до ≤ 2 см, підтверджуючи, що значні металеві корпуси діють як ефективні радіочастотні екрани.

## Робочий процес використання

1. Зарядити акумулятор USB-C, підключити його і перевести головний вимикач у положення "включено".
2. (Необов'язково) Відкрити захисну кришку динаміка і активувати звуковий зворотний зв'язок під час тестування на стенді; закрити перед прихованим польовим використанням.
3. Пройти повз цільового власника значка – MaxiProx активує картку, а ESP RFID Tool захоплює потік Wiegand.
4. Скинути захоплені облікові дані через Wi-Fi або USB-UART і відтворити/клонувати за потреби.

## Усунення несправностей

| Симптом | Ймовірна причина | Виправлення |
|---------|------------------|-------------|
| Зчитувач перезавантажується при подачі картки | Тригер PD домовився про 9 В, а не 12 В | Перевірте перемички тригера / спробуйте кабель USB-C з більшою потужністю |
| Немає дальності зчитування | Акумулятор або проводка лежать *на верху* антени | Перенаправте кабелі та зберігайте 2 см зазору навколо феритової петлі |
| Сигналізація все ще пищить | Перемикач підключений до позитивного проводу замість негативного | Перемістіть вимикач, щоб розірвати **негативний** шлях динаміка |

## Посилання

- [Давайте клонувати клонер – Частина 3 (TrustedSec)](https://trustedsec.com/blog/lets-clone-a-cloner-part-3-putting-it-all-together)

{{#include ../../banners/hacktricks-training.md}}
