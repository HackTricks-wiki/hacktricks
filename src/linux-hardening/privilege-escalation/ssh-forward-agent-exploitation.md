{{#include ../../banners/hacktricks-training.md}}

# Samevatting

Wat kan jy doen as jy binne die `/etc/ssh_config` of binne `$HOME/.ssh/config` konfigurasie hierdie ontdek:
```
ForwardAgent yes
```
As jy root binne die masjien is, kan jy waarskynlik **enige ssh-verbinding wat deur enige agent gemaak is, toegang verkry** wat jy in die _/tmp_ gids kan vind.

Imiteer Bob met behulp van een van Bob se ssh-agent:
```bash
SSH_AUTH_SOCK=/tmp/ssh-haqzR16816/agent.16816 ssh bob@boston
```
## Waarom werk dit?

Wanneer jy die veranderlike `SSH_AUTH_SOCK` stel, het jy toegang tot die sleutels van Bob wat in Bob se ssh-verbinding gebruik is. Dan, as sy privaat sleutel nog daar is (normaalweg sal dit wees), sal jy in staat wees om enige gasheer te benader met dit.

Aangesien die privaat sleutel in die geheue van die agent ongeÃ«nkripteer gestoor word, neem ek aan dat as jy Bob is maar jy weet nie die wagwoord van die privaat sleutel nie, jy steeds toegang tot die agent kan kry en dit kan gebruik.

'n Ander opsie is dat die gebruiker wat die agent besit en root moontlik toegang tot die geheue van die agent kan kry en die privaat sleutel kan onttrek.

# Lang verduideliking en uitbuiting

**Kyk die [oorspronklike navorsing hier](https://www.clockwork.com/insights/ssh-agent-hijacking/)**
{{#include ../../banners/hacktricks-training.md}}
