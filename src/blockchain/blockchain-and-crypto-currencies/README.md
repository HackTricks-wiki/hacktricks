# Blockchain और Crypto-Currencies

{{#include ../../banners/hacktricks-training.md}}

## मूल अवधारणाएँ

- **Smart Contracts** को ऐसे प्रोग्राम के रूप में परिभाषित किया जाता है जो ब्लॉकचेन पर तब चलते हैं जब कुछ शर्तें पूरी होती हैं, और ये समझौते बिना मध्यस्थों के स्वतः निष्पादित करते हैं।
- **Decentralized Applications (dApps)** स्मार्ट कॉन्ट्रैक्ट्स पर आधारित होते हैं, और इनमें उपयोगकर्ता-अनुकूल फ्रंट-एंड और पारदर्शी, ऑडिटेबल बैक-एंड होता है।
- **Tokens & Coins** में फर्क होता है: coins डिजिटल मुद्रा के रूप में काम करते हैं, जबकि tokens किसी विशेष संदर्भ में मूल्य या स्वामित्व का प्रतिनिधित्व करते हैं।
- **Utility Tokens** सेवाओं तक पहुँच देते हैं, और **Security Tokens** संपत्ति के स्वामित्व का संकेत देते हैं।
- **DeFi** का अर्थ Decentralized Finance है, जो बिना केंद्रीय प्राधिकरण के वित्तीय सेवाएँ प्रदान करता है।
- **DEX** और **DAOs** क्रमशः Decentralized Exchange Platforms और Decentralized Autonomous Organizations को दर्शाते हैं।

## Consensus Mechanisms

Consensus mechanisms ब्लॉकचेन पर लेनदेन की सुरक्षित और सहमति-आधारित सत्यापन सुनिश्चित करते हैं:

- **Proof of Work (PoW)** लेनदेन सत्यापन के लिए गणनात्मक शक्ति पर निर्भर करता है।
- **Proof of Stake (PoS)** में validators को一定 मात्रा में tokens होनी चाहिए, जो PoW की तुलना में ऊर्जा खपत को कम करता है।

## Bitcoin के मूल तत्व

### लेनदेन

Bitcoin के लेनदेन में पते के बीच फंड ट्रांसफर शामिल होते हैं। लेनदेन डिजिटल सिग्नेचर्स के माध्यम से मान्य किए जाते हैं, जिससे केवल प्राइवेट की का मालिक ही ट्रांसफर शुरू कर सकता है।

#### मुख्य घटक:

- **Multisignature Transactions** एक लेनदेन को अधिकृत करने के लिए कई सिग्नेचर्स की आवश्यकता होती है।
- लेनदेन में **inputs** (फंड का स्रोत), **outputs** (गंतव्य), **fees** (miners को भुगतान), और **scripts** (लेनदेन के नियम) शामिल होते हैं।

### Lightning Network

Lightning Network का उद्देश्य Bitcoin की स्केलेबिलिटी बढ़ाना है, जिससे एक चैनल के भीतर कई लेनदेन किए जा सकें और केवल अंतिम स्थिति को ब्लॉकचेन पर प्रसारित किया जाए।

## Bitcoin गोपनीयता संबंधित चिंताएँ

गोपनीयता हमले, जैसे **Common Input Ownership** और **UTXO Change Address Detection**, लेनदेन पैटर्न का दुरुपयोग करते हैं। **Mixers** और **CoinJoin** जैसी रणनीतियाँ उपयोगकर्ताओं के बीच लेनदेन संबंधों को अस्पष्ट करके पहचान छुपाने में मदद करती हैं।

## बिटकॉइन गुमनाम रूप से प्राप्त करना

विधियों में नकद लेन-देन, माइनिंग, और mixers का उपयोग शामिल है। **CoinJoin** कई लेनदेन को मिक्स करके ट्रैकिंग को जटिल बनाता है, जबकि **PayJoin** CoinJoin को सामान्य लेनदेन जैसा दिखाकर और भी अधिक गोपनीयता देता है।

# Bitcoin गोपनीयता हमले

# Summary of Bitcoin Privacy Attacks

Bitcoin की दुनिया में, लेनदेन की गोपनीयता और उपयोगकर्ताओं की पहचान अक्सर चुनौतियों के केंद्र में रहती है। यहाँ कुछ सामान्य तरीकों का सरल सारांश है जिनसे हमलावर Bitcoin की गोपनीयता को समझौता कर सकते हैं।

## **Common Input Ownership Assumption**

अक्सर अलग-अलग उपयोगकर्ताओं के inputs को एक ही लेनदेन में मिलाना दुर्लभ होता है क्योंकि यह जटिलता बढ़ाता है। इसलिए, **एक ही लेनदेन में मौजूद दो input पते अक्सर एक ही मालिक के होने का अनुमान लगाया जाता है**।

## **UTXO Change Address Detection**

UTXO, या **Unspent Transaction Output**, को एक लेनदेन में पूरी तरह खर्च करना होता है। यदि इसका केवल एक हिस्सा किसी अन्य पते पर भेजा जाता है, तो बचा हुआ भाग एक नए change address पर जाता है। पर्यवेक्षक यह अनुमान लगा सकते हैं कि यह नया पता भेजने वाले का है, जिससे गोपनीयता प्रभावित होती है।

### Example

इसे कम करने के लिए, mixing सेवाओं का उपयोग या कई पतों का प्रयोग करके स्वामित्व अस्पष्ट किया जा सकता है।

## **Social Networks & Forums Exposure**

उपयोगकर्ता कभी-कभी अपने Bitcoin पते ऑनलाइन साझा करते हैं, जिससे पता का उसके मालिक से जोड़ना आसान हो जाता है।

## **Transaction Graph Analysis**

लेनदेन को ग्राफ़ के रूप में visualize किया जा सकता है, जो फंड फ्लो के आधार पर उपयोगकर्ताओं के बीच संभावित कनेक्शन उजागर करता है।

## **Unnecessary Input Heuristic (Optimal Change Heuristic)**

यह heuristic कई inputs और outputs वाले लेनदेन का विश्लेषण करके अनुमान लगाती है कि कौन सा output sender को वापस जाने वाला change है।

### Example
```bash
2 btc --> 4 btc
3 btc     1 btc
```
यदि अधिक इनपुट जोड़ने से चेंज आउटपुट किसी भी एकल इनपुट से बड़ा हो जाता है, तो यह हीयुरिस्टिक को भ्रमित कर सकता है।

## **Forced Address Reuse**

हमलावर पहले से उपयोग किए गए पतों को छोटे-छोटे राशियाँ भेज सकते हैं, इस उम्मीद में कि प्राप्तकर्ता इन्हें भविष्य के लेनदेन में अन्य इनपुट्स के साथ जोड़ देगा, और इस तरह पते आपस में लिंक हो जाएंगे।

### सही वॉलेट व्यवहार

वॉलेट को पहले से इस्तेमाल किए जा चुके, खाली पतों पर प्राप्त सिक्कों का उपयोग करने से बचना चाहिए ताकि इस privacy leak को रोका जा सके।

## **अन्य Blockchain Analysis Techniques**

- **Exact Payment Amounts:** चेंज के बिना लेनदेन संभावित रूप से उन दो पतों के बीच होते हैं जो एक ही उपयोगकर्ता के स्वामित्व में हैं।
- **Round Numbers:** किसी लेनदेन में गोल संख्या यह संकेत देती है कि यह भुगतान है, और गैर-गोल आउटपुट सम्भवतः चेंज होगा।
- **Wallet Fingerprinting:** अलग-अलग वॉलेट के लेनदेन निर्माण के पैटर्न अलग होते हैं, जिससे विश्लेषक उपयोग किए गए सॉफ़्टवेयर और संभावित चेंज पता पहचान सकते हैं।
- **Amount & Timing Correlations:** लेनदेन का समय या राशि का खुलासा लेनदेन को ट्रेस करने के योग्य बना सकता है।

## **Traffic Analysis**

नेटवर्क ट्रैफ़िक की निगरानी करके, हमलावर संभावित रूप से लेनदेन या ब्लॉकों को IP पतों से जोड़ सकते हैं, जिससे उपयोगकर्ता की गोपनीयता प्रभावित हो सकती है। यह विशेष रूप से सच है यदि कोई संस्था कई Bitcoin नोड्स चलाती है, क्योंकि इससे उनकी लेनदेन की निगरानी करने की क्षमता बढ़ जाती है।

## और

गोपनीयता हमलों और बचावों की विस्तृत सूची के लिए, देखें [Bitcoin Privacy on Bitcoin Wiki](https://en.bitcoin.it/wiki/Privacy).

# अनाम Bitcoin लेनदेन

## Bitcoins को अनाम रूप से प्राप्त करने के तरीके

- **Cash Transactions**: नकद के माध्यम से bitcoin प्राप्त करना।
- **Cash Alternatives**: गिफ्ट कार्ड खरीदकर और उन्हें ऑनलाइन bitcoin के लिए एक्सचेंज करके।
- **Mining**: bitcoins कमाने का सबसे निजी तरीका खुद माइनिंग करना है, विशेषकर अकेले माइनिंग करने पर क्योंकि mining pools माइनर का IP पता जान सकते हैं। [Mining Pools Information](https://en.bitcoin.it/wiki/Pooled_mining)
- **Theft**: सिद्धांततः bitcoin चोरी करना अनाम रूप से प्राप्त करने का एक तरीका हो सकता है, हालांकि यह अवैध है और सिफारिश नहीं की जाती।

## Mixing Services

Mixing service का उपयोग करके, एक उपयोगकर्ता **बिटकॉइन भेज सकता है** और बदले में **अलग बिटकॉइन प्राप्त कर सकता है**, जिससे मूल मालिक को ट्रेस करना मुश्किल हो जाता है। फिर भी, इसके लिए सेवा पर भरोसा करना पड़ता है कि वह लॉग नहीं रखेगी और वास्तविक रूप से बिटकॉइन वापस करेगी। वैकल्पिक mixing विकल्पों में Bitcoin casinos शामिल हैं।

## CoinJoin

CoinJoin विभिन्न उपयोगकर्ताओं के कई लेनदेन को एक में मिला देता है, जिससे किसी के लिए भी इनपुट्स को आउटपुट्स के साथ मिलाना जटिल हो जाता है। अपनी प्रभावशीलता के बावजूद, विशिष्ट इनपुट और आउटपुट आकार वाले लेनदेन अभी भी संभावित रूप से ट्रेस किए जा सकते हैं।

CoinJoin का उपयोग किए गए संभावित उदाहरण लेनदेन में `402d3e1df685d1fdf82f36b220079c1bf44db227df2d676625ebcbee3f6cb22a` और `85378815f6ee170aa8c26694ee2df42b99cff7fa9357f073c1192fff1f540238` शामिल हैं।

अधिक जानकारी के लिए देखें [CoinJoin](https://coinjoin.io/en). Ethereum पर समान सेवा के लिए देखें [Tornado Cash](https://tornado.cash), जो माइनर्स के फंड का उपयोग करके लेनदेन को अनाम बनाती है।

## PayJoin

CoinJoin का एक रूप, **PayJoin** (या P2EP), दो पक्षों (उदा., ग्राहक और विक्रेता) के बीच लेनदेन को एक सामान्य लेनदेन के रूप में छिपा देता है, बिना CoinJoin के विशिष्ट बराबर आउटपुट वाली विशेषता के। इससे पहचानना बेहद कठिन हो जाता है और यह लेनदेन निगरानी करने वाली संस्थाओं द्वारा उपयोग की जाने वाली common-input-ownership हीयुरिस्टिक को निरस्त कर सकता है।
```plaintext
2 btc --> 3 btc
5 btc     4 btc
```
लेन‑देन जैसी ऊपर दिखाई गई प्रविष्टियाँ PayJoin हो सकती हैं, जो गोपनीयता बढ़ाती हैं जबकि मानक bitcoin लेन‑देन से अलग नहीं दिखाई देतीं।

**PayJoin का उपयोग पारंपरिक निगरानी तरीकों को काफी हद तक बाधित कर सकता है**, जो लेन‑देन की गोपनीयता की तलाश में एक आशाजनक विकास बनाता है।

# क्रिप्टोकरेंसीज़ में गोपनीयता के लिए सर्वोत्तम अभ्यास

## **वॉलेट सिंक्रोनाइज़ेशन तकनीकें**

गोपनीयता और सुरक्षा बनाए रखने के लिए, वॉलेट्स का blockchain के साथ सिंक करना अहम है। दो तरीके प्रमुख हैं:

- **Full node**: पूरी blockchain डाउनलोड करके, एक full node अधिकतम गोपनीयता सुनिश्चित करता है। अब तक किए गए सभी लेन‑देन लोकल रूप से संग्रहित होते हैं, जिससे विरोधियों के लिए यह पहचानना असंभव हो जाता है कि उपयोगकर्ता किन लेन‑देन या पतों में रुचि रखता है।
- **Client-side block filtering**: इस विधि में blockchain के प्रत्येक ब्लॉक के लिए फिल्टर बनाए जाते हैं, जिससे वॉलेट्स प्रासंगिक लेन‑देन पहचान सकते हैं बिना नेटवर्क पर पर्यवेक्षकों के प्रति विशिष्ट रुचियों को उजागर किए। लाइटवेट वॉलेट्स इन फिल्टरों को डाउनलोड करते हैं और केवल तब पूरा ब्लॉक प्राप्त करते हैं जब उपयोगकर्ता के पते के साथ मेल मिल जाए।

## **गोपनीयता के लिए Tor का उपयोग**

चूंकि Bitcoin एक peer-to-peer नेटवर्क पर चलता है, इसलिए नेटवर्क के साथ इंटरैक्ट करते समय आपके IP पते को छुपाने के लिए Tor का उपयोग करने की सलाह दी जाती है, जिससे गोपनीयता बढ़ती है।

## **पता पुन: उपयोग रोकना**

गोपनीयता की रक्षा के लिए, हर लेन‑देन के लिए नया पता उपयोग करना अनिवार्य है। पतों का पुन: उपयोग गोपनीयता को खतरे में डाल सकता है क्योंकि यह लेन‑देन को एक ही इकाई से जोड़ देता है। आधुनिक वॉलेट्स डिजाइन के माध्यम से पते के पुन: उपयोग को हतोत्साहित करते हैं।

## **लेन‑देन गोपनीयता के लिए रणनीतियाँ**

- **Multiple transactions**: भुगतान को कई लेन‑देन में विभाजित करने से ट्रांज़ैक्शन राशि अस्पष्ट हो सकती है और गोपनीयता हमलों को नाकाम किया जा सकता है।
- **Change avoidance**: ऐसे लेन‑देन चुनना जिनके लिए change outputs की आवश्यकता न हो, change detection विधियों को बाधित करके गोपनीयता बढ़ाता है।
- **Multiple change outputs**: यदि change से बचना संभव न हो, तो कई change outputs बनाना फिर भी गोपनीयता में सुधार कर सकता है।

# **Monero: A Beacon of Anonymity**

Monero डिजिटल लेन‑देन में पूर्ण अज्ञातता की आवश्यकता को पूरा करता है और गोपनीयता के लिए उच्च मानक स्थापित करता है।

# **Ethereum: Gas and Transactions**

## **Understanding Gas**

Gas Ethereum पर ऑपरेशन निष्पादित करने के लिए आवश्यक कंप्यूटेशनल प्रयास को मापता है, जिसकी कीमत **gwei** में होती है। उदाहरण के लिए, 2,310,000 gwei (या 0.00231 ETH) लागत वाला एक लेन‑देन gas limit और base fee शामिल करता है, साथ ही miners को प्रोत्साहित करने के लिए tip भी होता है। उपयोगकर्ता अधिक भुगतान न करें यह सुनिश्चित करने के लिए max fee सेट कर सकते हैं, अतिरिक्त राशि वापस कर दी जाती है।

## **Executing Transactions**

Ethereum में लेन‑देन एक sender और एक recipient को शामिल करते हैं, जो उपयोगकर्ता या smart contract पते हो सकते हैं। इनके लिए फीस आवश्यक होती है और इन्हें mined किया जाना चाहिए। लेन‑देन में आवश्यक जानकारी में recipient, sender का signature, value, वैकल्पिक data, gas limit, और fees शामिल हैं। उल्लेखनीय बात यह है कि sender का पता signature से निकाला जाता है, इसलिए उसे लेन‑देन डेटा में शामिल करने की आवश्यकता नहीं होती।

ये प्रथाएँ और तंत्र उन सभी के लिए मौलिक हैं जो क्रिप्टोकरेंसी के साथ जुड़ना चाहते हैं और गोपनीयता तथा सुरक्षा को प्राथमिकता देते हैं।

## Smart Contract Security

- Mutation testing ताकि टेस्ट सूट में छिपी कमियों का पता चल सके:

{{#ref}}
../smart-contract-security/mutation-testing-with-slither.md
{{#endref}}

## References

- [https://en.wikipedia.org/wiki/Proof_of_stake](https://en.wikipedia.org/wiki/Proof_of_stake)
- [https://www.mycryptopedia.com/public-key-private-key-explained/](https://www.mycryptopedia.com/public-key-private-key-explained/)
- [https://bitcoin.stackexchange.com/questions/3718/what-are-multi-signature-transactions](https://bitcoin.stackexchange.com/questions/3718/what-are-multi-signature-transactions)
- [https://ethereum.org/en/developers/docs/transactions/](https://ethereum.org/en/developers/docs/transactions/)
- [https://ethereum.org/en/developers/docs/gas/](https://ethereum.org/en/developers/docs/gas/)
- [https://en.bitcoin.it/wiki/Privacy](https://en.bitcoin.it/wiki/Privacy#Forced_address_reuse)

## DeFi/AMM Exploitation

यदि आप DEXes और AMMs (Uniswap v4 hooks, rounding/precision abuse, flash‑loan amplified threshold‑crossing swaps) के व्यावहारिक शोषण पर शोध कर रहे हैं, तो देखें:

{{#ref}}
defi-amm-hook-precision.md
{{#endref}}

वो multi-asset weighted pools जो virtual balances को cache करते हैं और जब `supply == 0` तब संदूषित (poison) किए जा सकते हैं, उनके लिए अध्ययन करें:

{{#ref}}
defi-amm-virtual-balance-cache-exploitation.md
{{#endref}}

{{#include ../../banners/hacktricks-training.md}}
