# iOS Wie man eine Verbindung zu Corellium herstellt

{{#include ../../banners/hacktricks-training.md}}

## **Voraussetzungen**
- Eine Corellium iOS VM (jailbroken oder nicht). In diesem Leitfaden gehen wir davon aus, dass du Zugriff auf Corellium hast.
- Lokale Tools: **ssh/scp**.
- (Optional) **SSH keys** zu deinem Corellium-Projekt hinzugefügt für passwortlose Logins.


## **Mit der iPhone-VM vom localhost verbinden**

### A) **Quick Connect (kein VPN)**
0) Füge deinen **SSH key** in **`/admin/projects`** hinzu (empfohlen).  
1) Öffne die device page → **Connect**  
2) **Copy the Quick Connect SSH command** shown by Corellium and paste it in your terminal.  
3) Gib das Passwort ein oder benutze deinen **SSH key** (empfohlen).

### B) **VPN → direct SSH**
0) Füge deinen **SSH key** in **`/admin/projects`** hinzu (empfohlen).  
1) Device page → **CONNECT** → **VPN** → lade die `.ovpn` herunter und verbinde dich mit einem VPN-Client, der TAP mode unterstützt. (Check [https://support.corellium.com/features/connect/vpn](https://support.corellium.com/features/connect/vpn) if you have issues.)  
2) SSH to the VM’s **10.11.x.x** address:
```bash
ssh root@10.11.1.1
```
## **Eine native Binärdatei hochladen & ausführen**

### 2.1 **Hochladen**
- Wenn Quick Connect Ihnen einen Host/Port angegeben hat:
```bash
scp -J <domain> ./mytool root@10.11.1.1:/var/root/mytool
```
- Wenn VPN verwendet wird (10.11.x.x):
```bash
scp ./mytool -J <domain> root@10.11.1.1:/var/root/mytool
```
## **Hochladen & Installieren einer iOS-App (.ipa)**

### Pfad A — **Web UI (am schnellsten)**
1) Device page → **Apps** Tab → **Install App** → wähle deine `.ipa`.
2) Aus demselben Tab kannst du **launch/kill/uninstall**.

### Pfad B — **Skriptgesteuert via Corellium Agent**
1) Verwende den API Agent, um **upload** und anschließend **install** durchzuführen:
```js
// Node.js (pseudo) using Corellium Agent
await agent.upload("./app.ipa", "/var/tmp/app.ipa");
await agent.install("/var/tmp/app.ipa", (progress, status) => {
console.log(progress, status);
});
```
### Path C — **Non-jailbroken (proper signing / Sideloadly)**
- Wenn du kein Provisioning Profile hast, verwende **Sideloadly**, um mit deiner Apple ID neu zu signieren, oder melde dich in Xcode an.
- Du kannst die VM auch mit **USBFlux** für Xcode freigeben (siehe §5).


- Für schnelle Logs/Befehle ohne SSH benutze die Geräte-**Console** in der UI.

## **Extras**

- **Port-forwarding** (die VM für andere Tools lokal erscheinen lassen):
```bash
# Forward local 2222 -> device 22
ssh -N -L 2222:127.0.0.1:22 root@10.11.1.1
# Now you can: scp -P 2222 file root@10.11.1.1:/var/root/
```
- **LLDB remote debugging**: benutze die **LLDB/GDB stub** Adresse, die unten auf der Seite des Geräts angezeigt wird (CONNECT → LLDB).

- **USBFlux (macOS/Linux)**: präsentiere die VM an **Xcode/Sideloadly** wie ein per Kabel verbundenes Gerät.


## **Häufige Fallstricke**
- **Proper signing** ist auf **non-jailbroken** Geräten erforderlich; unsigned IPAs werden nicht gestartet.
- **Quick Connect vs VPN**: Quick Connect ist am einfachsten; benutze **VPN**, wenn du das Gerät in deinem lokalen Netzwerk brauchst (z. B. lokale Proxies/Tools).
- **No App Store** auf Corellium-Geräten; bring your own (re)signed IPAs.



{{#include ../../banners/hacktricks-training.md}}
