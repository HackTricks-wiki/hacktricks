# iOS Kako se povezati sa Corellium

{{#include ../../banners/hacktricks-training.md}}

## **Zahtevi**
- Corellium iOS VM (jailbroken ili ne). U ovom vodiču pretpostavljamo da imate pristup Corelliumu.
- Lokalni alati: **ssh/scp**.
- (Opcionalno) **SSH keys** dodati u vaš Corellium projekat za logovanje bez lozinke.


## **Povezivanje na iPhone VM sa localhost-a**

### A) **Quick Connect (no VPN)**
0) Dodajte vaš ssh ključ u **`/admin/projects`** (preporučeno).
1) Otvorite stranicu uređaja → **Connect**
2) **Kopirajte Quick Connect SSH komandu** koju Corellium prikazuje i nalepite je u vaš terminal.
3) Unesite lozinku ili koristite vaš ključ (preporučeno).

### B) **VPN → direktan SSH**
0) Dodajte vaš ssh ključ u **`/admin/projects`** (preporučeno).
1) Stranica uređaja → **CONNECT** → **VPN** → preuzmite `.ovpn` i povežite se sa bilo kojim VPN klijentom koji podržava TAP režim. (Proverite [https://support.corellium.com/features/connect/vpn](https://support.corellium.com/features/connect/vpn) ako imate problema.)
2) SSH na adresu VM-a **10.11.x.x**:
```bash
ssh root@10.11.1.1
```
## **Otpremite nativni binarni fajl i pokrenite ga**

### 2.1 **Otpremanje**
- Ako vam je Quick Connect dao host/port:
```bash
scp -J <domain> ./mytool root@10.11.1.1:/var/root/mytool
```
- Ako koristite VPN (10.11.x.x):
```bash
scp ./mytool -J <domain> root@10.11.1.1:/var/root/mytool
```
## **Otpremanje i instalacija iOS aplikacije (.ipa)**

### Putanja A — **Web UI (najbrže)**
1) Stranica uređaja → **Apps** tab → **Install App** → izaberite svoj `.ipa`.
2) Iz iste kartice možete **pokrenuti/ubiti/deinstalirati**.

### Putanja B — **Skriptovano preko Corellium Agent**
1) Koristite API Agent da **otpremite**, pa zatim **instalirate**:
```js
// Node.js (pseudo) using Corellium Agent
await agent.upload("./app.ipa", "/var/tmp/app.ipa");
await agent.install("/var/tmp/app.ipa", (progress, status) => {
console.log(progress, status);
});
```
### Path C — **Bez jailbreak-a (ispravno potpisivanje / Sideloadly)**
- Ako nemate provisioning profil, koristite **Sideloadly** da ponovo potpišete sa svojim Apple ID-jem, ili se prijavite u Xcode.
- Takođe možete izložiti VM Xcode-u koristeći **USBFlux** (pogledajte §5).


- Za brze logove/komande bez SSH, koristite Console uređaja u UI.

## **Dodatno**

- **Port-forwarding** (učinite da VM deluje lokalno za druge alate):
```bash
# Forward local 2222 -> device 22
ssh -N -L 2222:127.0.0.1:22 root@10.11.1.1
# Now you can: scp -P 2222 file root@10.11.1.1:/var/root/
```
- **LLDB remote debugging**: koristite adresu **LLDB/GDB stub** prikazanu na dnu stranice uređaja (CONNECT → LLDB).

- **USBFlux (macOS/Linux)**: prikažite VM **Xcode/Sideloadly** kao da je uređaj priključen kablom.


## **Česte zamke**
- **Proper signing** je obavezno na **non-jailbroken** uređajima; unsigned IPAs won't launch.
- **Quick Connect vs VPN**: Quick Connect je najjednostavniji; koristite **VPN** kada trebate da je uređaj na vašoj lokalnoj mreži (npr. lokalni proxy-ji/alati).
- **No App Store** na Corellium uređajima; ponesite sopstvene (re)signed IPAs.



{{#include ../../banners/hacktricks-training.md}}
