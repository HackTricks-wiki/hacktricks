# Use After Free

{{#include ../../../banners/hacktricks-training.md}}

## Grundinformationen

Wie der Name schon sagt, tritt diese Schwachstelle auf, wenn ein Programm **Speicherplatz** im Heap für ein Objekt **speichert**, dort einige Informationen **schreibt**, es anscheinend **freigibt**, weil es nicht mehr benötigt wird, und dann **darauf wieder zugreift**.

Das Problem hierbei ist, dass es nicht illegal ist (es **wird keine Fehler geben**), wenn auf **freigegebenen Speicher zugegriffen wird**. Wenn das Programm (oder der Angreifer) es schafft, den **freigegebenen Speicher zuzuweisen und beliebige Daten zu speichern**, würde beim Zugriff auf den freigegebenen Speicher von dem ursprünglichen Zeiger **die Daten überschrieben worden sein**, was eine **Schwachstelle verursacht, die von der Sensibilität der ursprünglich gespeicherten Daten abhängt** (wenn es sich um einen Zeiger auf eine Funktion handelte, die aufgerufen werden sollte, könnte ein Angreifer die Kontrolle darüber erlangen).

### First Fit-Angriff

Ein First Fit-Angriff zielt auf die Art und Weise ab, wie einige Speicher-Allocator, wie in glibc, freigegebenen Speicher verwalten. Wenn Sie einen Block Speicher freigeben, wird er einer Liste hinzugefügt, und neue Speicheranforderungen werden von dieser Liste vom Ende abgerufen. Angreifer können dieses Verhalten nutzen, um **zu manipulieren, welche Speicherblöcke wiederverwendet werden, und potenziell die Kontrolle über sie zu erlangen**. Dies kann zu "Use-After-Free"-Problemen führen, bei denen ein Angreifer **den Inhalt des Speichers ändern könnte, der neu zugewiesen wird**, was ein Sicherheitsrisiko darstellt.\
Weitere Informationen finden Sie unter:

{{#ref}}
first-fit.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
