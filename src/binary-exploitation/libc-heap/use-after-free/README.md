# Utilisation après libération

{{#include ../../../banners/hacktricks-training.md}}

## Informations de base

Comme son nom l'indique, cette vulnérabilité se produit lorsqu'un programme **réserve de l'espace** dans le tas pour un objet, **écrit** des informations là-dedans, **libère** apparemment cet espace parce qu'il n'est plus nécessaire et ensuite **y accède à nouveau**.

Le problème ici est qu'il n'est pas illégal (il **n'y aura pas d'erreurs**) lorsqu'une **mémoire libérée est accédée**. Donc, si le programme (ou l'attaquant) parvient à **allouer la mémoire libérée et à stocker des données arbitraires**, lorsque la mémoire libérée est accédée à partir du pointeur initial, **ces données auraient été écrasées**, causant une **vulnérabilité qui dépendra de la sensibilité des données** qui étaient stockées à l'origine (s'il s'agissait d'un pointeur d'une fonction qui allait être appelée, un attaquant pourrait en prendre le contrôle).

### Attaque de premier ajustement

Une attaque de premier ajustement cible la façon dont certains allocateurs de mémoire, comme dans glibc, gèrent la mémoire libérée. Lorsque vous libérez un bloc de mémoire, il est ajouté à une liste, et les nouvelles demandes de mémoire tirent de cette liste par la fin. Les attaquants peuvent utiliser ce comportement pour manipuler **quels blocs de mémoire sont réutilisés, potentiellement en prenant le contrôle de ceux-ci**. Cela peut conduire à des problèmes de "utilisation après libération", où un attaquant pourrait **modifier le contenu de la mémoire qui est réallouée**, créant un risque de sécurité.\
Consultez plus d'infos dans :

{{#ref}}
first-fit.md
{{#endref}}

{{#include ../../../banners/hacktricks-training.md}}
