{{#include ../banners/hacktricks-training.md}}

# Основна інформація

З [Wikipedia](<https://en.wikipedia.org/wiki/Squid_(software)>):

> **Squid** - це кешуючий та пересилаючий HTTP веб-проксі. Він має широкий спектр застосувань, включаючи прискорення веб-сервера шляхом кешування повторюваних запитів, кешування веб, DNS та інших комп'ютерних мережевих запитів для групи людей, які ділять мережеві ресурси, а також допомогу в безпеці шляхом фільтрації трафіку. Хоча в основному використовується для HTTP та FTP, Squid включає обмежену підтримку кількох інших протоколів, включаючи Internet Gopher, SSL, TLS та HTTPS. Squid не підтримує протокол SOCKS, на відміну від Privoxy, з яким Squid може бути використаний для надання підтримки SOCKS.

**Порт за замовчуванням:** 3128
```
PORT     STATE  SERVICE      VERSION
3128/tcp open   http-proxy   Squid http proxy 4.11
```
# Перерахунок

## Веб-проксі

Ви можете спробувати встановити цей виявлений сервіс як проксі у вашому браузері. Однак, якщо він налаштований з HTTP-аутентифікацією, вам буде запропоновано ввести ім'я користувача та пароль.
```bash
# Try to proxify curl
curl --proxy http://10.10.11.131:3128 http://10.10.11.131
```
## Nmap proxified

Ви також можете спробувати зловживати проксі, щоб **сканувати внутрішні порти, проксуючи nmap**.\
Налаштуйте proxychains для використання проксі squid, додавши наступний рядок в кінець файлу proxichains.conf: `http 10.10.10.10 3128`  
Для проксі, які вимагають аутентифікації, додайте облікові дані до конфігурації, включивши ім'я користувача та пароль в кінці: `http 10.10.10.10 3128 username passw0rd`.

Потім запустіть nmap з proxychains, щоб **сканувати хост з локального**: `proxychains nmap -sT -n -p- localhost`

## SPOSE Scanner

Альтернативно, можна використовувати Squid Pivoting Open Port Scanner ([spose.py](https://github.com/aancw/spose)).
```bash
python spose.py --proxy http://10.10.11.131:3128 --target 10.10.11.131
```
{{#include ../banners/hacktricks-training.md}}
