{{#include ../banners/hacktricks-training.md}}

# Βασικές Πληροφορίες

Από [Wikipedia](<https://en.wikipedia.org/wiki/Squid_(software)>):

> **Squid** είναι ένας διακομιστής μεσολάβησης HTTP που αποθηκεύει προσωρινά και προωθεί. Έχει μια ευρεία ποικιλία χρήσεων, συμπεριλαμβανομένης της επιτάχυνσης ενός διακομιστή ιστού αποθηκεύοντας προσωρινά επαναλαμβανόμενα αιτήματα, αποθήκευσης προσωρινά ιστού, DNS και άλλων αναζητήσεων υπολογιστικού δικτύου για μια ομάδα ατόμων που μοιράζονται πόρους δικτύου, και βοήθειας στην ασφάλεια φιλτράροντας την κίνηση. Αν και χρησιμοποιείται κυρίως για HTTP και FTP, το Squid περιλαμβάνει περιορισμένη υποστήριξη για αρκετά άλλα πρωτόκολλα, συμπεριλαμβανομένων των Internet Gopher, SSL, TLS και HTTPS. Το Squid δεν υποστηρίζει το πρωτόκολλο SOCKS, σε αντίθεση με το Privoxy, με το οποίο μπορεί να χρησιμοποιηθεί το Squid για να παρέχει υποστήριξη SOCKS.

**Προεπιλεγμένη θύρα:** 3128
```
PORT     STATE  SERVICE      VERSION
3128/tcp open   http-proxy   Squid http proxy 4.11
```
# Αριθμητική

## Ιστός Διαμεσολαβητής

Μπορείτε να προσπαθήσετε να ορίσετε αυτή την ανακαλυφθείσα υπηρεσία ως διαμεσολαβητή στον περιηγητή σας. Ωστόσο, αν είναι ρυθμισμένη με HTTP authentication, θα σας ζητηθούν ονόματα χρηστών και κωδικοί πρόσβασης.
```bash
# Try to proxify curl
curl --proxy http://10.10.11.131:3128 http://10.10.11.131
```
## Nmap proxified

Μπορείτε επίσης να προσπαθήσετε να εκμεταλλευτείτε τον proxy για **σάρωση εσωτερικών θυρών με proxifying nmap**.\
Ρυθμίστε το proxychains να χρησιμοποιεί τον squid proxy προσθέτοντας την εξής γραμμή στο τέλος του αρχείου proxichains.conf: `http 10.10.10.10 3128`\
Για proxies που απαιτούν αυθεντικοποίηση, προσθέστε τα διαπιστευτήρια στη ρύθμιση περιλαμβάνοντας το όνομα χρήστη και τον κωδικό στο τέλος: `http 10.10.10.10 3128 username passw0rd`.

Στη συνέχεια, εκτελέστε το nmap με το proxychains για **να σαρώσετε τον host από το τοπικό**: `proxychains nmap -sT -n -p- localhost`

## SPOSE Scanner

Εναλλακτικά, μπορεί να χρησιμοποιηθεί ο Squid Pivoting Open Port Scanner ([spose.py](https://github.com/aancw/spose)).
```bash
python spose.py --proxy http://10.10.11.131:3128 --target 10.10.11.131
```
{{#include ../banners/hacktricks-training.md}}
