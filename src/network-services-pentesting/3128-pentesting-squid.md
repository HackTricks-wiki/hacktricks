{{#include ../banners/hacktricks-training.md}}

# मूल जानकारी

From [Wikipedia](<https://en.wikipedia.org/wiki/Squid_(software)>):

> **Squid** एक कैशिंग और फॉरवर्डिंग HTTP वेब प्रॉक्सी है। इसके कई उपयोग हैं, जिसमें एक वेब सर्वर को कैशिंग दोहराए गए अनुरोधों द्वारा तेज करना, एक समूह के लिए वेब, DNS और अन्य कंप्यूटर नेटवर्क लुकअप को कैश करना, और ट्रैफ़िक को फ़िल्टर करके सुरक्षा में सहायता करना शामिल है। हालांकि मुख्य रूप से HTTP और FTP के लिए उपयोग किया जाता है, Squid में इंटरनेट गोफर, SSL, TLS और HTTPS सहित कई अन्य प्रोटोकॉल के लिए सीमित समर्थन शामिल है। Squid SOCKS प्रोटोकॉल का समर्थन नहीं करता है, Privoxy के विपरीत, जिसके साथ Squid SOCKS समर्थन प्रदान करने के लिए उपयोग किया जा सकता है।

**डिफ़ॉल्ट पोर्ट:** 3128
```
PORT     STATE  SERVICE      VERSION
3128/tcp open   http-proxy   Squid http proxy 4.11
```
# Enumeration

## Web Proxy

आप इस खोजी गई सेवा को अपने ब्राउज़र में प्रॉक्सी के रूप में सेट करने की कोशिश कर सकते हैं। हालाँकि, यदि इसे HTTP प्रमाणीकरण के साथ कॉन्फ़िगर किया गया है, तो आपको उपयोगकर्ता नाम और पासवर्ड के लिए संकेत दिया जाएगा।
```bash
# Try to proxify curl
curl --proxy http://10.10.11.131:3128 http://10.10.11.131
```
## Nmap proxified

आप प्रॉक्सी का दुरुपयोग करके **nmap को proxifying करते हुए आंतरिक पोर्ट स्कैन** करने की कोशिश कर सकते हैं।\
proxychains को squid प्रॉक्सी का उपयोग करने के लिए कॉन्फ़िगर करें, proxichains.conf फ़ाइल के अंत में निम्नलिखित पंक्ति जोड़ें: `http 10.10.10.10 3128`\
प्रॉक्सियों के लिए जो प्रमाणीकरण की आवश्यकता होती है, कॉन्फ़िगरेशन में क्रेडेंशियल्स जोड़ें, उपयोगकर्ता नाम और पासवर्ड को अंत में शामिल करके: `http 10.10.10.10 3128 username passw0rd`।

फिर स्थानीय से **होस्ट को स्कैन करने के लिए nmap को proxychains के साथ चलाएँ**: `proxychains nmap -sT -n -p- localhost`

## SPOSE Scanner

वैकल्पिक रूप से, Squid Pivoting Open Port Scanner ([spose.py](https://github.com/aancw/spose)) का उपयोग किया जा सकता है।
```bash
python spose.py --proxy http://10.10.11.131:3128 --target 10.10.11.131
```
{{#include ../banners/hacktricks-training.md}}
