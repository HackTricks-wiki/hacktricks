{{#include ../banners/hacktricks-training.md}}

# Temel Bilgiler

From [Wikipedia](<https://en.wikipedia.org/wiki/Squid_(software)>):

> **Squid**, önbellekleme ve yönlendirme yapan bir HTTP web proxy'sidir. Tekrar eden istekleri önbelleğe alarak bir web sunucusunu hızlandırmak, ağ kaynaklarını paylaşan bir grup insan için web, DNS ve diğer bilgisayar ağı sorgularını önbelleğe almak ve trafiği filtreleyerek güvenliği artırmak gibi çok çeşitli kullanımları vardır. Temelde HTTP ve FTP için kullanılsa da, Squid, Internet Gopher, SSL, TLS ve HTTPS dahil olmak üzere birkaç diğer protokol için sınırlı destek sunar. Squid, Privoxy ile birlikte SOCKS desteği sağlamak için kullanılabilse de, SOCKS protokolünü desteklemez.

**Varsayılan port:** 3128
```
PORT     STATE  SERVICE      VERSION
3128/tcp open   http-proxy   Squid http proxy 4.11
```
# Sayım

## Web Proxy

Keşfedilen bu hizmeti tarayıcınızda proxy olarak ayarlamayı deneyebilirsiniz. Ancak, HTTP kimlik doğrulaması ile yapılandırılmışsa, kullanıcı adı ve şifre istenecektir.
```bash
# Try to proxify curl
curl --proxy http://10.10.11.131:3128 http://10.10.11.131
```
## Nmap proxified

Proxy'yi kötüye kullanarak **nmap ile iç portları taramak** için de deneyebilirsiniz.\
Proxychains'i squid proxy kullanacak şekilde yapılandırın, proxichains.conf dosyasının sonuna şu satırı ekleyin: `http 10.10.10.10 3128`\
Kimlik doğrulama gerektiren proxy'ler için, yapılandırmaya kullanıcı adı ve şifreyi ekleyerek kimlik bilgilerini ekleyin: `http 10.10.10.10 3128 username passw0rd`.

Ardından, yerel olarak **host'u taramak için** proxychains ile nmap'i çalıştırın: `proxychains nmap -sT -n -p- localhost`

## SPOSE Scanner

Alternatif olarak, Squid Pivoting Open Port Scanner ([spose.py](https://github.com/aancw/spose)) kullanılabilir.
```bash
python spose.py --proxy http://10.10.11.131:3128 --target 10.10.11.131
```
{{#include ../banners/hacktricks-training.md}}
