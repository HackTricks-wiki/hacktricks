# Cisco SNMP

{{#include ../../banners/hacktricks-training.md}}

<figure><img src="../../images/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

如果你对**黑客职业**感兴趣并想要攻克不可攻克的目标 - **我们正在招聘！**（_需要流利的波兰语书写和口语能力_）。

{% embed url="https://www.stmcyber.com/careers" %}

## 渗透测试 Cisco 网络

**SNMP** 通过 UDP 在 161/UDP 端口上处理一般消息，在 162/UDP 端口上处理陷阱消息。该协议依赖于社区字符串，作为密码使 SNMP 代理和服务器之间能够通信。这些字符串至关重要，因为它们决定了访问级别，具体为**只读（RO）或读写（RW）权限**。对于渗透测试人员来说，一个显著的攻击向量是**暴力破解社区字符串**，旨在渗透网络设备。

执行此类暴力攻击的实用工具是 [**onesixtyone**](https://github.com/trailofbits/onesixtyone)，它需要潜在社区字符串的列表和目标的 IP 地址：
```bash
onesixtyone -c communitystrings -i targets
```
#### `cisco_config_tftp`

Metasploit 框架包含 `cisco_config_tftp` 模块，便于提取设备配置，前提是获取 RW 社区字符串。此操作的基本参数包括：

- RW 社区字符串 (**COMMUNITY**)
- 攻击者的 IP (**LHOST**)
- 目标设备的 IP (**RHOSTS**)
- 配置文件的目标路径 (**OUTPUTDIR**)

配置完成后，此模块允许将设备设置直接下载到指定文件夹。

#### `snmp_enum`

另一个 Metasploit 模块，**`snmp_enum`**，专门用于收集详细的硬件信息。它可以使用任意类型的社区字符串，并需要目标的 IP 地址以成功执行：
```bash
msf6 auxiliary(scanner/snmp/snmp_enum) > set COMMUNITY public
msf6 auxiliary(scanner/snmp/snmp_enum) > set RHOSTS 10.10.100.10
msf6 auxiliary(scanner/snmp/snmp_enum) > exploit
```
## 参考

- [https://medium.com/@in9uz/cisco-nightmare-pentesting-cisco-networks-like-a-devil-f4032eb437b9](https://medium.com/@in9uz/cisco-nightmare-pentesting-cisco-networks-like-a-devil-f4032eb437b9)

<figure><img src="../../images/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

如果你对**黑客职业**感兴趣并想要攻克不可攻克的目标 - **我们正在招聘！**（_需要流利的波兰语书写和口语能力_）。

{% embed url="https://www.stmcyber.com/careers" %}

{{#include ../../banners/hacktricks-training.md}}
