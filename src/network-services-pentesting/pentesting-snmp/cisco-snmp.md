# Cisco SNMP

{{#include ../../banners/hacktricks-training.md}}

<figure><img src="../../images/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

Si vous êtes intéressé par une **carrière en hacking** et que vous souhaitez hacker l'inhackable - **nous recrutons !** (_polonais courant écrit et parlé requis_).

{% embed url="https://www.stmcyber.com/careers" %}

## Pentesting des réseaux Cisco

**SNMP** fonctionne sur UDP avec les ports 161/UDP pour les messages généraux et 162/UDP pour les messages de trap. Ce protocole repose sur des chaînes de communauté, servant de mots de passe qui permettent la communication entre les agents SNMP et les serveurs. Ces chaînes sont cruciales car elles déterminent les niveaux d'accès, spécifiquement les **permissions en lecture seule (RO) ou en lecture-écriture (RW)**. Un vecteur d'attaque notable pour les pentesters est le **brute-forcing des chaînes de communauté**, visant à infiltrer les dispositifs réseau.

Un outil pratique pour exécuter de telles attaques par force brute est [**onesixtyone**](https://github.com/trailofbits/onesixtyone), qui nécessite une liste de chaînes de communauté potentielles et les adresses IP des cibles :
```bash
onesixtyone -c communitystrings -i targets
```
#### `cisco_config_tftp`

Le framework Metasploit comprend le module `cisco_config_tftp`, facilitant l'extraction des configurations des appareils, sous réserve d'acquérir une chaîne de communauté RW. Les paramètres essentiels pour cette opération incluent :

- Chaîne de communauté RW (**COMMUNITY**)
- IP de l'attaquant (**LHOST**)
- IP de l'appareil cible (**RHOSTS**)
- Chemin de destination pour les fichiers de configuration (**OUTPUTDIR**)

Une fois configuré, ce module permet le téléchargement des paramètres de l'appareil directement dans un dossier spécifié.

#### `snmp_enum`

Un autre module Metasploit, **`snmp_enum`**, se spécialise dans la collecte d'informations matérielles détaillées. Il fonctionne avec n'importe quel type de chaîne de communauté et nécessite l'adresse IP de la cible pour une exécution réussie :
```bash
msf6 auxiliary(scanner/snmp/snmp_enum) > set COMMUNITY public
msf6 auxiliary(scanner/snmp/snmp_enum) > set RHOSTS 10.10.100.10
msf6 auxiliary(scanner/snmp/snmp_enum) > exploit
```
## Références

- [https://medium.com/@in9uz/cisco-nightmare-pentesting-cisco-networks-like-a-devil-f4032eb437b9](https://medium.com/@in9uz/cisco-nightmare-pentesting-cisco-networks-like-a-devil-f4032eb437b9)

<figure><img src="../../images/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

Si vous êtes intéressé par une **carrière en hacking** et que vous souhaitez hacker l'inhackable - **nous recrutons !** (_polonais courant écrit et parlé requis_).

{% embed url="https://www.stmcyber.com/careers" %}

{{#include ../../banners/hacktricks-training.md}}
