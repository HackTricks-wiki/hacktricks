# Git

{{#include ../../banners/hacktricks-training.md}}

**URL से .git फ़ोल्डर डाउनलोड करने के लिए उपयोग करें** [**https://github.com/arthaud/git-dumper**](https://github.com/arthaud/git-dumper)

**सामग्री का निरीक्षण करने के लिए उपयोग करें** [**https://www.gitkraken.com/**](https://www.gitkraken.com/)

यदि किसी वेब एप्लिकेशन में _.git_ डायरेक्टरी मिलती है, तो आप _wget -r http://web.com/.git._ का उपयोग करके सभी सामग्री डाउनलोड कर सकते हैं। फिर आप _git diff_ का उपयोग करके किए गए परिवर्तनों को देख सकते हैं।

इन टूल्स: [Git-Money](https://github.com/dnoiz1/git-money), [DVCS-Pillage](https://github.com/evilpacket/DVCS-Pillage) और [GitTools](https://github.com/internetwache/GitTools) का उपयोग git डायरेक्टरी की सामग्री पुनःप्राप्त करने के लिए किया जा सकता है।

यह टूल [https://github.com/cve-search/git-vuln-finder](https://github.com/cve-search/git-vuln-finder) commits संदेशों के भीतर CVEs और सुरक्षा संबंधित संदेशों की खोज करने के लिए इस्तेमाल किया जा सकता है।

यह टूल [https://github.com/michenriksen/gitrob](https://github.com/michenriksen/gitrob) किसी संगठन और उसके कर्मचारियों के repositories में संवेदनशील डेटा खोजता है।

[Repo security scanner](https://github.com/UKHomeOffice/repo-security-scanner) एक कमांड-लाइन-आधारित टूल है जिसे एक ही लक्ष्य के साथ लिखा गया था: उन GitHub secrets को खोजने में आपकी मदद करना जिन्हें developers ने गलती से संवेदनशील डेटा push करके उजागर कर दिया। और अन्य की तरह, यह आपको passwords, private keys, usernames, tokens और अन्य चीजें खोजने में मदद करेगा।

यहां आप github dorks के बारे में एक अध्ययन पा सकते हैं: [https://securitytrails.com/blog/github-dorks](https://securitytrails.com/blog/github-dorks)

### तेज़ /.git dumping & dirlisting bypass (2024–2026)

* [holly-hacker/git-dumper](https://github.com/holly-hacker/git-dumper) 2024 में क्लासिक GitTools dumper का पुनर्लेखन है जिसमें parallel fetching (>10x speedup) है। उदाहरण: `python3 git-dumper.py https://victim/.git/ out && cd out && git checkout -- .`
* [Ebryx/GitDump](https://github.com/Ebryx/GitDump) `.git/index`, `packed-refs`, आदि से object names को brute-force करके तब भी repos recover कर सकता है जब directory traversal disabled हो: `python3 git-dump.py https://victim/.git/ dump && cd dump && git checkout -- .`

### डंप के बाद त्वरित त्रियाज
```bash
cd dumpdir
# reconstruct working tree
git checkout -- .
# show branch/commit map
git log --graph --oneline --decorate --all
# list suspicious config/remotes/hooks
git config -l
ls .git/hooks
```
### सीक्रेट/क्रेडेंशियल हंटिंग (वर्तमान टूलिंग)

* **TruffleHog v3+**: entropy+regex के साथ स्वचालित Git history traversal। `trufflehog git file://$PWD --only-verified --json > secrets.json`
* **Gitleaks** (v8+): तेज़ regex ruleset, अनपैक्ड tree या पूर्ण इतिहास स्कैन कर सकता है। `gitleaks detect -v --source . --report-format json --report-path gitleaks.json`

### Server-side Git integration RCE via `hooksPath` override

आधुनिक वेब ऐप जो Git repos के साथ integrate होते हैं, कभी-कभी **user-controlled identifiers का उपयोग करके `.git/config` को फिर से लिख देते हैं**। यदि उन identifiers को `hooksPath` में concatenated किया जाता है, तो आप Git hooks को attacker-controlled directory की ओर redirect कर सकते हैं और जब सर्वर native Git चलाएगा (उदा., `git commit`) तब arbitrary code execute करवा सकते हैं। प्रमुख कदम:

* **Path traversal in `hooksPath`**: यदि कोई repo नाम/dependency नाम `hooksPath` में कॉपी किया गया है, तो intended hooks directory से बाहर निकलने और एक writable location की ओर इशारा करने के लिए `../../..` इंजेक्ट करें। यह प्रभावी रूप से Git config में एक [path traversal](../../pentesting-web/file-inclusion/README.md) है।
* **Force the target directory to exist**: जब एप्लिकेशन server-side clones करता है, तो clone destination controls (उदा., एक `ref`/branch/path parameter) का दुरुपयोग करके इसे `../../git_hooks` या समान traversal path में clone कराएं ताकि मध्यवर्ती फ़ोल्डर्स आपके लिए बन जाएं।
* **Ship executable hooks**: Git metadata के अंदर executable bit सेट करें ताकि हर clone hook को mode `100755` के साथ लिखे:
```bash
git update-index --chmod=+x pre-commit
```
  अपने payload (reverse shell, file dropper, आदि) को उस repo के `pre-commit`/`post-commit` में जोड़ें।
* **Find a native Git code path**: JGit जैसी libraries hooks को ignore करती हैं। ऐसे deployment flows/flags खोजें जो system Git पर fallback करते हों (उदा., forcing deploy-with-attached-repo parameters) ताकि hooks वास्तव में चलें।
* **Race the config rewrite**: यदि ऐप Git चलाने से ठीक पहले `.git/config` को sanitize करता है, तो उस endpoint को spam करें जो आपका malicious `hooksPath` लिखता है, जबकि Git action trigger करें ताकि आप एक [race condition](../../pentesting-web/race-condition.md) जीत सकें और आपका hook execute हो सके।

## References

- [holly-hacker/git-dumper – parallel fast /.git dumper](https://github.com/holly-hacker/git-dumper)
- [Ebryx/GitDump](https://github.com/Ebryx/GitDump)
- [LookOut: RCE and internal access on Looker (Tenable)](https://www.tenable.com/blog/google-looker-vulnerabilities-rce-internal-access-lookout)

{{#include ../../banners/hacktricks-training.md}}
