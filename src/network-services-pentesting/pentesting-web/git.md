# Git

{{#include ../../banners/hacktricks-training.md}}

**要从 URL 转储 .git 文件夹，请使用** [**https://github.com/arthaud/git-dumper**](https://github.com/arthaud/git-dumper)

**使用** [**https://www.gitkraken.com/**](https://www.gitkraken.com/) **来检查内容**

如果在 web 应用中发现 _.git_ 目录，可以使用 _wget -r http://web.com/.git._ 下载所有内容。然后，可以使用 _git diff_ 查看所做的更改。

工具： [Git-Money](https://github.com/dnoiz1/git-money), [DVCS-Pillage](https://github.com/evilpacket/DVCS-Pillage) 和 [GitTools](https://github.com/internetwache/GitTools) 可用于检索 git 目录的内容。

工具 [https://github.com/cve-search/git-vuln-finder](https://github.com/cve-search/git-vuln-finder) 可用于在提交信息中搜索 CVE 和安全漏洞相关内容。

工具 [https://github.com/michenriksen/gitrob](https://github.com/michenriksen/gitrob) 在组织及其员工的仓库中搜索敏感数据。

[Repo security scanner](https://github.com/UKHomeOffice/repo-security-scanner) 是一个基于命令行的工具，其唯一目标是帮助你发现开发者因推送敏感数据而意外创建的 GitHub secrets。与其它工具一样，它能帮助你发现密码、私钥、用户名、令牌等。

这里有一项关于 github dorks 的研究： [https://securitytrails.com/blog/github-dorks](https://securitytrails.com/blog/github-dorks)

### 更快的 /.git 转储与目录列举绕过 (2024–2026)

* [holly-hacker/git-dumper](https://github.com/holly-hacker/git-dumper) 是对经典 GitTools dumper 的 2024 年重写，支持并行抓取（提速 >10x）。示例： `python3 git-dumper.py https://victim/.git/ out && cd out && git checkout -- .`
* [Ebryx/GitDump](https://github.com/Ebryx/GitDump) 对 `.git/index`, `packed-refs` 等中的对象名进行暴力破解，以便在目录遍历被禁用时恢复仓库： `python3 git-dump.py https://victim/.git/ dump && cd dump && git checkout -- .`

### 转储后快速初筛
```bash
cd dumpdir
# reconstruct working tree
git checkout -- .
# show branch/commit map
git log --graph --oneline --decorate --all
# list suspicious config/remotes/hooks
git config -l
ls .git/hooks
```
### 秘密/凭证 搜索（当前工具）

* **TruffleHog v3+**: 基于 entropy+regex，自动遍历 Git 历史。 `trufflehog git file://$PWD --only-verified --json > secrets.json`
* **Gitleaks** (v8+): 快速的 regex 规则集，可扫描解包的 tree 或完整历史。 `gitleaks detect -v --source . --report-format json --report-path gitleaks.json`

## 参考

- [holly-hacker/git-dumper – 并行快速的 /.git dumper](https://github.com/holly-hacker/git-dumper)
- [Ebryx/GitDump](https://github.com/Ebryx/GitDump)
{{#include ../../banners/hacktricks-training.md}}
