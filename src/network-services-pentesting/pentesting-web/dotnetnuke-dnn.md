# DotNetNuke (DNN)

{{#include ../../banners/hacktricks-training.md}}

## DotNetNuke (DNN)

Si ingresas como **administrador** en DNN, es fácil obtener RCE.

## RCE

### A través de SQL

Una consola SQL es accesible en la página de **`Configuración`** donde puedes habilitar **`xp_cmdshell`** y **ejecutar comandos del sistema operativo**.

Usa estas líneas para habilitar **`xp_cmdshell`**:
```sql
EXEC sp_configure 'show advanced options', '1'
RECONFIGURE
EXEC sp_configure 'xp_cmdshell', '1'
RECONFIGURE
```
Y presiona **"Run Script"** para ejecutar esas sentencias SQL.

Luego, usa algo como lo siguiente para ejecutar comandos del sistema operativo:
```sql
xp_cmdshell 'whoami'
```
### A través de ASP webshell

En `Settings -> Security -> More -> More Security Settings` puedes **agregar nuevas extensiones permitidas** en `Allowable File Extensions`, y luego hacer clic en el botón `Save`.

Agrega **`asp`** o **`aspx`** y luego en **`/admin/file-management`** sube un **asp webshell** llamado `shell.asp`, por ejemplo.

Luego accede a **`/Portals/0/shell.asp`** para acceder a tu webshell.

### Escalamiento de privilegios

Puedes **escalar privilegios** usando **Potatoes** o **PrintSpoofer**, por ejemplo.&#x20;

{{#include ../../banners/hacktricks-training.md}}
