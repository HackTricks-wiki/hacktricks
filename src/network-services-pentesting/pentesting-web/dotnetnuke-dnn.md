# DotNetNuke (DNN)

{{#include ../../banners/hacktricks-training.md}}

## DotNetNuke (DNN)

Se accedi come **amministratore** in DNN è facile ottenere RCE.

## RCE

### Via SQL

Una console SQL è accessibile nella pagina **`Impostazioni`** dove puoi abilitare **`xp_cmdshell`** e **eseguire comandi di sistema operativo**.

Usa queste righe per abilitare **`xp_cmdshell`**:
```sql
EXEC sp_configure 'show advanced options', '1'
RECONFIGURE
EXEC sp_configure 'xp_cmdshell', '1'
RECONFIGURE
```
E premi **"Esegui Script"** per eseguire quelle istruzioni sQL.

Quindi, usa qualcosa come il seguente per eseguire comandi OS:
```sql
xp_cmdshell 'whoami'
```
### Via ASP webshell

In `Settings -> Security -> More -> More Security Settings` puoi **aggiungere nuove estensioni consentite** sotto `Allowable File Extensions`, e poi cliccando il pulsante `Save`.

Aggiungi **`asp`** o **`aspx`** e poi in **`/admin/file-management`** carica un **asp webshell** chiamato `shell.asp` per esempio.

Poi accedi a **`/Portals/0/shell.asp`** per accedere al tuo webshell.

### Privilege Escalation

Puoi **escalare privilegi** usando **Potatoes** o **PrintSpoofer** per esempio.&#x20;

{{#include ../../banners/hacktricks-training.md}}
