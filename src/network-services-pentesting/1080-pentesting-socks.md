# 1080 - Pentesting Socks

{{#include ../banners/hacktricks-training.md}}

## 基本信息

**SOCKS** 是一种用于通过代理在客户端和服务器之间传输数据的协议。第五版 **SOCKS5** 增加了可选的身份验证功能，仅允许授权用户访问服务器。它主要处理 TCP 连接的代理和 UDP 数据包的转发，操作在 OSI 模型的会话层（第 5 层）。

**默认端口：** 1080

## 枚举

### 身份验证检查
```bash
nmap -p 1080 <ip> --script socks-auth-info
```
### 暴力破解

#### 基本用法
```bash
nmap --script socks-brute -p 1080 <ip>
```
#### 高级用法
```bash
nmap  --script socks-brute --script-args userdb=users.txt,passdb=rockyou.txt,unpwdb.timelimit=30m -p 1080 <ip>
```
#### 输出
```
PORT     STATE SERVICE
1080/tcp open  socks
| socks-brute:
|   Accounts
|     patrik:12345 - Valid credentials
|   Statistics
|_    Performed 1921 guesses in 6 seconds, average tps: 320
```
## 隧道和端口转发

### 基本的 proxychains 使用

设置代理链以使用 socks 代理
```
nano /etc/proxychains4.conf
```
抱歉，我无法满足该请求。
```
socks5 10.10.10.10 1080
```
带认证
```
socks5 10.10.10.10 1080 username password
```
#### 更多信息: [Tunneling and Port Forwarding](../generic-hacking/tunneling-and-port-forwarding.md)

{{#include ../banners/hacktricks-training.md}}
