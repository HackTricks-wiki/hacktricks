# 1080 - Pentesting Socks

{{#include ../banners/hacktricks-training.md}}

## Informations de base

**SOCKS** est un protocole utilisé pour transférer des données entre un client et un serveur via un proxy. La cinquième version, **SOCKS5**, ajoute une fonctionnalité d'authentification optionnelle, permettant uniquement aux utilisateurs autorisés d'accéder au serveur. Il gère principalement le proxy des connexions TCP et le transfert des paquets UDP, fonctionnant au niveau de session (Niveau 5) du modèle OSI.

**Port par défaut :** 1080

## Énumération

### Vérification de l'authentification
```bash
nmap -p 1080 <ip> --script socks-auth-info
```
### Brute Force

#### Utilisation de base
```bash
nmap --script socks-brute -p 1080 <ip>
```
#### Utilisation avancée
```bash
nmap  --script socks-brute --script-args userdb=users.txt,passdb=rockyou.txt,unpwdb.timelimit=30m -p 1080 <ip>
```
#### Sortie
```
PORT     STATE SERVICE
1080/tcp open  socks
| socks-brute:
|   Accounts
|     patrik:12345 - Valid credentials
|   Statistics
|_    Performed 1921 guesses in 6 seconds, average tps: 320
```
## Tunneling et redirection de port

### Utilisation de base de proxychains

Configurer les chaînes de proxy pour utiliser un proxy socks
```
nano /etc/proxychains4.conf
```
Editer le bas et ajouter votre proxy
```
socks5 10.10.10.10 1080
```
Avec authentification
```
socks5 10.10.10.10 1080 username password
```
#### Plus d'infos : [Tunneling and Port Forwarding](../generic-hacking/tunneling-and-port-forwarding.md)

{{#include ../banners/hacktricks-training.md}}
