# 1080 - Pentesting Socks

{{#include ../banners/hacktricks-training.md}}

## Basiese Inligting

**SOCKS** is 'n protokol wat gebruik word om data tussen 'n kliÃ«nt en 'n bediener deur 'n proxy oor te dra. Die vyfde weergawe, **SOCKS5**, voeg 'n opsionele outentiseringsfunksie by, wat slegs gemagtigde gebruikers toelaat om toegang tot die bediener te kry. Dit hanteer hoofsaaklik die proxying van TCP-verbindings en die deurstuur van UDP-pakkette (via die `UDP ASSOCIATE` command), en werk op die sessielaag (Laag 5) van die OSI-model. Wanneer tooling die `socks5h` scheme ondersteun, word DNS-resolusie gedwing deur die proxy, wat plaaslike DNS leaks voorkom en dit moeiliker maak om die oorspronklike gasheer te fingerprint.

**Standaardpoort:** 1080

## Enumerasie

### Outentiseringskontrole
```bash
nmap -p 1080 <ip> --script socks-auth-info
```
### Brute Force

#### Basiese gebruik
```bash
nmap --script socks-brute -p 1080 <ip>
```
#### Gevorderde gebruik
```bash
nmap  --script socks-brute --script-args userdb=users.txt,passdb=rockyou.txt,unpwdb.timelimit=30m -p 1080 <ip>
```
I don't have the contents of src/network-services-pentesting/1080-pentesting-socks.md. Please paste the markdown you want translated (or confirm I should translate a specific section), and I'll return the Afrikaans translation keeping the same markdown/HTML syntax.
```
PORT     STATE SERVICE
1080/tcp open  socks
| socks-brute:
|   Accounts
|     patrik:12345 - Valid credentials
|   Statistics
|_    Performed 1921 guesses in 6 seconds, average tps: 320
```
#### Hydra module
```bash
hydra -L users.txt -P passwords.txt -s 1080 -t 16 -V <ip> socks5
```
### Metode & open-proxy enumeration
```bash
nmap -sV --script socks-methods,socks-open-proxy -p 1080 <ip>
```
`socks-methods` dwing die bediener om die ondersteunde verifikasietipes op te som, terwyl `socks-open-proxy` 'n uitgaande CONNECT probeer om te bevestig of die diens as 'n relais misbruik kan word.

#### Ruwe handskuddingkontrole
```bash
printf '\x05\x01\x00' | nc -nv <ip> 1080
```
'n `\x05 01 00` antwoord dui aan dat SOCKS5 "no authentication" aanbied. Enige `\x00` gevolg deur `\x02` beteken username/password is vereis, wat nuttig is om vinnig blootgestelde toestelle in skripte te fingerprint.

### Vinnige uitgaande validering
```bash
curl --socks5-hostname <ip>:1080 https://ifconfig.me
curl --socks5-hostname user:pass@<ip>:1080 http://internal.target
```
Gebruik `--socks5-hostname` (of `socks5h://` URLs) sodat DNS resolution op afstand plaasvind. Kombineer dit met `proxychains4 -q nmap -sT -Pn --top-ports 200 <internal-host>` om te verifieer of die proxy werklik interne bereik bied.

### Internet-wye ontdekking / fingerprinting
```bash
masscan 0.0.0.0/0 -p1080 --banners --rate 100000 -oX socks.xml
```
Voer resultate terug in NSE, `zgrab2`, of custom python scripts om veelbelovende hosts te prioritiseer (e.g., banner strings like `3proxy`, `Dante`, `MikroTik`).


## Tunneling and Port Forwarding

Vir inligting oor tunneling en post forwarding, kyk die bladsy: [Tunneling and Port Forwarding](../generic-hacking/tunneling-and-port-forwarding.md)

## Verwysings

- [Use a SOCKS5 Proxy to Access the Kubernetes API (Kubernetes Docs, 2024)](https://kubernetes.io/docs/tasks/extend-kubernetes/socks5-proxy-access-api)

{{#include ../banners/hacktricks-training.md}}
