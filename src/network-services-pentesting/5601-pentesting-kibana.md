{{#include ../banners/hacktricks-training.md}}

# Informações Básicas

Kibana é conhecido por sua capacidade de buscar e visualizar dados dentro do Elasticsearch, normalmente rodando na porta **5601**. Ele serve como a interface para as funções de monitoramento, gerenciamento e segurança do cluster Elastic Stack.

## Entendendo a Autenticação

O processo de autenticação no Kibana está inerentemente ligado às **credenciais usadas no Elasticsearch**. Se a autenticação do Elasticsearch estiver desativada, o Kibana pode ser acessado sem credenciais. Por outro lado, se o Elasticsearch estiver protegido com credenciais, as mesmas credenciais são necessárias para acessar o Kibana, mantendo permissões de usuário idênticas em ambas as plataformas. As credenciais podem ser encontradas no arquivo **/etc/kibana/kibana.yml**. Se essas credenciais não pertencerem ao usuário **kibana_system**, elas podem oferecer direitos de acesso mais amplos, uma vez que o acesso do usuário kibana_system é restrito a APIs de monitoramento e ao índice .kibana.

## Ações Após o Acesso

Uma vez que o acesso ao Kibana esteja garantido, várias ações são aconselháveis:

- Explorar dados do Elasticsearch deve ser uma prioridade.
- A capacidade de gerenciar usuários, incluindo a edição, exclusão ou criação de novos usuários, funções ou chaves de API, pode ser encontrada em Gerenciamento do Stack -> Usuários/Funções/Chaves de API.
- É importante verificar a versão instalada do Kibana em busca de vulnerabilidades conhecidas, como a vulnerabilidade RCE identificada em versões anteriores à 6.6.0 ([Mais Informações](https://insinuator.net/2021/01/pentesting-the-elk-stack/index.html#ref2)).

## Considerações sobre SSL/TLS

Em casos onde SSL/TLS não está habilitado, o potencial para vazamento de informações sensíveis deve ser avaliado minuciosamente.

## Referências

- [https://insinuator.net/2021/01/pentesting-the-elk-stack/](https://insinuator.net/2021/01/pentesting-the-elk-stack/)

{{#include ../banners/hacktricks-training.md}}
