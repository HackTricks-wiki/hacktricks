# 113 - Pentesting Ident

{{#include ../banners/hacktricks-training.md}}

## 기본 정보

**Ident 프로토콜**은 **인터넷**을 통해 **TCP 연결**을 특정 사용자와 연결하는 데 사용됩니다. 원래 **네트워크 관리** 및 **보안**을 지원하기 위해 설계되었으며, 서버가 포트 113에서 클라이언트에게 쿼리하여 특정 TCP 연결의 사용자에 대한 정보를 요청할 수 있도록 작동합니다.

그러나 현대의 개인 정보 보호 문제와 오용 가능성으로 인해 사용이 감소하였으며, 이는 무단 당사자에게 사용자 정보를 우연히 노출할 수 있습니다. 이러한 위험을 완화하기 위해 암호화된 연결 및 엄격한 접근 제어와 같은 향상된 보안 조치를 권장합니다.

**기본 포트:** 113
```
PORT    STATE SERVICE
113/tcp open  ident
```
## **열거**

### **수동 - 사용자 가져오기/서비스 식별**

만약 머신이 ident와 samba (445) 서비스를 실행 중이고, 포트 43218을 사용하여 samba에 연결되어 있다면, samba 서비스를 실행 중인 사용자를 확인할 수 있습니다:

![](<../images/image (843).png>)

서비스에 연결할 때 그냥 Enter를 누르면:

![](<../images/image (159).png>)

다른 오류:

![](<../images/image (359).png>)

### Nmap

기본적으로 (\`-sC\`\`) nmap은 실행 중인 모든 포트의 모든 사용자를 식별합니다:
```
PORT    STATE SERVICE     VERSION
22/tcp  open  ssh         OpenSSH 4.3p2 Debian 9 (protocol 2.0)
|_auth-owners: root
| ssh-hostkey:
|   1024 88:23:98:0d:9d:8a:20:59:35:b8:14:12:14:d5:d0:44 (DSA)
|_  2048 6b:5d:04:71:76:78:56:96:56:92:a8:02:30:73:ee:fa (RSA)
113/tcp open  ident
|_auth-owners: identd
139/tcp open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: LOCAL)
|_auth-owners: root
445/tcp open  netbios-ssn Samba smbd 3.0.24 (workgroup: LOCAL)
|_auth-owners: root
```
### Ident-user-enum

[**Ident-user-enum**](https://github.com/pentestmonkey/ident-user-enum)은 대상 시스템의 각 TCP 포트에서 수신 대기 중인 프로세스의 소유자를 확인하기 위해 ident 서비스(113/TCP)를 쿼리하는 간단한 PERL 스크립트입니다. 수집된 사용자 이름 목록은 다른 네트워크 서비스에 대한 비밀번호 추측 공격에 사용될 수 있습니다. `apt install ident-user-enum`으로 설치할 수 있습니다.
```
root@kali:/opt/local/recon/192.168.1.100# ident-user-enum 192.168.1.100 22 113 139 445
ident-user-enum v1.0 ( http://pentestmonkey.net/tools/ident-user-enum )

192.168.1.100:22  root
192.168.1.100:113 identd
192.168.1.100:139 root
192.168.1.100:445 root
```
### Shodan

- `oident`

## 파일

identd.conf

## HackTricks 자동 명령
```
Protocol_Name: Ident    #Protocol Abbreviation if there is one.
Port_Number:  113     #Comma separated if there is more than one.
Protocol_Description: Identification Protocol         #Protocol Abbreviation Spelled out

Entry_1:
Name: Notes
Description: Notes for Ident
Note: |
The Ident Protocol is used over the Internet to associate a TCP connection with a specific user. Originally designed to aid in network management and security, it operates by allowing a server to query a client on port 113 to request information about the user of a particular TCP connection.

https://book.hacktricks.xyz/pentesting/113-pentesting-ident

Entry_2:
Name: Enum Users
Description: Enumerate Users
Note: apt install ident-user-enum    ident-user-enum {IP} 22 23 139 445 (try all open ports)
```
{{#include ../banners/hacktricks-training.md}}
