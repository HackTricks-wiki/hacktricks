# 113 - Pentesting Ident

{{#include ../banners/hacktricks-training.md}}

## Basic Information

Το **Ident Protocol** χρησιμοποιείται μέσω του **Internet** για να συσχετίσει μια **TCP σύνδεση** με έναν συγκεκριμένο χρήστη. Αρχικά σχεδιασμένο για να βοηθήσει στη **διαχείριση δικτύου** και την **ασφάλεια**, λειτουργεί επιτρέποντας σε έναν διακομιστή να ρωτήσει έναν πελάτη στην πόρτα 113 για να ζητήσει πληροφορίες σχετικά με τον χρήστη μιας συγκεκριμένης TCP σύνδεσης.

Ωστόσο, λόγω των σύγχρονων ανησυχιών για την ιδιωτικότητα και της πιθανότητας κακής χρήσης, η χρήση του έχει μειωθεί καθώς μπορεί ακούσια να αποκαλύψει πληροφορίες χρηστών σε μη εξουσιοδοτημένα μέρη. Συνιστώνται ενισχυμένα μέτρα ασφαλείας, όπως κρυπτογραφημένες συνδέσεις και αυστηροί έλεγχοι πρόσβασης, για να μετριαστούν αυτοί οι κίνδυνοι.

**Default port:** 113
```
PORT    STATE SERVICE
113/tcp open  ident
```
## **Καταμέτρηση**

### **Χειροκίνητα - Λάβετε χρήστη/Καθορίστε την υπηρεσία**

Αν μια μηχανή εκτελεί την υπηρεσία ident και samba (445) και είστε συνδεδεμένοι στο samba χρησιμοποιώντας την θύρα 43218. Μπορείτε να δείτε ποιος χρήστης εκτελεί την υπηρεσία samba κάνοντας:

![](<../images/image (843).png>)

Αν απλά πατήσετε enter όταν συνδεθείτε στην υπηρεσία:

![](<../images/image (159).png>)

Άλλες σφάλματα:

![](<../images/image (359).png>)

### Nmap

Από προεπιλογή (\`-sC\`\`) το nmap θα αναγνωρίσει κάθε χρήστη κάθε εκτελούμενης θύρας:
```
PORT    STATE SERVICE     VERSION
22/tcp  open  ssh         OpenSSH 4.3p2 Debian 9 (protocol 2.0)
|_auth-owners: root
| ssh-hostkey:
|   1024 88:23:98:0d:9d:8a:20:59:35:b8:14:12:14:d5:d0:44 (DSA)
|_  2048 6b:5d:04:71:76:78:56:96:56:92:a8:02:30:73:ee:fa (RSA)
113/tcp open  ident
|_auth-owners: identd
139/tcp open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: LOCAL)
|_auth-owners: root
445/tcp open  netbios-ssn Samba smbd 3.0.24 (workgroup: LOCAL)
|_auth-owners: root
```
### Ident-user-enum

[**Ident-user-enum**](https://github.com/pentestmonkey/ident-user-enum) είναι ένα απλό σενάριο PERL για να ερωτήσει την υπηρεσία ident (113/TCP) προκειμένου να προσδιορίσει τον κάτοχο της διαδικασίας που ακούει σε κάθε TCP θύρα ενός στοχευμένου συστήματος. Η λίστα των ονομάτων χρηστών που συγκεντρώνονται μπορεί να χρησιμοποιηθεί για επιθέσεις μαντεψιάς κωδικών πρόσβασης σε άλλες υπηρεσίες δικτύου. Μπορεί να εγκατασταθεί με `apt install ident-user-enum`.
```
root@kali:/opt/local/recon/192.168.1.100# ident-user-enum 192.168.1.100 22 113 139 445
ident-user-enum v1.0 ( http://pentestmonkey.net/tools/ident-user-enum )

192.168.1.100:22  root
192.168.1.100:113 identd
192.168.1.100:139 root
192.168.1.100:445 root
```
### Shodan

- `oident`

## Αρχεία

identd.conf

## HackTricks Αυτόματες Εντολές
```
Protocol_Name: Ident    #Protocol Abbreviation if there is one.
Port_Number:  113     #Comma separated if there is more than one.
Protocol_Description: Identification Protocol         #Protocol Abbreviation Spelled out

Entry_1:
Name: Notes
Description: Notes for Ident
Note: |
The Ident Protocol is used over the Internet to associate a TCP connection with a specific user. Originally designed to aid in network management and security, it operates by allowing a server to query a client on port 113 to request information about the user of a particular TCP connection.

https://book.hacktricks.xyz/pentesting/113-pentesting-ident

Entry_2:
Name: Enum Users
Description: Enumerate Users
Note: apt install ident-user-enum    ident-user-enum {IP} 22 23 139 445 (try all open ports)
```
{{#include ../banners/hacktricks-training.md}}
