# 548 - Pentesting Apple Filing Protocol (AFP)

{{#include ../banners/hacktricks-training.md}}

## 基本情報

**Apple Filing Protocol** (**AFP**)は、かつてAppleTalk Filing Protocolとして知られていた、**Apple File Service** (**AFS**)に含まれる専門的なネットワークプロトコルです。これは、macOSおよび古典的なMac OSのためのファイルサービスを提供するように設計されています。AFPは、Unicodeファイル名、POSIXおよびアクセス制御リストの権限、リソースフォーク、名前付き拡張属性、そして高度なファイルロックメカニズムをサポートしている点で際立っています。これは、Mac OS 9およびそれ以前のバージョンにおけるファイルサービスの主要なプロトコルでした。

**デフォルトポート:** 548
```bash
PORT    STATE SERVICE
548/tcp open  afp
```
### **列挙**

AFPサービスの列挙には、以下のコマンドとスクリプトが役立ちます：
```bash
msf> use auxiliary/scanner/afp/afp_server_info
nmap -sV --script "afp-* and not dos and not brute" -p <PORT> <IP>
```
**スクリプトとその説明:**

- **afp-ls**: このスクリプトは、利用可能なAFPボリュームとファイルをリストするために使用されます。
- **afp-path-vuln**: すべてのAFPボリュームとファイルをリストし、潜在的な脆弱性を強調表示します。
- **afp-serverinfo**: AFPサーバーに関する詳細情報を提供します。
- **afp-showmount**: 利用可能なAFP共有とそれぞれのACLをリストします。

### [**ブルートフォース**](../generic-hacking/brute-force.md#afp)

{{#include ../banners/hacktricks-training.md}}
