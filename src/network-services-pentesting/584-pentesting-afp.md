# 548 - Pentesting Apple Filing Protocol (AFP)

{{#include ../banners/hacktricks-training.md}}

## Informações Básicas

O **Apple Filing Protocol** (**AFP**), anteriormente conhecido como AppleTalk Filing Protocol, é um protocolo de rede especializado incluído dentro do **Apple File Service** (**AFS**). Ele é projetado para fornecer serviços de arquivo para macOS e o clássico Mac OS. O AFP se destaca por suportar nomes de arquivos em Unicode, permissões POSIX e listas de controle de acesso, forks de recursos, atributos estendidos nomeados e mecanismos sofisticados de bloqueio de arquivos. Foi o principal protocolo para serviços de arquivo no Mac OS 9 e versões anteriores.

**Porta Padrão:** 548
```bash
PORT    STATE SERVICE
548/tcp open  afp
```
### **Enumeração**

Para a enumeração de serviços AFP, os seguintes comandos e scripts são úteis:
```bash
msf> use auxiliary/scanner/afp/afp_server_info
nmap -sV --script "afp-* and not dos and not brute" -p <PORT> <IP>
```
**Scripts e Suas Descrições:**

- **afp-ls**: Este script é utilizado para listar os volumes e arquivos AFP disponíveis.
- **afp-path-vuln**: Ele lista todos os volumes e arquivos AFP, destacando potenciais vulnerabilidades.
- **afp-serverinfo**: Isso fornece informações detalhadas sobre o servidor AFP.
- **afp-showmount**: Ele lista os compartilhamentos AFP disponíveis junto com suas respectivas ACLs.

### [**Força Bruta**](../generic-hacking/brute-force.md#afp)

{{#include ../banners/hacktricks-training.md}}
