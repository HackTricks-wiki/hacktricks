# 548 - Pentesting Apple Filing Protocol (AFP)

{{#include ../banners/hacktricks-training.md}}

## Основна інформація

**Apple Filing Protocol** (**AFP**), раніше відомий як AppleTalk Filing Protocol, є спеціалізованим мережевим протоколом, що входить до складу **Apple File Service** (**AFS**). Він призначений для надання файлових послуг для macOS та класичного Mac OS. AFP вирізняється підтримкою імен файлів у форматі Unicode, дозволів POSIX та списків контролю доступу, ресурсних forks, іменованих розширених атрибутів та складних механізмів блокування файлів. Це був основний протокол для файлових послуг у Mac OS 9 та раніших версіях.

**Порт за замовчуванням:** 548
```bash
PORT    STATE SERVICE
548/tcp open  afp
```
### **Перерахування**

Для перерахування служб AFP корисні наступні команди та скрипти:
```bash
msf> use auxiliary/scanner/afp/afp_server_info
nmap -sV --script "afp-* and not dos and not brute" -p <PORT> <IP>
```
**Скрипти та їх описи:**

- **afp-ls**: Цей скрипт використовується для переліку доступних обсягів та файлів AFP.
- **afp-path-vuln**: Він перераховує всі обсяги та файли AFP, підкреслюючи потенційні вразливості.
- **afp-serverinfo**: Це надає детальну інформацію про сервер AFP.
- **afp-showmount**: Він перераховує доступні спільні ресурси AFP разом з їх відповідними ACL.

### [**Brute Force**](../generic-hacking/brute-force.md#afp)

{{#include ../banners/hacktricks-training.md}}
