{{#include ../../banners/hacktricks-training.md}}

### Linux में क्रेडेंशियल स्टोरेज

Linux सिस्टम क्रेडेंशियल्स को तीन प्रकार के कैश में स्टोर करते हैं, अर्थात् **फाइलें** ( `/tmp` डायरेक्टरी में), **कर्नेल कीरिंग्स** (Linux कर्नेल में एक विशेष खंड), और **प्रोसेस मेमोरी** (एकल-प्रोसेस उपयोग के लिए)। `/etc/krb5.conf` में **default_ccache_name** वेरिएबल उपयोग में स्टोरेज प्रकार को प्रकट करता है, यदि निर्दिष्ट नहीं किया गया है तो यह `FILE:/tmp/krb5cc_%{uid}` पर डिफ़ॉल्ट होता है।

### क्रेडेंशियल्स निकालना

2017 का पेपर, [**Kerberos Credential Thievery (GNU/Linux)**](https://www.delaat.net/rp/2016-2017/p97/report.pdf), कीरिंग्स और प्रक्रियाओं से क्रेडेंशियल्स निकालने के तरीकों को रेखांकित करता है, Linux कर्नेल के कीरिंग तंत्र पर जोर देते हुए जो कुंजियों का प्रबंधन और भंडारण करता है।

#### कीरिंग निकासी अवलोकन

**keyctl सिस्टम कॉल**, जो कर्नेल संस्करण 2.6.10 में पेश किया गया था, उपयोगकर्ता स्थान अनुप्रयोगों को कर्नेल कीरिंग्स के साथ इंटरैक्ट करने की अनुमति देता है। कीरिंग्स में क्रेडेंशियल्स को घटकों (डिफ़ॉल्ट प्रिंसिपल और क्रेडेंशियल्स) के रूप में स्टोर किया जाता है, जो फाइल ccaches से भिन्न होते हैं, जिसमें एक हेडर भी शामिल होता है। पेपर से **hercules.sh स्क्रिप्ट** इन घटकों को निकालने और उन्हें क्रेडेंशियल चोरी के लिए उपयोगी फाइल ccache में पुनर्निर्माण करने का प्रदर्शन करती है।

#### टिकट निकासी उपकरण: Tickey

**hercules.sh स्क्रिप्ट** के सिद्धांतों पर आधारित, [**tickey**](https://github.com/TarlogicSecurity/tickey) उपकरण विशेष रूप से कीरिंग्स से टिकट निकालने के लिए डिज़ाइन किया गया है, जिसे `/tmp/tickey -i` के माध्यम से निष्पादित किया जाता है।

## संदर्भ

- [**https://www.tarlogic.com/en/blog/how-to-attack-kerberos/**](https://www.tarlogic.com/en/blog/how-to-attack-kerberos/)

{{#include ../../banners/hacktricks-training.md}}
