# 3702/UDP - Pentesting WS-Discovery

{{#include ../banners/hacktricks-training.md}}

## Grundinformationen

Das **Web Services Dynamic Discovery Protocol (WS-Discovery)** ist ein Protokoll, das für die Entdeckung von Diensten innerhalb eines lokalen Netzwerks über Multicast entwickelt wurde. Es erleichtert die Interaktion zwischen **Ziel-Diensten** und **Clients**. Ziel-Dienste sind Endpunkte, die zur Entdeckung verfügbar sind, während Clients diejenigen sind, die aktiv nach diesen Diensten suchen. Die Kommunikation erfolgt über **SOAP-Abfragen über UDP**, die an die Multicast-Adresse **239.255.255.250** und den UDP-Port **3702** gerichtet sind.

Beim Beitritt zu einem Netzwerk kündigt ein Ziel-Dienst seine Präsenz an, indem er ein **Multicast Hello** sendet. Er bleibt offen für den Empfang von **Multicast Probes** von Clients, die nach Diensten nach Typ suchen, einem eindeutigen Identifikator für den Endpunkt (z. B. **NetworkVideoTransmitter** für eine IP-Kamera). Als Antwort auf eine übereinstimmende Probe kann ein Ziel-Dienst eine **Unicast Probe Match** senden. Ebenso könnte ein Ziel-Dienst ein **Multicast Resolve** erhalten, das darauf abzielt, einen Dienst nach Namen zu identifizieren, woraufhin er mit einer **Unicast Resolve Match** antworten kann, wenn er das beabsichtigte Ziel ist. Im Falle des Verlassens des Netzwerks versucht ein Ziel-Dienst, ein **Multicast Bye** zu senden, um seinen Abgang zu signalisieren.

![](<../images/image (689).png>)

**Standardport**: 3702
```
PORT     STATE         SERVICE
3702/udp open|filtered unknown
| wsdd-discover:
|   Devices
|     Message id: 39a2b7f2-fdbd-690c-c7c9-deadbeefceb3
|     Address: http://10.0.200.116:50000
|_    Type: Device wprt:PrintDeviceType
```
{{#include ../banners/hacktricks-training.md}}
