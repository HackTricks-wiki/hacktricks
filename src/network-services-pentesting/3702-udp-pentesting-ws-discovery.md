# 3702/UDP - Pentesting WS-Discovery

{{#include ../banners/hacktricks-training.md}}

## Informazioni di base

Il **Web Services Dynamic Discovery Protocol (WS-Discovery)** è identificato come un protocollo progettato per la scoperta di servizi all'interno di una rete locale tramite multicast. Facilita l'interazione tra i **Servizi Target** e i **Client**. I Servizi Target sono endpoint disponibili per la scoperta, mentre i Client sono quelli che cercano attivamente questi servizi. La comunicazione è stabilita utilizzando **query SOAP su UDP**, dirette all'indirizzo multicast **239.255.255.250** e alla porta UDP **3702**.

All'ingresso in una rete, un Servizio Target annuncia la propria presenza trasmettendo un **multicast Hello**. Rimane aperto a ricevere **multicast Probes** dai Client che sono alla ricerca di servizi per Tipo, un identificatore unico per l'endpoint (ad esempio, **NetworkVideoTransmitter** per una telecamera IP). In risposta a un Probe corrispondente, un Servizio Target può inviare un **unicast Probe Match**. Allo stesso modo, un Servizio Target potrebbe ricevere un **multicast Resolve** mirato a identificare un servizio per nome, al quale potrebbe rispondere con un **unicast Resolve Match** se è il target previsto. In caso di uscita dalla rete, un Servizio Target tenta di trasmettere un **multicast Bye**, segnalando la propria partenza.

![](<../images/image (689).png>)

**Porta predefinita**: 3702
```
PORT     STATE         SERVICE
3702/udp open|filtered unknown
| wsdd-discover:
|   Devices
|     Message id: 39a2b7f2-fdbd-690c-c7c9-deadbeefceb3
|     Address: http://10.0.200.116:50000
|_    Type: Device wprt:PrintDeviceType
```
{{#include ../banners/hacktricks-training.md}}
