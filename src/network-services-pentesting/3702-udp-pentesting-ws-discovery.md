# 3702/UDP - Pentesting WS-Discovery

{{#include ../banners/hacktricks-training.md}}

## Основна інформація

**Протокол динамічного виявлення веб-служб (WS-Discovery)** визначається як протокол, призначений для виявлення служб у локальній мережі через мультикаст. Він полегшує взаємодію між **Цільовими службами** та **Клієнтами**. Цільові служби - це кінцеві точки, доступні для виявлення, тоді як Клієнти - це ті, хто активно шукає ці служби. Зв'язок встановлюється за допомогою **SOAP запитів через UDP**, спрямованих на мультикаст адресу **239.255.255.250** та UDP порт **3702**.

При приєднанні до мережі Цільова служба оголошує про свою присутність, транслюючи **мультикаст Hello**. Вона залишається відкритою для отримання **мультикаст Probe** від Клієнтів, які шукають служби за Типом, ідентифікатором, унікальним для кінцевої точки (наприклад, **NetworkVideoTransmitter** для IP-камери). У відповідь на відповідний Probe Цільова служба може надіслати **унікаст Probe Match**. Аналогічно, Цільова служба може отримати **мультикаст Resolve**, спрямований на ідентифікацію служби за назвою, на що вона може відповісти **унікаст Resolve Match**, якщо є цільовим об'єктом. У разі виходу з мережі Цільова служба намагається транслювати **мультикаст Bye**, сигналізуючи про свій вихід.

![](<../images/image (689).png>)

**За замовчуванням порт**: 3702
```
PORT     STATE         SERVICE
3702/udp open|filtered unknown
| wsdd-discover:
|   Devices
|     Message id: 39a2b7f2-fdbd-690c-c7c9-deadbeefceb3
|     Address: http://10.0.200.116:50000
|_    Type: Device wprt:PrintDeviceType
```
{{#include ../banners/hacktricks-training.md}}
