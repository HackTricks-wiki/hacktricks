# 3702/UDP - Pentesting WS-Discovery

{{#include ../banners/hacktricks-training.md}}

## 基本情報

**Web Services Dynamic Discovery Protocol (WS-Discovery)** は、マルチキャストを通じてローカルネットワーク内のサービスを発見するために設計されたプロトコルです。これは、**Target Services** と **Clients** の間の相互作用を促進します。Target Services は発見可能なエンドポイントであり、Clients はこれらのサービスを積極的に探している側です。通信は、マルチキャストアドレス **239.255.255.250** と UDP ポート **3702** に向けた **SOAP クエリを UDP 経由** で確立されます。

ネットワークに参加すると、Target Service は **マルチキャスト Hello** をブロードキャストしてその存在を知らせます。これは、タイプによるサービスを探している Clients からの **マルチキャスト Probes** を受信するためにオープンな状態を保ちます。タイプはエンドポイントに固有の識別子です（例：IP カメラのための **NetworkVideoTransmitter**）。一致する Probe に応じて、Target Service は **ユニキャスト Probe Match** を送信することがあります。同様に、Target Service は名前によるサービスの特定を目的とした **マルチキャスト Resolve** を受信することができ、意図されたターゲットであれば **ユニキャスト Resolve Match** で応答することがあります。ネットワークを離れる場合、Target Service はその離脱を示す **マルチキャスト Bye** をブロードキャストしようとします。

![](<../images/image (689).png>)

**デフォルトポート**: 3702
```
PORT     STATE         SERVICE
3702/udp open|filtered unknown
| wsdd-discover:
|   Devices
|     Message id: 39a2b7f2-fdbd-690c-c7c9-deadbeefceb3
|     Address: http://10.0.200.116:50000
|_    Type: Device wprt:PrintDeviceType
```
{{#include ../banners/hacktricks-training.md}}
