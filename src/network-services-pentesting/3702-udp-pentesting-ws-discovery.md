# 3702/UDP - Pentesting WS-Discovery

{{#include ../banners/hacktricks-training.md}}

## 기본 정보

**Web Services Dynamic Discovery Protocol (WS-Discovery)**는 멀티캐스트를 통해 로컬 네트워크 내에서 서비스 발견을 위해 설계된 프로토콜로 식별됩니다. 이는 **Target Services**와 **Clients** 간의 상호작용을 촉진합니다. Target Services는 발견 가능한 엔드포인트이며, Clients는 이러한 서비스를 적극적으로 검색하는 주체입니다. 통신은 멀티캐스트 주소 **239.255.255.250**와 UDP 포트 **3702**로 전송되는 **SOAP 쿼리**를 사용하여 설정됩니다.

네트워크에 참여하면 Target Service는 **multicast Hello**를 방송하여 자신의 존재를 알립니다. 이는 서비스 유형에 따라 Clients로부터 **multicast Probes**를 수신할 준비가 되어 있습니다. 서비스 유형은 엔드포인트에 고유한 식별자입니다(예: IP 카메라의 경우 **NetworkVideoTransmitter**). 일치하는 Probe에 응답하여 Target Service는 **unicast Probe Match**를 보낼 수 있습니다. 유사하게, Target Service는 이름으로 서비스를 식별하기 위한 **multicast Resolve**를 수신할 수 있으며, 만약 그것이 의도된 대상이라면 **unicast Resolve Match**로 응답할 수 있습니다. 네트워크를 떠날 경우, Target Service는 자신의 퇴장을 알리기 위해 **multicast Bye**를 방송하려고 시도합니다.

![](<../images/image (689).png>)

**기본 포트**: 3702
```
PORT     STATE         SERVICE
3702/udp open|filtered unknown
| wsdd-discover:
|   Devices
|     Message id: 39a2b7f2-fdbd-690c-c7c9-deadbeefceb3
|     Address: http://10.0.200.116:50000
|_    Type: Device wprt:PrintDeviceType
```
{{#include ../banners/hacktricks-training.md}}
