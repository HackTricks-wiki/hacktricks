# 3702/UDP - Pentesting WS-Discovery

{{#include ../banners/hacktricks-training.md}}

## Informations de base

Le **Web Services Dynamic Discovery Protocol (WS-Discovery)** est identifié comme un protocole conçu pour la découverte de services au sein d'un réseau local via multicast. Il facilite l'interaction entre les **Services Cibles** et les **Clients**. Les Services Cibles sont des points de terminaison disponibles pour la découverte, tandis que les Clients sont ceux qui recherchent activement ces services. La communication est établie en utilisant des **requêtes SOAP sur UDP**, dirigées vers l'adresse multicast **239.255.255.250** et le port UDP **3702**.

Lorsqu'un Service Cible rejoint un réseau, il annonce sa présence en diffusant un **Hello multicast**. Il reste ouvert à recevoir des **Probes multicast** de Clients qui recherchent des services par Type, un identifiant unique au point de terminaison (par exemple, **NetworkVideoTransmitter** pour une caméra IP). En réponse à une Probe correspondante, un Service Cible peut envoyer un **Probe Match unicast**. De même, un Service Cible pourrait recevoir un **Resolve multicast** visant à identifier un service par son nom, auquel il peut répondre par un **Resolve Match unicast** s'il est la cible prévue. En cas de départ du réseau, un Service Cible tente de diffuser un **Bye multicast**, signalant son départ.

![](<../images/image (689).png>)

**Port par défaut** : 3702
```
PORT     STATE         SERVICE
3702/udp open|filtered unknown
| wsdd-discover:
|   Devices
|     Message id: 39a2b7f2-fdbd-690c-c7c9-deadbeefceb3
|     Address: http://10.0.200.116:50000
|_    Type: Device wprt:PrintDeviceType
```
{{#include ../banners/hacktricks-training.md}}
