# 3702/UDP - Pentesting WS-Discovery

{{#include ../banners/hacktricks-training.md}}

## Podstawowe informacje

**Web Services Dynamic Discovery Protocol (WS-Discovery)** to protokół zaprojektowany do odkrywania usług w lokalnej sieci za pomocą multicast. Ułatwia interakcję między **Target Services** a **Clients**. Target Services to punkty końcowe dostępne do odkrycia, podczas gdy Clients to te, które aktywnie poszukują tych usług. Komunikacja jest nawiązywana za pomocą **SOAP queries over UDP**, skierowanych na adres multicast **239.255.255.250** i port UDP **3702**.

Po dołączeniu do sieci, Target Service ogłasza swoją obecność, nadając **multicast Hello**. Pozostaje otwarty na odbieranie **multicast Probes** od Clients, które poszukują usług według Typu, identyfikatora unikalnego dla punktu końcowego (np. **NetworkVideoTransmitter** dla kamery IP). W odpowiedzi na pasujący Probe, Target Service może wysłać **unicast Probe Match**. Podobnie, Target Service może otrzymać **multicast Resolve** mający na celu zidentyfikowanie usługi po nazwie, na co może odpowiedzieć **unicast Resolve Match**, jeśli jest zamierzonym celem. W przypadku opuszczenia sieci, Target Service próbuje nadać **multicast Bye**, sygnalizując swoje odejście.

![](<../images/image (689).png>)

**Domyślny port**: 3702
```
PORT     STATE         SERVICE
3702/udp open|filtered unknown
| wsdd-discover:
|   Devices
|     Message id: 39a2b7f2-fdbd-690c-c7c9-deadbeefceb3
|     Address: http://10.0.200.116:50000
|_    Type: Device wprt:PrintDeviceType
```
{{#include ../banners/hacktricks-training.md}}
