# 3702/UDP - Pentesting WS-Discovery

{{#include ../banners/hacktricks-training.md}}

## Informações Básicas

O **Web Services Dynamic Discovery Protocol (WS-Discovery)** é identificado como um protocolo projetado para a descoberta de serviços dentro de uma rede local através de multicast. Ele facilita a interação entre **Target Services** e **Clients**. Target Services são endpoints disponíveis para descoberta, enquanto Clients são aqueles que estão ativamente procurando por esses serviços. A comunicação é estabelecida usando **SOAP queries over UDP**, direcionadas ao endereço multicast **239.255.255.250** e à porta UDP **3702**.

Ao ingressar em uma rede, um Target Service anuncia sua presença transmitindo um **multicast Hello**. Ele permanece aberto para receber **multicast Probes** de Clients que estão em busca de serviços por Tipo, um identificador exclusivo para o endpoint (por exemplo, **NetworkVideoTransmitter** para uma câmera IP). Em resposta a um Probe correspondente, um Target Service pode enviar um **unicast Probe Match**. Da mesma forma, um Target Service pode receber um **multicast Resolve** destinado a identificar um serviço pelo nome, ao qual pode responder com um **unicast Resolve Match** se for o alvo pretendido. No caso de deixar a rede, um Target Service tenta transmitir um **multicast Bye**, sinalizando sua saída.

![](<../images/image (689).png>)

**Porta padrão**: 3702
```
PORT     STATE         SERVICE
3702/udp open|filtered unknown
| wsdd-discover:
|   Devices
|     Message id: 39a2b7f2-fdbd-690c-c7c9-deadbeefceb3
|     Address: http://10.0.200.116:50000
|_    Type: Device wprt:PrintDeviceType
```
{{#include ../banners/hacktricks-training.md}}
