# 5800,5801,5900,5901 - Pentesting VNC

{{#include ../banners/hacktricks-training.md}}


## Informations de base

**Virtual Network Computing (VNC)** est un système de partage de bureau graphique robuste qui utilise le protocole **Remote Frame Buffer (RFB)** pour permettre le contrôle à distance et la collaboration avec un autre ordinateur. Avec VNC, les utilisateurs peuvent interagir sans effort avec un ordinateur distant en transmettant des événements de clavier et de souris dans les deux sens. Cela permet un accès en temps réel et facilite l'assistance ou la collaboration à distance efficace sur un réseau.

VNC utilise généralement les ports **5800 ou 5801 ou 5900 ou 5901.**
```
PORT    STATE SERVICE
5900/tcp open  vnc
```
## Énumération
```bash
nmap -sV --script vnc-info,realvnc-auth-bypass,vnc-title -p <PORT> <IP>
msf> use auxiliary/scanner/vnc/vnc_none_auth
```
### [**Brute force**](../generic-hacking/brute-force.md#vnc)

## Se connecter à vnc en utilisant Kali
```bash
vncviewer [-passwd passwd.txt] <IP>::5901
```
## Décryptage du mot de passe VNC

Le **mot de passe par défaut est stocké** dans : \~/.vnc/passwd

Si vous avez le mot de passe VNC et qu'il semble chiffré (quelques octets, comme s'il pouvait s'agir d'un mot de passe chiffré), il est probablement chiffré avec 3des. Vous pouvez obtenir le mot de passe en clair en utilisant [https://github.com/jeroennijhof/vncpwd](https://github.com/jeroennijhof/vncpwd)
```bash
make
vncpwd <vnc password file>
```
Vous pouvez le faire parce que le mot de passe utilisé dans 3des pour chiffrer les mots de passe VNC en texte clair a été inversé il y a des années.\
Pour **Windows**, vous pouvez également utiliser cet outil : [https://www.raymond.cc/blog/download/did/232/](https://www.raymond.cc/blog/download/did/232/)\
Je sauvegarde également l'outil ici pour un accès facile :

{% file src="../images/vncpwd.zip" %}

## Shodan

- `port:5900 RFB`


{{#include ../banners/hacktricks-training.md}}
