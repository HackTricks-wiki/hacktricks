# 5800,5801,5900,5901 - Pentesting VNC

{{#include ../banners/hacktricks-training.md}}

<figure><img src="../images/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

Si estás interesado en una **carrera de hacking** y en hackear lo inhackeable - **¡estamos contratando!** (_se requiere polaco fluido escrito y hablado_).

{% embed url="https://www.stmcyber.com/careers" %}

## Información Básica

**Virtual Network Computing (VNC)** es un sistema robusto de compartición de escritorio gráfico que utiliza el protocolo **Remote Frame Buffer (RFB)** para habilitar el control remoto y la colaboración con otra computadora. Con VNC, los usuarios pueden interactuar sin problemas con una computadora remota al transmitir eventos de teclado y mouse en ambas direcciones. Esto permite el acceso en tiempo real y facilita la asistencia remota o colaboración eficiente a través de una red.

VNC generalmente utiliza los puertos **5800 o 5801 o 5900 o 5901.**
```
PORT    STATE SERVICE
5900/tcp open  vnc
```
## Enumeración
```bash
nmap -sV --script vnc-info,realvnc-auth-bypass,vnc-title -p <PORT> <IP>
msf> use auxiliary/scanner/vnc/vnc_none_auth
```
### [**Fuerza bruta**](../generic-hacking/brute-force.md#vnc)

## Conectar a vnc usando Kali
```bash
vncviewer [-passwd passwd.txt] <IP>::5901
```
## Desencriptando la contraseña de VNC

La **contraseña por defecto se almacena** en: \~/.vnc/passwd

Si tienes la contraseña de VNC y parece estar encriptada (unos pocos bytes, como si pudiera ser una contraseña encriptada), probablemente esté cifrada con 3des. Puedes obtener la contraseña en texto claro usando [https://github.com/jeroennijhof/vncpwd](https://github.com/jeroennijhof/vncpwd)
```bash
make
vncpwd <vnc password file>
```
Puedes hacer esto porque la contraseña utilizada dentro de 3des para encriptar las contraseñas de VNC en texto plano fue revertida hace años.\
Para **Windows** también puedes usar esta herramienta: [https://www.raymond.cc/blog/download/did/232/](https://www.raymond.cc/blog/download/did/232/)\
Guardo la herramienta aquí también para facilitar el acceso:

{% file src="../images/vncpwd.zip" %}

## Shodan

- `port:5900 RFB`

<figure><img src="../images/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

Si estás interesado en una **carrera en hacking** y hackear lo inhackeable - **¡estamos contratando!** (_se requiere polaco fluido escrito y hablado_).

{% embed url="https://www.stmcyber.com/careers" %}

{{#include ../banners/hacktricks-training.md}}
