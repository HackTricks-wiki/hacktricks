# Типи користувачів MSSQL

{{#include ../../banners/hacktricks-training.md}}

Таблиця взята з [**docs**](https://learn.microsoft.com/en-us/sql/relational-databases/system-catalog-views/sys-database-principals-transact-sql?view=sql-server-ver16).

| Назва стовпця                          | Тип даних        | Опис                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| --------------------------------------- | ----------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **name**                                | **sysname**       | Ім'я принципала, унікальне в межах бази даних.                                                                                                                                                                                                                                                                                                                                                                                                         |
| **principal_id**                        | **int**           | ID принципала, унікальне в межах бази даних.                                                                                                                                                                                                                                                                                                                                                                                                           |
| **type**                                | **char(1)**       | <p>Тип принципала:<br><br>A = Роль програми<br><br>C = Користувач, прив'язаний до сертифіката<br><br>E = Зовнішній користувач з Azure Active Directory<br><br>G = Група Windows<br><br>K = Користувач, прив'язаний до асиметричного ключа<br><br>R = Роль бази даних<br><br>S = Користувач SQL<br><br>U = Користувач Windows<br><br>X = Зовнішня група з Azure Active Directory або додатків</p>                                                                                  |
| **type_desc**                           | **nvarchar(60)**  | <p>Опис типу принципала.<br><br>APPLICATION_ROLE<br><br>CERTIFICATE_MAPPED_USER<br><br>EXTERNAL_USER<br><br>WINDOWS_GROUP<br><br>ASYMMETRIC_KEY_MAPPED_USER<br><br>DATABASE_ROLE<br><br>SQL_USER<br><br>WINDOWS_USER<br><br>EXTERNAL_GROUPS</p>                                                                                                                                                                                               |
| **default_schema_name**                 | **sysname**       | Ім'я, яке буде використовуватися, коли SQL-ім'я не вказує схему. Null для принципалів, які не є типу S, U або A.                                                                                                                                                                                                                                                                                                                                                   |
| **create_date**                         | **datetime**      | Час, коли принципал був створений.                                                                                                                                                                                                                                                                                                                                                                                                               |
| **modify_date**                         | **datetime**      | Час, коли принципал був востаннє змінений.                                                                                                                                                                                                                                                                                                                                                                                                         |
| **owning_principal_id**                 | **int**           | ID принципала, який володіє цим принципалом. Усі фіксовані ролі бази даних за замовчуванням належать **dbo**.                                                                                                                                                                                                                                                                                                                                                |
| **sid**                                 | **varbinary(85)** | SID (ідентифікатор безпеки) принципала. NULL для SYS та INFORMATION SCHEMAS.                                                                                                                                                                                                                                                                                                                                                                      |
| **is_fixed_role**                       | **bit**           | Якщо 1, цей рядок представляє запис для однієї з фіксованих ролей бази даних: db_owner, db_accessadmin, db_datareader, db_datawriter, db_ddladmin, db_securityadmin, db_backupoperator, db_denydatareader, db_denydatawriter.                                                                                                                                                                                                                                |
| **authentication_type**                 | **int**           | <p><strong>Застосовується до</strong>: SQL Server 2012 (11.x) та пізніших версій.<br><br>Означає тип аутентифікації. Наступні значення можливі та їх описи.<br><br>0 : Без аутентифікації<br>1 : Аутентифікація екземпляра<br>2 : Аутентифікація бази даних<br>3 : Аутентифікація Windows<br>4 : Аутентифікація Azure Active Directory</p>                                                                                                        |
| **authentication_type_desc**            | **nvarchar(60)**  | <p><strong>Застосовується до</strong>: SQL Server 2012 (11.x) та пізніших версій.<br><br>Опис типу аутентифікації. Наступні значення можливі та їх описи.<br><br><code>NONE</code> : Без аутентифікації<br><code>INSTANCE</code> : Аутентифікація екземпляра<br><code>DATABASE</code> : Аутентифікація бази даних<br><code>WINDOWS</code> : Аутентифікація Windows<br><code>EXTERNAL</code>: Аутентифікація Azure Active Directory</p> |
| **default_language_name**               | **sysname**       | <p><strong>Застосовується до</strong>: SQL Server 2012 (11.x) та пізніших версій.<br><br>Означає мову за замовчуванням для цього принципала.</p>                                                                                                                                                                                                                                                                                                                        |
| **default_language_lcid**               | **int**           | <p><strong>Застосовується до</strong>: SQL Server 2012 (11.x) та пізніших версій.<br><br>Означає LCID за замовчуванням для цього принципала.</p>                                                                                                                                                                                                                                                                                                                            |
| **allow_encrypted_value_modifications** | **bit**           | <p><strong>Застосовується до</strong>: SQL Server 2016 (13.x) та пізніших версій, SQL Database.<br><br>Приховує перевірки криптографічних метаданих на сервері під час операцій масового копіювання. Це дозволяє користувачу масово копіювати дані, зашифровані за допомогою Always Encrypted, між таблицями або базами даних, не розшифровуючи дані. За замовчуванням вимкнено.</p>                                                                                                                     |

{{#include ../../banners/hacktricks-training.md}}
