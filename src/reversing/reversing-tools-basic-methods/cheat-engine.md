# Cheat Engine

{{#include ../../banners/hacktricks-training.md}}

[**Cheat Engine**](https://www.cheatengine.org/downloads.php) είναι ένα χρήσιμο πρόγραμμα για να βρείτε πού αποθηκεύονται σημαντικές τιμές μέσα στη μνήμη ενός τρέχοντος παιχνιδιού και να τις αλλάξετε.\
Όταν το κατεβάσετε και το εκτελέσετε, σας **παρουσιάζεται** ένα **tutorial** για το πώς να χρησιμοποιήσετε το εργαλείο. Αν θέλετε να μάθετε πώς να χρησιμοποιήσετε το εργαλείο, συνιστάται να το ολοκληρώσετε.

## Τι ψάχνετε;

![](<../../images/image (762).png>)

Αυτό το εργαλείο είναι πολύ χρήσιμο για να βρείτε **πού αποθηκεύεται κάποια τιμή** (συνήθως ένας αριθμός) **στη μνήμη** ενός προγράμματος.\
**Συνήθως οι αριθμοί** αποθηκεύονται σε **4bytes** μορφή, αλλά μπορείτε επίσης να τους βρείτε σε **double** ή **float** μορφές, ή μπορεί να θέλετε να ψάξετε για κάτι **διαφορετικό από έναν αριθμό**. Για αυτό το λόγο πρέπει να είστε σίγουροι ότι **επιλέγετε** αυτό που θέλετε να **ψάξετε**:

![](<../../images/image (324).png>)

Επίσης μπορείτε να υποδείξετε **διαφορετικούς** τύπους **αναζητήσεων**:

![](<../../images/image (311).png>)

Μπορείτε επίσης να ελέγξετε το κουτάκι για να **σταματήσετε το παιχνίδι ενώ σκανάρετε τη μνήμη**:

![](<../../images/image (1052).png>)

### Συντομεύσεις

Στο _**Edit --> Settings --> Hotkeys**_ μπορείτε να ορίσετε διαφορετικές **συντομεύσεις** για διαφορετικούς σκοπούς όπως **σταμάτημα** του **παιχνιδιού** (το οποίο είναι πολύ χρήσιμο αν σε κάποια στιγμή θέλετε να σκανάρετε τη μνήμη). Διαθέσιμες είναι και άλλες επιλογές:

![](<../../images/image (864).png>)

## Τροποποίηση της τιμής

Μόλις **βρείτε** πού είναι η **τιμή** που ψάχνετε (περισσότερα γι' αυτό στα επόμενα βήματα) μπορείτε να **την τροποποιήσετε** κάνοντας διπλό κλικ πάνω της, και στη συνέχεια κάνοντας διπλό κλικ στην τιμή της:

![](<../../images/image (563).png>)

Και τελικά **σημειώνοντας το τσεκ** για να γίνει η τροποποίηση στη μνήμη:

![](<../../images/image (385).png>)

Η **αλλαγή** στη **μνήμη** θα εφαρμοστεί αμέσως (σημειώστε ότι μέχρι το παιχνίδι να χρησιμοποιήσει ξανά αυτή την τιμή, η τιμή **δεν θα ενημερωθεί στο παιχνίδι**).

## Αναζητώντας την τιμή

Έτσι, θα υποθέσουμε ότι υπάρχει μια σημαντική τιμή (όπως η ζωή του χρήστη σας) που θέλετε να βελτιώσετε, και ψάχνετε για αυτή την τιμή στη μνήμη)

### Μέσω μιας γνωστής αλλαγής

Υποθέτοντας ότι ψάχνετε για την τιμή 100, **εκτελείτε μια σάρωση** ψάχνοντας για αυτή την τιμή και βρίσκετε πολλές συμπτώσεις:

![](<../../images/image (108).png>)

Στη συνέχεια, κάνετε κάτι ώστε η **τιμή να αλλάξει**, και **σταματάτε** το παιχνίδι και **εκτελείτε** μια **επόμενη σάρωση**:

![](<../../images/image (684).png>)

Το Cheat Engine θα ψάξει για τις **τιμές** που **πήγαν από 100 στη νέα τιμή**. Συγχαρητήρια, **βρήκατε** τη **διεύθυνση** της τιμής που ψάχνατε, μπορείτε τώρα να την τροποποιήσετε.\
&#xNAN;_&#x49;f έχετε ακόμα πολλές τιμές, κάντε κάτι για να τροποποιήσετε ξανά αυτή την τιμή, και εκτελέστε άλλη μια "επόμενη σάρωση" για να φιλτράρετε τις διευθύνσεις._

### Άγνωστη τιμή, γνωστή αλλαγή

Στο σενάριο που **δεν γνωρίζετε την τιμή** αλλά ξέρετε **πώς να την αλλάξετε** (και ακόμη και την τιμή της αλλαγής) μπορείτε να ψάξετε για τον αριθμό σας.

Έτσι, ξεκινήστε εκτελώντας μια σάρωση τύπου "**Άγνωστη αρχική τιμή**":

![](<../../images/image (890).png>)

Στη συνέχεια, κάντε την τιμή να αλλάξει, υποδείξτε **πώς** η **τιμή** **αλλάχθηκε** (στην περίπτωσή μου μειώθηκε κατά 1) και εκτελέστε μια **επόμενη σάρωση**:

![](<../../images/image (371).png>)

Θα σας παρουσιαστούν **όλες οι τιμές που τροποποιήθηκαν με τον επιλεγμένο τρόπο**:

![](<../../images/image (569).png>)

Μόλις βρείτε την τιμή σας, μπορείτε να την τροποποιήσετε.

Σημειώστε ότι υπάρχουν **πολλές πιθανές αλλαγές** και μπορείτε να κάνετε αυτά τα **βήματα όσες φορές θέλετε** για να φιλτράρετε τα αποτελέσματα:

![](<../../images/image (574).png>)

### Τυχαία διεύθυνση μνήμης - Εύρεση του κώδικα

Μέχρι τώρα μάθαμε πώς να βρούμε μια διεύθυνση που αποθηκεύει μια τιμή, αλλά είναι πολύ πιθανό ότι σε **διαφορετικές εκτελέσεις του παιχνιδιού αυτή η διεύθυνση είναι σε διαφορετικά μέρη της μνήμης**. Έτσι, ας ανακαλύψουμε πώς να βρίσκουμε πάντα αυτή τη διεύθυνση.

Χρησιμοποιώντας μερικά από τα αναφερόμενα κόλπα, βρείτε τη διεύθυνση όπου το τρέχον παιχνίδι σας αποθηκεύει την σημαντική τιμή. Στη συνέχεια (σταματώντας το παιχνίδι αν το επιθυμείτε) κάντε **δεξί κλικ** στη βρεθείσα **διεύθυνση** και επιλέξτε "**Βρείτε τι έχει πρόσβαση σε αυτή τη διεύθυνση**" ή "**Βρείτε τι γράφει σε αυτή τη διεύθυνση**":

![](<../../images/image (1067).png>)

Η **πρώτη επιλογή** είναι χρήσιμη για να γνωρίζετε ποιες **μέρη** του **κώδικα** **χρησιμοποιούν** αυτή τη **διεύθυνση** (που είναι χρήσιμο για περισσότερα πράγματα όπως **να γνωρίζετε πού μπορείτε να τροποποιήσετε τον κώδικα** του παιχνιδιού).\
Η **δεύτερη επιλογή** είναι πιο **συγκεκριμένη**, και θα είναι πιο χρήσιμη σε αυτή την περίπτωση καθώς μας ενδιαφέρει να γνωρίζουμε **από πού γράφεται αυτή η τιμή**.

Μόλις επιλέξετε μία από αυτές τις επιλογές, ο **debugger** θα **συνδεθεί** με το πρόγραμμα και ένα νέο **κενό παράθυρο** θα εμφανιστεί. Τώρα, **παίξτε** το **παιχνίδι** και **τροποποιήστε** αυτή τη **τιμή** (χωρίς να επανεκκινήσετε το παιχνίδι). Το **παράθυρο** θα πρέπει να **γεμίσει** με τις **διευθύνσεις** που **τροποποιούν** την **τιμή**:

![](<../../images/image (91).png>)

Τώρα που βρήκατε τη διεύθυνση που τροποποιεί την τιμή μπορείτε να **τροποποιήσετε τον κώδικα κατά βούληση** (το Cheat Engine σας επιτρέπει να το τροποποιήσετε γρήγορα σε NOPs):

![](<../../images/image (1057).png>)

Έτσι, μπορείτε τώρα να το τροποποιήσετε ώστε ο κώδικας να μην επηρεάζει τον αριθμό σας, ή να επηρεάζει πάντα με θετικό τρόπο.

### Τυχαία διεύθυνση μνήμης - Εύρεση του δείκτη

Ακολουθώντας τα προηγούμενα βήματα, βρείτε πού βρίσκεται η τιμή που σας ενδιαφέρει. Στη συνέχεια, χρησιμοποιώντας "**Βρείτε τι γράφει σε αυτή τη διεύθυνση**" ανακαλύψτε ποια διεύθυνση γράφει αυτή την τιμή και κάντε διπλό κλικ πάνω της για να αποκτήσετε την προβολή αποσυναρμολόγησης:

![](<../../images/image (1039).png>)

Στη συνέχεια, εκτελέστε μια νέα σάρωση **ψάχνοντας για την τιμή hex μεταξύ "\[]"** (η τιμή του $edx σε αυτή την περίπτωση):

![](<../../images/image (994).png>)

(_Αν εμφανιστούν πολλές, συνήθως χρειάζεστε τη μικρότερη διεύθυνση_)\
Τώρα, έχουμε βρει τον **δείκτη που θα τροποποιεί την τιμή που μας ενδιαφέρει**.

Κάντε κλικ στο "**Προσθήκη διεύθυνσης χειροκίνητα**":

![](<../../images/image (990).png>)

Τώρα, κάντε κλικ στο κουτάκι "Δείκτης" και προσθέστε τη βρεθείσα διεύθυνση στο πλαίσιο κειμένου (σε αυτό το σενάριο, η βρεθείσα διεύθυνση στην προηγούμενη εικόνα ήταν "Tutorial-i386.exe"+2426B0):

![](<../../images/image (392).png>)

(Σημειώστε πώς η πρώτη "Διεύθυνση" συμπληρώνεται αυτόματα από τη διεύθυνση δείκτη που εισάγετε)

Κάντε κλικ στο OK και θα δημιουργηθεί ένας νέος δείκτης:

![](<../../images/image (308).png>)

Τώρα, κάθε φορά που τροποποιείτε αυτή την τιμή, τροποποιείτε **την σημαντική τιμή ακόμα κι αν η διεύθυνση μνήμης όπου βρίσκεται η τιμή είναι διαφορετική.**

### Εισαγωγή Κώδικα

Η εισαγωγή κώδικα είναι μια τεχνική όπου εισάγετε ένα κομμάτι κώδικα στη διαδικασία στόχο, και στη συνέχεια ανακατευθύνετε την εκτέλεση του κώδικα ώστε να περάσει από τον δικό σας γραμμένο κώδικα (όπως να σας δίνει πόντους αντί να τους αφαιρεί).

Έτσι, φανταστείτε ότι έχετε βρει τη διεύθυνση που αφαιρεί 1 από τη ζωή του παίκτη σας:

![](<../../images/image (203).png>)

Κάντε κλικ στο Show disassembler για να αποκτήσετε τον **αποσυναρμολογημένο κώδικα**.\
Στη συνέχεια, κάντε κλικ **CTRL+a** για να καλέσετε το παράθυρο Auto assemble και επιλέξτε _**Template --> Code Injection**_

![](<../../images/image (902).png>)

Συμπληρώστε τη **διεύθυνση της εντολής που θέλετε να τροποποιήσετε** (αυτό συνήθως συμπληρώνεται αυτόματα):

![](<../../images/image (744).png>)

Θα παραχθεί ένα πρότυπο:

![](<../../images/image (944).png>)

Έτσι, εισάγετε τον νέο κώδικα assembly στην ενότητα "**newmem**" και αφαιρέστε τον αρχικό κώδικα από την "**originalcode**" αν δεν θέλετε να εκτελείται\*\*.\*\* Σε αυτό το παράδειγμα, ο εισαγόμενος κώδικας θα προσθέσει 2 πόντους αντί να αφαιρεί 1:

![](<../../images/image (521).png>)

**Κάντε κλικ στην εκτέλεση και έτσι ο κώδικάς σας θα πρέπει να εισαχθεί στο πρόγραμμα αλλάζοντας τη συμπεριφορά της λειτουργικότητας!**

## **Αναφορές**

- **Tutorial Cheat Engine, ολοκληρώστε το για να μάθετε πώς να ξεκινήσετε με το Cheat Engine**

{{#include ../../banners/hacktricks-training.md}}
