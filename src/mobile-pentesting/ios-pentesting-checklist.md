# iOS Pentesting Checklist

{{#include ../banners/hacktricks-training.md}}

### Preparation

- [ ] Read [**iOS Basics**](ios-pentesting/ios-basics.md)
- [ ] Prepare your environment reading [**iOS Testing Environment**](ios-pentesting/ios-testing-environment.md)
- [ ] Read all the sections of [**iOS Initial Analysis**](ios-pentesting/#initial-analysis) to learn common actions to pentest an iOS application

### Data Storage

- [ ] [**Plist files**](ios-pentesting/#plist) can be used to store sensitive information.
- [ ] [**Core Data**](ios-pentesting/#core-data) (SQLite 데이터베이스)는 민감한 정보를 저장할 수 있습니다.
- [ ] [**YapDatabases**](ios-pentesting/#yapdatabase) (SQLite 데이터베이스)는 민감한 정보를 저장할 수 있습니다.
- [ ] [**Firebase**](ios-pentesting/#firebase-real-time-databases) 잘못된 구성.
- [ ] [**Realm databases**](ios-pentesting/#realm-databases)는 민감한 정보를 저장할 수 있습니다.
- [ ] [**Couchbase Lite databases**](ios-pentesting/#couchbase-lite-databases)는 민감한 정보를 저장할 수 있습니다.
- [ ] [**Binary cookies**](ios-pentesting/#cookies)는 민감한 정보를 저장할 수 있습니다.
- [ ] [**Cache data**](ios-pentesting/#cache)는 민감한 정보를 저장할 수 있습니다.
- [ ] [**Automatic snapshots**](ios-pentesting/#snapshots)는 시각적 민감한 정보를 저장할 수 있습니다.
- [ ] [**Keychain**](ios-pentesting/#keychain)은 일반적으로 전화기를 재판매할 때 남길 수 있는 민감한 정보를 저장하는 데 사용됩니다.
- [ ] 요약하면, **파일 시스템에 저장된 애플리케이션의 민감한 정보를 확인하세요.**

### Keyboards

- [ ] Does the application [**allow to use custom keyboards**](ios-pentesting/#custom-keyboards-keyboard-cache)?
- [ ] Check if sensitive information is saved in the [**keyboards cache files**](ios-pentesting/#custom-keyboards-keyboard-cache)

### **Logs**

- [ ] Check if [**sensitive information is being logged**](ios-pentesting/#logs)

### Backups

- [ ] [**Backups**](ios-pentesting/#backups)는 파일 시스템에 저장된 **민감한 정보에 접근하는 데 사용될 수 있습니다** (이 체크리스트의 초기 포인트를 확인하세요).
- [ ] 또한, [**backups**](ios-pentesting/#backups)는 **애플리케이션의 일부 구성을 수정하는 데 사용될 수 있으며**, 그런 다음 **백업을 전화기에 복원하면**, **수정된 구성**이 **로드**되면서 일부 (보안) **기능**이 **우회될 수 있습니다.**

### **Applications Memory**

- [ ] Check for sensitive information inside the [**application's memory**](ios-pentesting/#testing-memory-for-sensitive-data)

### **Broken Cryptography**

- [ ] Check if you can find [**passwords used for cryptography**](ios-pentesting/#broken-cryptography)
- [ ] Check for the use of [**deprecated/weak algorithms**](ios-pentesting/#broken-cryptography) to send/store sensitive data
- [ ] [**Hook and monitor cryptography functions**](ios-pentesting/#broken-cryptography)

### **Local Authentication**

- [ ] If a [**local authentication**](ios-pentesting/#local-authentication)가 애플리케이션에서 사용된다면, 인증이 어떻게 작동하는지 확인해야 합니다.
- [ ] [**Local Authentication Framework**](ios-pentesting/#local-authentication-framework)를 사용하고 있다면 쉽게 우회될 수 있습니다.
- [ ] [**동적으로 우회할 수 있는 함수**](ios-pentesting/#local-authentication-using-keychain)를 사용하고 있다면, 사용자 정의 frida 스크립트를 만들 수 있습니다.

### Sensitive Functionality Exposure Through IPC

- [**Custom URI Handlers / Deeplinks / Custom Schemes**](ios-pentesting/#custom-uri-handlers-deeplinks-custom-schemes)
- [ ] Check if the application is **registering any protocol/scheme**
- [ ] Check if the application is **registering to use** any protocol/scheme
- [ ] Check if the application **expects to receive any kind of sensitive information** from the custom scheme that can be **intercepted** by another application registering the same scheme
- [ ] Check if the application **isn't checking and sanitizing** users input via the custom scheme and some **vulnerability can be exploited**
- [ ] Check if the application **exposes any sensitive action** that can be called from anywhere via the custom scheme
- [**Universal Links**](ios-pentesting/#universal-links)
- [ ] Check if the application is **registering any universal protocol/scheme**
- [ ] Check the `apple-app-site-association` file
- [ ] Check if the application **isn't checking and sanitizing** users input via the custom scheme and some **vulnerability can be exploited**
- [ ] Check if the application **exposes any sensitive action** that can be called from anywhere via the custom scheme
- [**UIActivity Sharing**](ios-pentesting/ios-uiactivity-sharing.md)
- [ ] Check if the application can receive UIActivities and if it's possible to exploit any vulnerability with specially crafted activity
- [**UIPasteboard**](ios-pentesting/ios-uipasteboard.md)
- [ ] Check if the application if **copying anything to the general pasteboard**
- [ ] Check if the application if **using the data from the general pasteboard for anything**
- [ ] Monitor the pasteboard to see if any **sensitive data is copied**
- [**App Extensions**](ios-pentesting/ios-app-extensions.md)
- [ ] Is the application **using any extension**?
- [**WebViews**](ios-pentesting/ios-webviews.md)
- [ ] Check which kind of webviews are being used
- [ ] Check the status of **`javaScriptEnabled`**, **`JavaScriptCanOpenWindowsAutomatically`**, **`hasOnlySecureContent`**
- [ ] Check if the webview can **access local files** with the protocol **file://** **(**`allowFileAccessFromFileURLs`, `allowUniversalAccessFromFileURLs`)
- [ ] Check if Javascript can access **Native** **methods** (`JSContext`, `postMessage`)

### Network Communication

- [ ] Perform a [**MitM to the communication**](ios-pentesting/#network-communication) and search for web vulnerabilities.
- [ ] Check if the [**hostname of the certificate**](ios-pentesting/#hostname-check) is checked
- [ ] Check/Bypass [**Certificate Pinning**](ios-pentesting/#certificate-pinning)

### **Misc**

- [ ] Check for [**automatic patching/updating**](ios-pentesting/#hot-patching-enforced-updateing) mechanisms
- [ ] Check for [**malicious third party libraries**](ios-pentesting/#third-parties)

{{#include ../banners/hacktricks-training.md}}
