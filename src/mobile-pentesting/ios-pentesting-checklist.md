# iOS Pentesting Checklist

{{#include ../banners/hacktricks-training.md}}

### Préparation

- [ ] Lire [**iOS Basics**](ios-pentesting/ios-basics.md)
- [ ] Préparer votre environnement en lisant [**iOS Testing Environment**](ios-pentesting/ios-testing-environment.md)
- [ ] Lire toutes les sections de [**iOS Initial Analysis**](ios-pentesting/index.html#initial-analysis) pour apprendre les actions courantes à effectuer lors du pentesting d'une application iOS

### Stockage de données

- [ ] [**Plist files**](ios-pentesting/index.html#plist) peuvent être utilisés pour stocker des informations sensibles.
- [ ] [**Core Data**](ios-pentesting/index.html#core-data) (base de données SQLite) peut stocker des informations sensibles.
- [ ] [**YapDatabases**](ios-pentesting/index.html#yapdatabase) (base de données SQLite) peut stocker des informations sensibles.
- [ ] [**Firebase**](ios-pentesting/index.html#firebase-real-time-databases) mauvaise configuration.
- [ ] [**Realm databases**](ios-pentesting/index.html#realm-databases) peuvent stocker des informations sensibles.
- [ ] [**Couchbase Lite databases**](ios-pentesting/index.html#couchbase-lite-databases) peuvent stocker des informations sensibles.
- [ ] [**Binary cookies**](ios-pentesting/index.html#cookies) peuvent stocker des informations sensibles
- [ ] [**Cache data**](ios-pentesting/index.html#cache) peut stocker des informations sensibles
- [ ] [**Automatic snapshots**](ios-pentesting/index.html#snapshots) peuvent sauvegarder des informations visuelles sensibles
- [ ] [**Keychain**](ios-pentesting/index.html#keychain) est généralement utilisé pour stocker des informations sensibles qui peuvent être laissées lors de la revente du téléphone.
- [ ] En résumé, juste **vérifiez les informations sensibles sauvegardées par l'application dans le système de fichiers**

### Claviers

- [ ] L'application [**permet-elle d'utiliser des claviers personnalisés**](ios-pentesting/index.html#custom-keyboards-keyboard-cache)?
- [ ] Vérifiez si des informations sensibles sont sauvegardées dans les [**fichiers de cache des claviers**](ios-pentesting/index.html#custom-keyboards-keyboard-cache)

### **Logs**

- [ ] Vérifiez si [**des informations sensibles sont enregistrées**](ios-pentesting/index.html#logs)

### Sauvegardes

- [ ] [**Backups**](ios-pentesting/index.html#backups) peuvent être utilisés pour **accéder aux informations sensibles** sauvegardées dans le système de fichiers (vérifiez le point initial de cette liste de contrôle)
- [ ] De plus, [**backups**](ios-pentesting/index.html#backups) peuvent être utilisés pour **modifier certaines configurations de l'application**, puis **restaurer** la sauvegarde sur le téléphone, et comme la **configuration modifiée** est **chargée**, certaines (sécurités) **fonctionnalités** peuvent être **contournées**

### **Mémoire des applications**

- [ ] Vérifiez les informations sensibles à l'intérieur de la [**mémoire de l'application**](ios-pentesting/index.html#testing-memory-for-sensitive-data)

### **Cryptographie cassée**

- [ ] Vérifiez si vous pouvez trouver [**des mots de passe utilisés pour la cryptographie**](ios-pentesting/index.html#broken-cryptography)
- [ ] Vérifiez l'utilisation d'[**algorithmes obsolètes/faibles**](ios-pentesting/index.html#broken-cryptography) pour envoyer/stocker des données sensibles
- [ ] [**Hook et surveiller les fonctions de cryptographie**](ios-pentesting/index.html#broken-cryptography)

### **Authentification locale**

- [ ] Si une [**authentification locale**](ios-pentesting/index.html#local-authentication) est utilisée dans l'application, vous devez vérifier comment l'authentification fonctionne.
- [ ] Si elle utilise le [**Local Authentication Framework**](ios-pentesting/index.html#local-authentication-framework), elle pourrait être facilement contournée
- [ ] Si elle utilise une [**fonction qui peut être contournée dynamiquement**](ios-pentesting/index.html#local-authentication-using-keychain), vous pourriez créer un script frida personnalisé

### Exposition de fonctionnalités sensibles via IPC

- [**Custom URI Handlers / Deeplinks / Custom Schemes**](ios-pentesting/index.html#custom-uri-handlers-deeplinks-custom-schemes)
- [ ] Vérifiez si l'application **enregistre un protocole/schéma**
- [ ] Vérifiez si l'application **s'enregistre pour utiliser** un protocole/schéma
- [ ] Vérifiez si l'application **s'attend à recevoir un type d'informations sensibles** du schéma personnalisé qui peut être **intercepté** par une autre application enregistrant le même schéma
- [ ] Vérifiez si l'application **ne vérifie pas et ne nettoie pas** les entrées des utilisateurs via le schéma personnalisé et qu'une **vulnérabilité peut être exploitée**
- [ ] Vérifiez si l'application **expose une action sensible** qui peut être appelée de n'importe où via le schéma personnalisé
- [**Universal Links**](ios-pentesting/index.html#universal-links)
- [ ] Vérifiez si l'application **enregistre un protocole/schéma universel**
- [ ] Vérifiez le fichier `apple-app-site-association`
- [ ] Vérifiez si l'application **ne vérifie pas et ne nettoie pas** les entrées des utilisateurs via le schéma personnalisé et qu'une **vulnérabilité peut être exploitée**
- [ ] Vérifiez si l'application **expose une action sensible** qui peut être appelée de n'importe où via le schéma personnalisé
- [**UIActivity Sharing**](ios-pentesting/ios-uiactivity-sharing.md)
- [ ] Vérifiez si l'application peut recevoir des UIActivities et s'il est possible d'exploiter une vulnérabilité avec une activité spécialement conçue
- [**UIPasteboard**](ios-pentesting/ios-uipasteboard.md)
- [ ] Vérifiez si l'application **copie quoi que ce soit dans le presse-papiers général**
- [ ] Vérifiez si l'application **utilise les données du presse-papiers général pour quoi que ce soit**
- [ ] Surveillez le presse-papiers pour voir si des **données sensibles sont copiées**
- [**App Extensions**](ios-pentesting/ios-app-extensions.md)
- [ ] L'application **utilise-t-elle une extension**?
- [**WebViews**](ios-pentesting/ios-webviews.md)
- [ ] Vérifiez quel type de webviews est utilisé
- [ ] Vérifiez l'état de **`javaScriptEnabled`**, **`JavaScriptCanOpenWindowsAutomatically`**, **`hasOnlySecureContent`**
- [ ] Vérifiez si le webview peut **accéder aux fichiers locaux** avec le protocole **file://** **(**`allowFileAccessFromFileURLs`, `allowUniversalAccessFromFileURLs`)
- [ ] Vérifiez si Javascript peut accéder aux **méthodes** **Native** (`JSContext`, `postMessage`)

### Communication réseau

- [ ] Effectuez un [**MitM sur la communication**](ios-pentesting/index.html#network-communication) et recherchez des vulnérabilités web.
- [ ] Vérifiez si le [**nom d'hôte du certificat**](ios-pentesting/index.html#hostname-check) est vérifié
- [ ] Vérifiez/Contournez [**Certificate Pinning**](ios-pentesting/index.html#certificate-pinning)

### **Divers**

- [ ] Vérifiez les mécanismes de [**patching/mise à jour automatique**](ios-pentesting/index.html#hot-patching-enforced-updateing)
- [ ] Vérifiez les [**bibliothèques tierces malveillantes**](ios-pentesting/index.html#third-parties)

{{#include ../banners/hacktricks-training.md}}
