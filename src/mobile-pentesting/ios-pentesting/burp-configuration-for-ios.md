# iOS Burp Suite Configuration

{{#include ../../banners/hacktricks-training.md}}

## Installing the Burp Certificate on iOS Devices

सुरक्षित वेब ट्रैफ़िक विश्लेषण और iOS उपकरणों पर SSL पिनिंग के लिए, Burp Suite का उपयोग **Burp Mobile Assistant** के माध्यम से या मैनुअल कॉन्फ़िगरेशन के माध्यम से किया जा सकता है। नीचे दोनों विधियों पर एक संक्षिप्त मार्गदर्शिका दी गई है:

### Automated Installation with Burp Mobile Assistant

**Burp Mobile Assistant** Burp Certificate, प्रॉक्सी कॉन्फ़िगरेशन और SSL पिनिंग की स्थापना प्रक्रिया को सरल बनाता है। विस्तृत मार्गदर्शन [PortSwigger के आधिकारिक दस्तावेज़](https://portswigger.net/burp/documentation/desktop/tools/mobile-assistant/installing) पर पाया जा सकता है।

### Manual Installation Steps

1. **Proxy Configuration:** iPhone की Wi-Fi सेटिंग्स के तहत Burp को प्रॉक्सी के रूप में सेट करें।
2. **Certificate Download:** अपने उपकरण के ब्राउज़र पर `http://burp` पर जाएं और प्रमाणपत्र डाउनलोड करें।
3. **Certificate Installation:** डाउनलोड किए गए प्रोफ़ाइल को **Settings** > **General** > **VPN & Device Management** के माध्यम से स्थापित करें, फिर **Certificate Trust Settings** के तहत PortSwigger CA के लिए विश्वास सक्षम करें।

### Configuring an Interception Proxy

यह सेटअप Burp के माध्यम से iOS उपकरण और इंटरनेट के बीच ट्रैफ़िक विश्लेषण की अनुमति देता है, जिसके लिए एक Wi-Fi नेटवर्क की आवश्यकता होती है जो क्लाइंट-से-क्लाइंट ट्रैफ़िक का समर्थन करता है। यदि उपलब्ध नहीं है, तो usbmuxd के माध्यम से USB कनेक्शन एक विकल्प के रूप में कार्य कर सकता है। PortSwigger के ट्यूटोरियल [डिवाइस कॉन्फ़िगरेशन](https://support.portswigger.net/customer/portal/articles/1841108-configuring-an-ios-device-to-work-with-burp) और [प्रमाणपत्र स्थापना](https://support.portswigger.net/customer/portal/articles/1841109-installing-burp-s-ca-certificate-in-an-ios-device) पर गहन निर्देश प्रदान करते हैं।

### Advanced Configuration for Jailbroken Devices

जेलब्रोकन उपकरणों वाले उपयोगकर्ताओं के लिए, USB के माध्यम से SSH ( **iproxy** के माध्यम से) एक विधि प्रदान करता है जिससे ट्रैफ़िक को सीधे Burp के माध्यम से रूट किया जा सकता है:

1.  **Establish SSH Connection:** iproxy का उपयोग करके SSH को localhost पर अग्रेषित करें, जिससे iOS उपकरण से Burp चला रहे कंप्यूटर से कनेक्शन की अनुमति मिलती है।

```bash
iproxy 2222 22
```

2.  **Remote Port Forwarding:** iOS उपकरण के पोर्ट 8080 को कंप्यूटर के localhost पर अग्रेषित करें ताकि Burp के इंटरफ़ेस तक सीधी पहुंच सक्षम हो सके।

```bash
ssh -R 8080:localhost:8080 root@localhost -p 2222
```

3.  **Global Proxy Setting:** अंत में, iOS उपकरण की Wi-Fi सेटिंग्स को मैनुअल प्रॉक्सी का उपयोग करने के लिए कॉन्फ़िगर करें, जिससे सभी वेब ट्रैफ़िक Burp के माध्यम से निर्देशित हो सके।

### Full Network Monitoring/Sniffing

गैर-HTTP डिवाइस ट्रैफ़िक की निगरानी **Wireshark** का उपयोग करके प्रभावी ढंग से की जा सकती है, जो सभी प्रकार के डेटा ट्रैफ़िक को कैप्चर करने में सक्षम एक उपकरण है। iOS उपकरणों के लिए, वास्तविक समय ट्रैफ़िक निगरानी एक Remote Virtual Interface बनाने के माध्यम से सक्षम की जाती है, जिसकी प्रक्रिया [इस Stack Overflow पोस्ट](https://stackoverflow.com/questions/9555403/capturing-mobile-phone-traffic-on-wireshark/33175819#33175819) में विस्तृत है। शुरू करने से पहले, macOS सिस्टम पर **Wireshark** की स्थापना एक पूर्वापेक्षा है।

इस प्रक्रिया में कई प्रमुख चरण शामिल हैं:

1. iOS उपकरण और macOS होस्ट के बीच USB के माध्यम से एक कनेक्शन शुरू करें।
2. iOS उपकरण का **UDID** सुनिश्चित करें, जो ट्रैफ़िक निगरानी के लिए आवश्यक है। यह macOS टर्मिनल में एक कमांड निष्पादित करके किया जा सकता है:
```bash
$ rvictl -s <UDID>
Starting device <UDID> [SUCCEEDED] with interface rvi0
```
3. UDID की पहचान के बाद, **Wireshark** खोला जाएगा, और डेटा कैप्चर के लिए "rvi0" इंटरफेस का चयन किया जाएगा।  
4. लक्षित निगरानी के लिए, जैसे कि एक विशिष्ट IP पते से संबंधित HTTP ट्रैफ़िक को कैप्चर करना, Wireshark के कैप्चर फ़िल्टर का उपयोग किया जा सकता है:

## सिम्युलेटर में Burp प्रमाणपत्र स्थापना

- **Burp प्रमाणपत्र निर्यात करें**

_Proxy_ --> _Options_ --> _Export CA certificate_ --> _Certificate in DER format_

![](<../../images/image (534).png>)

- **प्रमाणपत्र को इम्यूलेटर के अंदर खींचें और छोड़ें**  
- **इम्यूलेटर के अंदर** _Settings_ --> _General_ --> _Profile_ --> _PortSwigger CA_ पर जाएं, और **प्रमाणपत्र की पुष्टि करें**  
- **इम्यूलेटर के अंदर** _Settings_ --> _General_ --> _About_ --> _Certificate Trust Settings_ पर जाएं, और **PortSwigger CA को सक्षम करें**  

![](<../../images/image (1048).png>)

**बधाई हो, आपने iOS सिम्युलेटर में Burp CA प्रमाणपत्र सफलतापूर्वक कॉन्फ़िगर कर लिया है**

> [!NOTE]  
> **iOS सिम्युलेटर MacOS की प्रॉक्सी कॉन्फ़िगरेशन का उपयोग करेगा।**

### MacOS प्रॉक्सी कॉन्फ़िगरेशन

Burp को प्रॉक्सी के रूप में कॉन्फ़िगर करने के लिए कदम:

- _System Preferences_ --> _Network_ --> _Advanced_ पर जाएं  
- _Proxies_ टैब में _Web Proxy (HTTP)_ और _Secure Web Proxy (HTTPS)_ को चिह्नित करें  
- दोनों विकल्पों में _127.0.0.1:8080_ कॉन्फ़िगर करें  

![](<../../images/image (431).png>)

- _**Ok**_ पर क्लिक करें और फिर _**Apply**_ पर क्लिक करें  


{{#include ../../banners/hacktricks-training.md}}
