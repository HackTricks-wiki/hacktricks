# iOS Burp Suite Konfigurasie

{{#include ../../banners/hacktricks-training.md}}

## Installasie van die Burp Sertifikaat op iOS Toestelle

Vir veilige webverkeer analise en SSL pinning op iOS toestelle, kan die Burp Suite gebruik word deur die **Burp Mobile Assistant** of deur handmatige konfigurasie. Hieronder is 'n samegevatte gids oor beide metodes:

### Geoutomatiseerde Installasie met Burp Mobile Assistant

Die **Burp Mobile Assistant** vereenvoudig die installasieproses van die Burp Sertifikaat, proxy konfigurasie, en SSL Pinning. Gedetailleerde leiding kan gevind word op [PortSwigger se amptelike dokumentasie](https://portswigger.net/burp/documentation/desktop/tools/mobile-assistant/installing).

### Handmatige Installasie Stappe

1. **Proxy Konfigurasie:** Begin deur Burp as die proxy onder die iPhone se Wi-Fi instellings in te stel.
2. **Sertifikaat Aflaai:** Navigeer na `http://burp` op jou toestel se blaaier om die sertifikaat af te laai.
3. **Sertifikaat Installasie:** Installeer die afgelaaide profiel via **Instellings** > **Algemeen** > **VPN & Toestelbestuur**, en stel dan vertroue in vir die PortSwigger CA onder **Sertifikaat Vertrou Instellings**.

### Konfigurasie van 'n Interceptie Proxy

Die opstelling stel verkeer analise tussen die iOS toestel en die internet deur Burp in staat, wat 'n Wi-Fi netwerk vereis wat kliënt-tot-kliënt verkeer ondersteun. As dit nie beskikbaar is nie, kan 'n USB-verbinding via usbmuxd as 'n alternatief dien. PortSwigger se tutorials bied diepgaande instruksies oor [toestel konfigurasie](https://support.portswigger.net/customer/portal/articles/1841108-configuring-an-ios-device-to-work-with-burp) en [sertifikaat installasie](https://support.portswigger.net/customer/portal/articles/1841109-installing-burp-s-ca-certificate-in-an-ios-device).

### Gevorderde Konfigurasie vir Jailbroken Toestelle

Vir gebruikers met jailbroken toestelle, bied SSH oor USB (via **iproxy**) 'n metode om verkeer direk deur Burp te lei:

1.  **Stel SSH Verbinding in:** Gebruik iproxy om SSH na localhost te stuur, wat verbinding van die iOS toestel na die rekenaar wat Burp draai, toelaat.

```bash
iproxy 2222 22
```

2.  **Afgeleide Poort Stuur:** Stuur die iOS toestel se poort 8080 na die rekenaar se localhost om direkte toegang tot Burp se koppelvlak moontlik te maak.

```bash
ssh -R 8080:localhost:8080 root@localhost -p 2222
```

3.  **Globale Proxy Instelling:** Laastens, stel die iOS toestel se Wi-Fi instellings in om 'n handmatige proxy te gebruik, wat al webverkeer deur Burp lei.

### Volledige Netwerk Monitering/Sniffing

Monitering van nie-HTTP toestel verkeer kan doeltreffend uitgevoer word met **Wireshark**, 'n hulpmiddel wat in staat is om alle vorme van dataverkeer te vang. Vir iOS toestelle, word werklike tyd verkeer monitering gefasiliteer deur die skepping van 'n Remote Virtual Interface, 'n proses wat in [hierdie Stack Overflow pos](https://stackoverflow.com/questions/9555403/capturing-mobile-phone-traffic-on-wireshark/33175819#33175819) gedetailleerd word. Voor jy begin, is die installasie van **Wireshark** op 'n macOS stelsel 'n vereiste.

Die prosedure behels verskeie sleutelstappe:

1. Begin 'n verbinding tussen die iOS toestel en die macOS gasheer via USB.
2. Bepaal die iOS toestel se **UDID**, 'n noodsaaklike stap vir verkeer monitering. Dit kan gedoen word deur 'n opdrag in die macOS Terminal uit te voer:
```bash
$ rvictl -s <UDID>
Starting device <UDID> [SUCCEEDED] with interface rvi0
```
3. Na die identifikasie van die UDID, **Wireshark** moet geopen word, en die "rvi0" koppelvlak gekies word vir datavang.
4. Vir geteikende monitering, soos om HTTP-verkeer wat verband hou met 'n spesifieke IP-adres te vang, kan Wireshark se Vang Filters gebruik word:

## Burp Sertifikaat Installasie in Simulator

- **Eksporteer Burp Sertifikaat**

In _Proxy_ --> _Options_ --> _Export CA certificate_ --> _Certificate in DER format_

![](<../../images/image (534).png>)

- **Sleep en Laat Val** die sertifikaat binne die Emulator
- **Binne die emulator** gaan na _Settings_ --> _General_ --> _Profile_ --> _PortSwigger CA_, en **verifieer die sertifikaat**
- **Binne die emulator** gaan na _Settings_ --> _General_ --> _About_ --> _Certificate Trust Settings_, en **aktiveer PortSwigger CA**

![](<../../images/image (1048).png>)

**Baie geluk, jy het die Burp CA Sertifikaat suksesvol in die iOS simulator geconfigureer**

> [!NOTE]
> **Die iOS simulator sal die proxy konfigurasies van die MacOS gebruik.**

### MacOS Proxy Konfigurasie

Stappe om Burp as proxy te konfigureer:

- Gaan na _System Preferences_ --> _Network_ --> _Advanced_
- In die _Proxies_ tab merk _Web Proxy (HTTP)_ en _Secure Web Proxy (HTTPS)_
- In albei opsies konfigureer _127.0.0.1:8080_

![](<../../images/image (431).png>)

- Klik op _**Ok**_ en dan op _**Apply**_


{{#include ../../banners/hacktricks-training.md}}
