# Reversing Native Libraries

{{#include ../../banners/hacktricks-training.md}}

<figure><img src="/images/image (2).png" alt=""><figcaption></figcaption></figure>

अपने **मोबाइल सुरक्षा** में विशेषज्ञता को 8kSec अकादमी के साथ गहरा करें। हमारे आत्म-गति पाठ्यक्रमों के माध्यम से iOS और Android सुरक्षा में महारत हासिल करें और प्रमाणित हों:

{% embed url="https://academy.8ksec.io/" %}

**अधिक जानकारी के लिए देखें:** [**https://maddiestone.github.io/AndroidAppRE/reversing_native_libs.html**](https://maddiestone.github.io/AndroidAppRE/reversing_native_libs.html)

Android ऐप्स प्रदर्शन-क्रिटिकल कार्यों के लिए आमतौर पर C या C++ में लिखी गई मूल पुस्तकालयों का उपयोग कर सकते हैं। मैलवेयर निर्माता भी इन पुस्तकालयों का उपयोग करते हैं, क्योंकि इन्हें DEX बाइटकोड की तुलना में उलटना कठिन होता है। यह अनुभाग Android के लिए अनुकूलित रिवर्स इंजीनियरिंग कौशल पर जोर देता है, न कि असेंबली भाषाओं को सिखाने पर। संगतता के लिए ARM और x86 संस्करणों के पुस्तकालय प्रदान किए जाते हैं।

### Key Points:

- **Android ऐप्स में मूल पुस्तकालय:**
- प्रदर्शन-गहन कार्यों के लिए उपयोग किया जाता है।
- C या C++ में लिखा गया, जिससे रिवर्स इंजीनियरिंग चुनौतीपूर्ण हो जाती है।
- `.so` (शेयर की गई वस्तु) प्रारूप में पाया जाता है, जो Linux बाइनरी के समान है।
- मैलवेयर निर्माता विश्लेषण को कठिन बनाने के लिए मूल कोड को प्राथमिकता देते हैं।
- **Java Native Interface (JNI) और Android NDK:**
- JNI Java विधियों को मूल कोड में लागू करने की अनुमति देता है।
- NDK मूल कोड लिखने के लिए Android-विशिष्ट उपकरणों का एक सेट है।
- JNI और NDK Java (या Kotlin) कोड को मूल पुस्तकालयों के साथ जोड़ते हैं।
- **पुस्तकालय लोडिंग और निष्पादन:**
- पुस्तकालयों को `System.loadLibrary` या `System.load` का उपयोग करके मेमोरी में लोड किया जाता है।
- पुस्तकालय लोड होने पर JNI_OnLoad निष्पादित होता है।
- Java द्वारा घोषित मूल विधियाँ मूल कार्यों से लिंक होती हैं, जिससे निष्पादन सक्षम होता है।
- **Java विधियों को मूल कार्यों से लिंक करना:**
- **डायनामिक लिंकिंग:** मूल पुस्तकालयों में कार्य नाम एक विशिष्ट पैटर्न से मेल खाते हैं, जिससे स्वचालित लिंकिंग की अनुमति मिलती है।
- **स्टेटिक लिंकिंग:** लिंकिंग के लिए `RegisterNatives` का उपयोग करता है, कार्य नामकरण और संरचना में लचीलापन प्रदान करता है।
- **रिवर्स इंजीनियरिंग उपकरण और तकनीकें:**
- Ghidra और IDA Pro जैसे उपकरण मूल पुस्तकालयों का विश्लेषण करने में मदद करते हैं।
- `JNIEnv` JNI कार्यों और इंटरैक्शन को समझने के लिए महत्वपूर्ण है।
- पुस्तकालयों को लोड करने, विधियों को लिंक करने और मूल कार्यों की पहचान करने का अभ्यास करने के लिए व्यायाम प्रदान किए जाते हैं।

### Resources:

- **ARM असेंबली सीखना:**
- अंतर्निहित आर्किटेक्चर की गहरी समझ के लिए सुझाया गया।
- Azeria Labs से [ARM Assembly Basics](https://azeria-labs.com/writing-arm-assembly-part-1/) की सिफारिश की गई है।
- **JNI और NDK दस्तावेज़:**
- [Oracle का JNI विनिर्देशन](https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/jniTOC.html)
- [Android के JNI टिप्स](https://developer.android.com/training/articles/perf-jni)
- [NDK के साथ शुरुआत करना](https://developer.android.com/ndk/guides/)
- **मूल पुस्तकालयों का डिबगिंग:**
- [JEB Decompiler का उपयोग करके Android मूल पुस्तकालयों को डिबग करें](https://medium.com/@shubhamsonani/how-to-debug-android-native-libraries-using-jeb-decompiler-eec681a22cf3)

<figure><img src="/images/image (2).png" alt=""><figcaption></figcaption></figure>

अपने **मोबाइल सुरक्षा** में विशेषज्ञता को 8kSec अकादमी के साथ गहरा करें। हमारे आत्म-गति पाठ्यक्रमों के माध्यम से iOS और Android सुरक्षा में महारत हासिल करें और प्रमाणित हों:

{% embed url="https://academy.8ksec.io/" %}

{{#include ../../banners/hacktricks-training.md}}
