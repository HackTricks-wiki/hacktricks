# Omgekeerde Native Biblioteke

{{#include ../../banners/hacktricks-training.md}}

<figure><img src="/images/image (2).png" alt=""><figcaption></figcaption></figure>

Verdiep jou kundigheid in **Mobiele Sekuriteit** met 8kSec Akademie. Beheers iOS en Android sekuriteit deur ons self-gebaseerde kursusse en ontvang 'n sertifikaat:

{% embed url="https://academy.8ksec.io/" %}

**Vir verdere inligting, kyk:** [**https://maddiestone.github.io/AndroidAppRE/reversing_native_libs.html**](https://maddiestone.github.io/AndroidAppRE/reversing_native_libs.html)

Android toepassings kan native biblioteke gebruik, tipies geskryf in C of C++, vir prestasiekritieke take. Malware-skeppers gebruik ook hierdie biblioteke, aangesien dit moeiliker is om om te keer as DEX bytecode. Die afdeling beklemtoon omgekeerde ingenieursvaardighede wat op Android toegespits is, eerder as om assembler tale te leer. ARM en x86 weergawes van biblioteke word verskaf vir kompatibiliteit.

### Sleutelpunte:

- **Native Biblioteke in Android Toepassings:**
- Gebruik vir prestasiewe intensive take.
- Geskryf in C of C++, wat omgekeerde ingenieurswese uitdagend maak.
- Gevind in `.so` (gedeelde objek) formaat, soortgelyk aan Linux binêre.
- Malware-skeppers verkies native kode om analise moeiliker te maak.
- **Java Native Interface (JNI) & Android NDK:**
- JNI laat Java metodes toe om in native kode geïmplementeer te word.
- NDK is 'n Android-spesifieke stel gereedskap om native kode te skryf.
- JNI en NDK verbind Java (of Kotlin) kode met native biblioteke.
- **Biblioteek Laai en Uitvoering:**
- Biblioteke word in geheue gelaai met `System.loadLibrary` of `System.load`.
- JNI_OnLoad word uitgevoer tydens biblioteeklaai.
- Java-verklaarde native metodes skakel na native funksies, wat uitvoering moontlik maak.
- **Koppeling van Java Metodes aan Native Funksies:**
- **Dinamiese Koppeling:** Funksie name in native biblioteke stem ooreen met 'n spesifieke patroon, wat outomatiese koppeling moontlik maak.
- **Statische Koppeling:** Gebruik `RegisterNatives` vir koppeling, wat buigsaamheid in funksienaam en struktuur bied.
- **Omgekeerde Ingenieursgereedskap en Tegnieke:**
- Gereedskap soos Ghidra en IDA Pro help om native biblioteke te analiseer.
- `JNIEnv` is noodsaaklik om JNI funksies en interaksies te verstaan.
- Oefeninge word verskaf om te oefen met die laai van biblioteke, die koppeling van metodes, en die identifisering van native funksies.

### Hulpbronne:

- **Leer ARM Assembly:**
- Aangerade vir 'n dieper begrip van die onderliggende argitektuur.
- [ARM Assembly Basics](https://azeria-labs.com/writing-arm-assembly-part-1/) van Azeria Labs word aanbeveel.
- **JNI & NDK Dokumentasie:**
- [Oracle se JNI Spesifikasie](https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/jniTOC.html)
- [Android se JNI Wenke](https://developer.android.com/training/articles/perf-jni)
- [Begin met die NDK](https://developer.android.com/ndk/guides/)
- **Foutopsporing van Native Biblioteke:**
- [Foutopsporing van Android Native Biblioteke met JEB Decompiler](https://medium.com/@shubhamsonani/how-to-debug-android-native-libraries-using-jeb-decompiler-eec681a22cf3)

<figure><img src="/images/image (2).png" alt=""><figcaption></figcaption></figure>

Verdiep jou kundigheid in **Mobiele Sekuriteit** met 8kSec Akademie. Beheers iOS en Android sekuriteit deur ons self-gebaseerde kursusse en ontvang 'n sertifikaat:

{% embed url="https://academy.8ksec.io/" %}

{{#include ../../banners/hacktricks-training.md}}
