# 포인터 리디렉션

{{#include ../../../banners/hacktricks-training.md}}

## 문자열 포인터

함수 호출이 스택에 위치한 문자열의 주소를 사용할 경우, 버퍼 오버플로우를 악용하여 **이 주소를 덮어쓰고** **이진 파일 내의 다른 문자열의 주소**를 넣을 수 있습니다.

예를 들어, **`system`** 함수 호출이 **명령을 실행하기 위해 문자열의 주소를 사용할 경우**, 공격자는 **스택에 다른 문자열의 주소**인 **`export PATH=.:$PATH`**를 배치하고 현재 디렉토리에 **새 문자열의 첫 글자 이름을 가진 스크립트**를 생성할 수 있습니다. 이는 이진 파일에 의해 실행됩니다.

다음에서 이 예제를 찾을 수 있습니다:

- [https://github.com/florianhofhammer/stack-buffer-overflow-internship/blob/master/ASLR%20Smack%20and%20Laugh%20reference%20-%20Tilo%20Mueller/strptr.c](https://github.com/florianhofhammer/stack-buffer-overflow-internship/blob/master/ASLR%20Smack%20and%20Laugh%20reference%20-%20Tilo%20Mueller/strptr.c)
- [https://guyinatuxedo.github.io/04-bof_variable/tw17_justdoit/index.html](https://guyinatuxedo.github.io/04-bof_variable/tw17_justdoit/index.html)
- 32비트, 스택에서 플래그 문자열의 주소를 변경하여 `puts`에 의해 출력되도록 함

## 함수 포인터

문자열 포인터와 동일하지만 함수에 적용됩니다. **스택에 호출될 함수의 주소**가 포함되어 있는 경우, 이를 **변경할 수 있습니다** (예: **`system`** 호출).

다음에서 예제를 찾을 수 있습니다:

- [https://github.com/florianhofhammer/stack-buffer-overflow-internship/blob/master/ASLR%20Smack%20and%20Laugh%20reference%20-%20Tilo%20Mueller/funcptr.c](https://github.com/florianhofhammer/stack-buffer-overflow-internship/blob/master/ASLR%20Smack%20and%20Laugh%20reference%20-%20Tilo%20Mueller/funcptr.c)

## 참고문헌

- [https://github.com/florianhofhammer/stack-buffer-overflow-internship/blob/master/NOTES.md#pointer-redirecting](https://github.com/florianhofhammer/stack-buffer-overflow-internship/blob/master/NOTES.md#pointer-redirecting)

{{#include ../../../banners/hacktricks-training.md}}
