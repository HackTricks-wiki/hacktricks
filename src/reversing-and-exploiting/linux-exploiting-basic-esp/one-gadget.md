# One Gadget

{{#include ../../banners/hacktricks-training.md}}

## 基本情報

[**One Gadget**](https://github.com/david942j/one_gadget) は、**system** と **"/bin/sh"** を使用する代わりにシェルを取得することを可能にします。**One Gadget** は、libcライブラリ内でシェルを取得する方法 (`execve("/bin/sh")`) を1つの**アドレス**を使用して見つけます。\
しかし、通常はいくつかの制約があり、最も一般的で回避しやすいものは `[rsp+0x30] == NULL` です。**RSP** 内の値を制御しているため、制約を回避するためにいくつかのNULL値を送信するだけです。

![](<../../images/image (615).png>)
```python
ONE_GADGET = libc.address + 0x4526a
rop2 = base + p64(ONE_GADGET) + "\x00"*100
```
One Gadgetが示すアドレスには、**`libc`がロードされているベースアドレスを追加する必要があります**。

> [!TIP]
> One Gadgetは、**任意の書き込み2実行技術に非常に役立ち**、**ROPチェーンを簡素化する可能性があります**。なぜなら、1つのアドレスを呼び出すだけで済み（要件を満たす必要があります）。 

{{#include ../../banners/hacktricks-training.md}}
