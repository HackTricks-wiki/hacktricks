# Relro

{{#include ../../../banners/hacktricks-training.md}}

## Relro

**RELRO** inamaanisha **Relocation Read-Only**, na ni kipengele cha usalama kinachotumika katika binaries kupunguza hatari zinazohusiana na **GOT (Global Offset Table)** kuandikwa upya. Hebu tufafanue dhana hii katika aina zake mbili tofauti kwa uwazi: **Partial RELRO** na **Full RELRO**.

### **Partial RELRO**

**Partial RELRO** inachukua njia rahisi kuboresha usalama bila kuathiri sana utendaji wa binary. Kwa **kueka GOT juu ya mabadiliko ya programu katika kumbukumbu, Partial RELRO inalenga kuzuia overflows za buffer kufikia na kuharibu GOT**.&#x20;

Hii **haiwezi kuzuia GOT** kutumika vibaya **kutokana na udhaifu wa kuandika bila mpangilio**.

### **Full RELRO**

**Full RELRO** inaongeza ulinzi kwa **kufanya GOT kuwa isiyo na uwezo wa kuandikwa kabisa.** Mara binary inapoanza, anwani zote za kazi zinatatuliwa na kupakiwa katika GOT, kisha, GOT inakisiwa kama isiyo na uwezo wa kuandikwa, kwa ufanisi kuzuia mabadiliko yoyote kwake wakati wa utendaji.

Hata hivyo, gharama ya Full RELRO iko katika utendaji na muda wa kuanzisha. Kwa sababu inahitaji kutatua alama zote za dynamic wakati wa kuanzisha kabla ya kuashiria GOT kama isiyo na uwezo wa kuandikwa, **binaries zenye Full RELRO zimewezeshwa zinaweza kukumbana na muda mrefu wa kupakia**. Hii ziada ya gharama ya kuanzisha ndiyo sababu Full RELRO haijawahi kuwezeshwa kama chaguo la msingi katika binaries zote.

Inawezekana kuona kama Full RELRO imewezeshwa katika binary kwa:
```bash
readelf -l /proc/ID_PROC/exe | grep BIND_NOW
```
## Bypass

Ikiwa Full RELRO imewezeshwa, njia pekee ya kuipita ni kutafuta njia nyingine ambayo haitahitaji kuandika kwenye meza ya GOT ili kupata utekelezaji wa kiholela.

Kumbuka kwamba GOT ya LIBC kwa kawaida ni Partial RELRO, hivyo inaweza kubadilishwa kwa kuandika kiholela. Taarifa zaidi katika [Targetting libc GOT entries](https://github.com/nobodyisnobody/docs/blob/main/code.execution.on.last.libc/README.md#1---targetting-libc-got-entries).

{{#include ../../../banners/hacktricks-training.md}}
