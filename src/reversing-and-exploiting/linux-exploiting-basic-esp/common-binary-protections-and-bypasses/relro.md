# Relro

{{#include ../../../banners/hacktricks-training.md}}

## Relro

**RELRO**, **Yeniden Yerleştirme Sadece Okuma** anlamına gelir ve **GOT (Küresel Ofset Tablosu)** yazmalarına ilişkin riskleri azaltmak için ikili dosyalarda kullanılan bir güvenlik özelliğidir. Kavramı netlik için iki ayrı türüne ayıralım: **Kısmi RELRO** ve **Tam RELRO**.

### **Kısmi RELRO**

**Kısmi RELRO**, güvenliği artırmak için daha basit bir yaklaşım benimser ve ikili dosyanın performansını önemli ölçüde etkilemez. **GOT'u programın değişkenlerinin üzerinde bellekte konumlandırarak, Kısmi RELRO, tampon taşmaların GOT'a ulaşmasını ve onu bozmasını önlemeyi amaçlar.**

Bu, **GOT'un** **rastgele yazma** zafiyetleri tarafından kötüye kullanılmasını önlemez.

### **Tam RELRO**

**Tam RELRO**, **GOT'u tamamen sadece okunur hale getirerek** korumayı artırır. İkili dosya başladığında tüm fonksiyon adresleri çözülür ve GOT'a yüklenir, ardından GOT sadece okunur olarak işaretlenir, bu da çalışma zamanında herhangi bir değişikliğin önlenmesini sağlar.

Ancak, Tam RELRO'nun dezavantajı performans ve başlangıç süresidir. Çünkü GOT'u sadece okunur olarak işaretlemeden önce tüm dinamik sembolleri başlangıçta çözmesi gerekir, **Tam RELRO etkin olan ikili dosyalar daha uzun yükleme süreleri yaşayabilir.** Bu ek başlangıç yükü, Tam RELRO'nun tüm ikili dosyalarda varsayılan olarak etkin olmamasının nedenidir.

Bir ikili dosyada Tam RELRO'nun etkin olup olmadığını görmek mümkündür:
```bash
readelf -l /proc/ID_PROC/exe | grep BIND_NOW
```
## Bypass

Eğer Full RELRO etkinse, bunu aşmanın tek yolu, keyfi yürütme elde etmek için GOT tablosuna yazma gerektirmeyen başka bir yol bulmaktır.

LIBC'nin GOT'unun genellikle Partial RELRO olduğunu unutmayın, bu nedenle keyfi bir yazma ile değiştirilebilir. Daha fazla bilgi için [Targetting libc GOT entries](https://github.com/nobodyisnobody/docs/blob/main/code.execution.on.last.libc/README.md#1---targetting-libc-got-entries) bakın.

{{#include ../../../banners/hacktricks-training.md}}
