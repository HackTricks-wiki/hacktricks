# Relro

{{#include ../../../banners/hacktricks-training.md}}

## Relro

**RELRO** inamaanisha **Relocation Read-Only**, na ni kipengele cha usalama kinachotumika katika binaries kupunguza hatari zinazohusiana na **GOT (Global Offset Table)** overwrites. Hebu tufafanue dhana hii katika aina zake mbili tofauti kwa uwazi: **Partial RELRO** na **Full RELRO**.

### **Partial RELRO**

**Partial RELRO** inachukua njia rahisi kuboresha usalama bila kuathiri sana utendaji wa binary. Kwa **kueka GOT juu ya mabadiliko ya programu katika kumbukumbu, Partial RELRO inalenga kuzuia buffer overflows kufikia na kuharibu GOT**.

Hii **haiwezi kuzuia GOT** kutumika vibaya **kutokana na udhaifu wa kuandika bila mpangilio**.

### **Full RELRO**

**Full RELRO** inaongeza ulinzi kwa **kufanya GOT iwe ya kusoma tu.** Mara binary inapozinduliwa, anwani zote za kazi zinatatuliwa na kupakiwa katika GOT, kisha, GOT inakisiwa kama ya kusoma tu, kwa ufanisi kuzuia mabadiliko yoyote kwake wakati wa utendaji.

Hata hivyo, gharama ya Full RELRO iko katika utendaji na muda wa kuanzisha. Kwa sababu inahitaji kutatua alama zote za dynamic wakati wa kuanzisha kabla ya kuashiria GOT kama ya kusoma tu, **binaries zenye Full RELRO zimewezeshwa zinaweza kukumbana na muda mrefu wa kupakia**. Mzigo huu wa ziada wa kuanzisha ndio sababu Full RELRO haijawahi kuwezeshwa kama chaguo-msingi katika binaries zote.

Inawezekana kuona ikiwa Full RELRO imewezeshwa katika binary kwa:
```bash
readelf -l /proc/ID_PROC/exe | grep BIND_NOW
```
## Bypass

Ikiwa Full RELRO imewezeshwa, njia pekee ya kuipita ni kutafuta njia nyingine ambayo haitaji kuandika kwenye jedwali la GOT ili kupata utekelezaji wa kiholela.

Kumbuka kwamba GOT ya LIBC kwa kawaida ni Partial RELRO, hivyo inaweza kubadilishwa kwa kuandika kiholela. Taarifa zaidi katika [Targetting libc GOT entries](https://github.com/nobodyisnobody/docs/blob/main/code.execution.on.last.libc/README.md#1---targetting-libc-got-entries).

{{#include ../../../banners/hacktricks-training.md}}
