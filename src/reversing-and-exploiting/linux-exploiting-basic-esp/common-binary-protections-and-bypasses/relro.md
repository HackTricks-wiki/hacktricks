# Relro

{{#include ../../../banners/hacktricks-training.md}}

## Relro

**RELRO** significa **Relocation Read-Only**, y es una característica de seguridad utilizada en binarios para mitigar los riesgos asociados con sobrescrituras de **GOT (Global Offset Table)**. Desglosemos el concepto en sus dos tipos distintos para mayor claridad: **Partial RELRO** y **Full RELRO**.

### **Partial RELRO**

**Partial RELRO** adopta un enfoque más simple para mejorar la seguridad sin afectar significativamente el rendimiento del binario. Al **colocar el GOT por encima de las variables del programa en memoria, Partial RELRO busca prevenir que los desbordamientos de búfer alcancen y corrompan el GOT**.&#x20;

Esto **no impide que el GOT** sea abusado **por vulnerabilidades de escritura arbitraria**.

### **Full RELRO**

**Full RELRO** aumenta la protección al **hacer que el GOT sea completamente de solo lectura.** Una vez que el binario se inicia, todas las direcciones de función se resuelven y se cargan en el GOT, luego, el GOT se marca como de solo lectura, lo que efectivamente previene cualquier modificación durante el tiempo de ejecución.

Sin embargo, la desventaja de Full RELRO está en términos de rendimiento y tiempo de inicio. Debido a que necesita resolver todos los símbolos dinámicos al inicio antes de marcar el GOT como de solo lectura, **los binarios con Full RELRO habilitado pueden experimentar tiempos de carga más largos**. Este costo adicional de inicio es la razón por la cual Full RELRO no está habilitado por defecto en todos los binarios.

Es posible ver si Full RELRO está habilitado en un binario con:
```bash
readelf -l /proc/ID_PROC/exe | grep BIND_NOW
```
## Bypass

Si Full RELRO está habilitado, la única forma de eludirlo es encontrar otra manera que no necesite escribir en la tabla GOT para obtener ejecución arbitraria.

Tenga en cuenta que la GOT de LIBC suele ser Partial RELRO, por lo que se puede modificar con una escritura arbitraria. Más información en [Targetting libc GOT entries](https://github.com/nobodyisnobody/docs/blob/main/code.execution.on.last.libc/README.md#1---targetting-libc-got-entries).

{{#include ../../../banners/hacktricks-training.md}}
